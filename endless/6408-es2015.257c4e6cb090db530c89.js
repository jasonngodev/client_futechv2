(self.webpackChunkendless=self.webpackChunkendless||[]).push([[6408],{91605:function(t,e,n){var i=n(67816),o=n(42893),a=o;a.v1=i,a.v4=o,t.exports=a},74754:function(t){for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);t.exports=function(t,n){var i=n||0;return[e[t[i++]],e[t[i++]],e[t[i++]],e[t[i++]],"-",e[t[i++]],e[t[i++]],"-",e[t[i++]],e[t[i++]],"-",e[t[i++]],e[t[i++]],"-",e[t[i++]],e[t[i++]],e[t[i++]],e[t[i++]],e[t[i++]],e[t[i++]]].join("")}},34368:function(t){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);t.exports=function(){return e(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},67816:function(t,e,n){var i,o,a=n(34368),r=n(74754),l=0,s=0;t.exports=function(t,e,n){var c=e&&n||0,u=e||[],g=(t=t||{}).node||i,d=void 0!==t.clockseq?t.clockseq:o;if(null==g||null==d){var h=a();null==g&&(g=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=o=16383&(h[6]<<8|h[7]))}var _=void 0!==t.msecs?t.msecs:(new Date).getTime(),Z=void 0!==t.nsecs?t.nsecs:s+1,p=_-l+(Z-s)/1e4;if(p<0&&void 0===t.clockseq&&(d=d+1&16383),(p<0||_>l)&&void 0===t.nsecs&&(Z=0),Z>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=_,s=Z,o=d;var f=(1e4*(268435455&(_+=122192928e5))+Z)%4294967296;u[c++]=f>>>24&255,u[c++]=f>>>16&255,u[c++]=f>>>8&255,u[c++]=255&f;var A=_/4294967296*1e4&268435455;u[c++]=A>>>8&255,u[c++]=255&A,u[c++]=A>>>24&15|16,u[c++]=A>>>16&255,u[c++]=d>>>8|128,u[c++]=255&d;for(var m=0;m<6;++m)u[c+m]=g[m];return e||r(u)}},42893:function(t,e,n){var i=n(34368),o=n(74754);t.exports=function(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var l=0;l<16;++l)e[a+l]=r[l];return e||o(r)}},66408:function(t,e,n){"use strict";n.r(e),n.d(e,{FabricModule:function(){return le}});var i=n(3679),o=n(38583),a=n(39895),r=n(88259),l=n.n(r),s=n(16738),c=n(49962),u=n.n(c),g=n(65206),d=n(29022),h=n(91605),_=n(37716),Z=n(15483),p=n(12664),f=n(65925),A=n(75208),m=n(90217),x=n(49690),y=n(72214),q=n(81946),T=n(86640),S=n(72808),M=n(29790);function v(t,e){if(1&t){const t=_.EpF();_.ynx(0),_.TgZ(1,"div",16),_.TgZ(2,"button",17),_.NdJ("click",function(){const e=_.CHM(t).$implicit,n=_.oxw(),i=_.MAs(10);return n.switch(i,e)}),_._uU(3),_.ALo(4,"translate"),_.TgZ(5,"span",18),_._uU(6),_.qZA(),_.qZA(),_.qZA(),_.BQk()}if(2&t){const t=e.$implicit,n=_.oxw();_.xp6(2),_.Q6J("ngClass",t.id==n._flagSwitch?"btn btn-sm btn-warning":"btn btn-sm btn-primary"),_.xp6(1),_.hij(" ",_.lcZ(4,3,t.name)," "),_.xp6(3),_.Oqu(t.qty)}}function b(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"button",42),_.NdJ("click",function(){_.CHM(t);const e=_.oxw(2),n=_.MAs(12);return e.popupModal(n,null)}),_._uU(1),_.ALo(2,"translate"),_.qZA()}2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Add new")," "))}function C(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"button",44),_.NdJ("click",function(){_.CHM(t);const e=_.oxw(3);return e._deleteItemAll(e.exportList)}),_._uU(1),_.ALo(2,"translate"),_.qZA()}2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Delete all")," "))}function w(t,e){if(1&t&&(_.ynx(0),_.YNc(1,C,3,3,"button",43),_.BQk()),2&t){const t=_.oxw(2);_.xp6(1),_.Q6J("ngIf",t.exportList.length>0)}}function E(t,e){if(1&t){const t=_.EpF();_.ynx(0),_.TgZ(1,"button",45),_.NdJ("click",function(){_.CHM(t);const e=_.oxw(2);return e._exportAll(e.exportList)}),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.BQk()}2&t&&(_.xp6(2),_.hij(" ",_.lcZ(3,1,"Export")," "))}function N(t,e){1&t&&_._UZ(0,"img",46)}function L(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"div",47),_.TgZ(1,"div",48),_.TgZ(2,"div",49),_.TgZ(3,"pagination",50),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).pageIndex=e})("pageChanged",function(e){return _.CHM(t),_.oxw(2).pageChanged(e)}),_.qZA(),_.qZA(),_.TgZ(4,"div",51),_.TgZ(5,"a",52),_._uU(6),_.ALo(7,"translate"),_.ALo(8,"translate"),_.ALo(9,"translate"),_.ALo(10,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=_.oxw(2);_.xp6(3),_.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),_.xp6(3),_.Q0o("",_.lcZ(7,12,"Total of records"),": ",t.totalRow," - ",_.lcZ(8,14,"Page")," ",t.pageIndex," ",_.lcZ(9,16,"of")," ",t.totalPage," ",_.lcZ(10,18,"page"),"")}}function R(t,e){1&t&&(_.ynx(0),_.TgZ(1,"tr"),_.TgZ(2,"td",60),_.TgZ(3,"h4"),_._uU(4),_.ALo(5,"translate"),_.qZA(),_.qZA(),_.qZA(),_.BQk()),2&t&&(_.xp6(4),_.Oqu(_.lcZ(5,1,"No records now!!!")))}function U(t,e){1&t&&_._UZ(0,"i",70)}function W(t,e){1&t&&_._UZ(0,"i",71)}function k(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_._uU(2),_.qZA(),_.TgZ(3,"td"),_.TgZ(4,"input",61),_.NdJ("change",function(e){const n=_.CHM(t).$implicit;return _.oxw(4).selectItem(e,n.id)}),_.qZA(),_.qZA(),_.TgZ(5,"td"),_._uU(6),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.qZA(),_.TgZ(11,"td"),_._uU(12),_.qZA(),_.TgZ(13,"td"),_.YNc(14,U,1,0,"i",62),_.YNc(15,W,1,0,"i",63),_.qZA(),_.TgZ(16,"td"),_.TgZ(17,"button",64),_.NdJ("click",function(){const e=_.CHM(t).$implicit,n=_.oxw(4),i=_.MAs(12);return n.popupModal(i,e)}),_.ALo(18,"translate"),_._UZ(19,"i",65),_.qZA(),_.TgZ(20,"button",66),_.NdJ("click",function(){const e=_.CHM(t).$implicit,n=_.oxw(4),i=_.MAs(16);return n.popupContactModal(i,e)}),_.ALo(21,"translate"),_._UZ(22,"i",67),_.qZA(),_.TgZ(23,"button",68),_.NdJ("click",function(){const e=_.CHM(t).$implicit;return _.oxw(4).deleteItem(e)}),_.ALo(24,"translate"),_._UZ(25,"i",69),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=_.oxw(4);_.xp6(2),_.Oqu(n+1+i.pageSize*(i.pageIndex-1)),_.xp6(2),_.MGl("name","ckU1",n+1,""),_.Q6J("checked",i.exportList.includes(t.id)),_.xp6(2),_.Oqu(t.provider_name_l),_.xp6(2),_.Oqu(t.provider_name_e),_.xp6(2),_.Oqu(t.phone),_.xp6(2),_.Oqu(t.email),_.xp6(2),_.Q6J("ngIf",t.is_active),_.xp6(1),_.Q6J("ngIf",!t.is_active),_.xp6(2),_.Q6J("ngbTooltip",_.lcZ(18,12,"Edit")),_.xp6(3),_.Q6J("ngbTooltip",_.lcZ(21,14,"Contact")),_.xp6(3),_.Q6J("ngbTooltip",_.lcZ(24,16,"Delete"))}}function J(t,e){if(1&t&&(_.ynx(0),_.YNc(1,k,26,18,"tr",8),_.BQk()),2&t){const t=_.oxw(3);_.xp6(1),_.Q6J("ngForOf",t._categories)}}function Q(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"div",53),_.TgZ(1,"table",54),_.TgZ(2,"thead",55),_.TgZ(3,"tr"),_.TgZ(4,"th",56),_._uU(5,"#"),_.qZA(),_.TgZ(6,"th",57),_.TgZ(7,"input",58),_.NdJ("change",function(e){return _.CHM(t),_.oxw(2).selectAll(e)}),_.qZA(),_.qZA(),_.TgZ(8,"th",59),_._uU(9),_.ALo(10,"translate"),_.ALo(11,"translate"),_.qZA(),_.TgZ(12,"th",59),_._uU(13),_.ALo(14,"translate"),_.ALo(15,"translate"),_.qZA(),_.TgZ(16,"th",59),_._uU(17),_.ALo(18,"translate"),_.qZA(),_.TgZ(19,"th",59),_._uU(20),_.ALo(21,"translate"),_.qZA(),_.TgZ(22,"th",59),_._uU(23),_.ALo(24,"translate"),_.qZA(),_.TgZ(25,"th",59),_._uU(26),_.ALo(27,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(28,"tbody"),_.YNc(29,R,6,3,"ng-container",29),_.YNc(30,J,2,1,"ng-container",29),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=_.oxw(2);_.xp6(7),_.Q6J("disabled",0==t._categories.length)("checked",t.exportList.length==t._categories.length),_.xp6(2),_.AsE(" ",_.lcZ(10,12,"Provider name")," (",_.lcZ(11,14,"Vietnamese"),") "),_.xp6(4),_.AsE(" ",_.lcZ(14,16,"Provider name")," (",_.lcZ(15,18,"English"),") "),_.xp6(4),_.hij(" ",_.lcZ(18,20,"Phone")," "),_.xp6(3),_.hij(" ",_.lcZ(21,22,"Email")," "),_.xp6(3),_.Oqu(_.lcZ(24,24,"Status")),_.xp6(3),_.Oqu(_.lcZ(27,26,"Actions")),_.xp6(3),_.Q6J("ngIf",0==t._categories.length),_.xp6(1),_.Q6J("ngIf",t._categories.length>0)}}function O(t,e){1&t&&(_.ynx(0),_.TgZ(1,"tr"),_.TgZ(2,"td",72),_.TgZ(3,"h4"),_._uU(4),_.ALo(5,"translate"),_.qZA(),_.qZA(),_.qZA(),_.BQk()),2&t&&(_.xp6(4),_.Oqu(_.lcZ(5,1,"No records now!!!")))}function Y(t,e){1&t&&_._UZ(0,"i",70)}function H(t,e){1&t&&_._UZ(0,"i",71)}function D(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_._uU(2),_.qZA(),_.TgZ(3,"td"),_.TgZ(4,"input",61),_.NdJ("change",function(e){const n=_.CHM(t).$implicit;return _.oxw(4).selectItem(e,n.code)}),_.qZA(),_.qZA(),_.TgZ(5,"td"),_._uU(6),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.qZA(),_.TgZ(11,"td"),_.YNc(12,Y,1,0,"i",62),_.YNc(13,H,1,0,"i",63),_.qZA(),_.TgZ(14,"td"),_.TgZ(15,"button",64),_.NdJ("click",function(){const e=_.CHM(t).$implicit,n=_.oxw(4),i=_.MAs(12);return n.popupModal(i,e)}),_.ALo(16,"translate"),_._UZ(17,"i",65),_.qZA(),_.TgZ(18,"button",68),_.NdJ("click",function(){const e=_.CHM(t).$implicit;return _.oxw(4).deleteItem(e)}),_.ALo(19,"translate"),_._UZ(20,"i",69),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=_.oxw(4);_.xp6(2),_.Oqu(n+1+i.pageSize*(i.pageIndex-1)),_.xp6(2),_.MGl("name","ckU1",n+1,""),_.Q6J("checked",i.exportList.includes(t.code)),_.xp6(2),_.Oqu(t.code),_.xp6(2),_.Oqu(t.color_name_l),_.xp6(2),_.Oqu(t.color_name_e),_.xp6(2),_.Q6J("ngIf",t.is_active),_.xp6(1),_.Q6J("ngIf",!t.is_active),_.xp6(2),_.Q6J("ngbTooltip",_.lcZ(16,10,"Edit")),_.xp6(3),_.Q6J("ngbTooltip",_.lcZ(19,12,"Delete"))}}function G(t,e){if(1&t&&(_.ynx(0),_.YNc(1,D,21,14,"tr",8),_.BQk()),2&t){const t=_.oxw(3);_.xp6(1),_.Q6J("ngForOf",t._categories)}}function I(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"div",53),_.TgZ(1,"table",54),_.TgZ(2,"thead",55),_.TgZ(3,"tr"),_.TgZ(4,"th",56),_._uU(5,"#"),_.qZA(),_.TgZ(6,"th",57),_.TgZ(7,"input",58),_.NdJ("change",function(e){return _.CHM(t),_.oxw(2).selectAll(e)}),_.qZA(),_.qZA(),_.TgZ(8,"th",59),_._uU(9),_.ALo(10,"translate"),_.qZA(),_.TgZ(11,"th",59),_._uU(12),_.ALo(13,"translate"),_.ALo(14,"translate"),_.qZA(),_.TgZ(15,"th",59),_._uU(16),_.ALo(17,"translate"),_.ALo(18,"translate"),_.qZA(),_.TgZ(19,"th",59),_._uU(20),_.ALo(21,"translate"),_.qZA(),_.TgZ(22,"th",59),_._uU(23),_.ALo(24,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(25,"tbody"),_.YNc(26,O,6,3,"ng-container",29),_.YNc(27,G,2,1,"ng-container",29),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=_.oxw(2);_.xp6(7),_.Q6J("disabled",0==t._categories.length)("checked",t.exportList.length==t._categories.length),_.xp6(2),_.hij(" ",_.lcZ(10,11,"Code")," "),_.xp6(3),_.AsE(" ",_.lcZ(13,13,"Color name")," (",_.lcZ(14,15,"Vietnamese"),") "),_.xp6(4),_.AsE(" ",_.lcZ(17,17,"Color name")," (",_.lcZ(18,19,"English"),") "),_.xp6(4),_.Oqu(_.lcZ(21,21,"Status")),_.xp6(3),_.Oqu(_.lcZ(24,23,"Actions")),_.xp6(3),_.Q6J("ngIf",0==t._categories.length),_.xp6(1),_.Q6J("ngIf",t._categories.length>0)}}function P(t,e){1&t&&(_.ynx(0),_.TgZ(1,"tr"),_.TgZ(2,"td",73),_.TgZ(3,"h4"),_._uU(4),_.ALo(5,"translate"),_.qZA(),_.qZA(),_.qZA(),_.BQk()),2&t&&(_.xp6(4),_.Oqu(_.lcZ(5,1,"No records now!!!")))}function F(t,e){1&t&&_._UZ(0,"i",70)}function j(t,e){1&t&&_._UZ(0,"i",71)}function B(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_._uU(2),_.qZA(),_.TgZ(3,"td"),_.TgZ(4,"input",61),_.NdJ("change",function(e){const n=_.CHM(t).$implicit;return _.oxw(4).selectItem(e,n.id)}),_.qZA(),_.qZA(),_.TgZ(5,"td"),_._uU(6),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_.YNc(10,F,1,0,"i",62),_.YNc(11,j,1,0,"i",63),_.qZA(),_.TgZ(12,"td"),_.TgZ(13,"button",64),_.NdJ("click",function(){const e=_.CHM(t).$implicit,n=_.oxw(4),i=_.MAs(12);return n.popupModal(i,e)}),_.ALo(14,"translate"),_._UZ(15,"i",65),_.qZA(),_.TgZ(16,"button",68),_.NdJ("click",function(){const e=_.CHM(t).$implicit;return _.oxw(4).deleteItem(e)}),_.ALo(17,"translate"),_._UZ(18,"i",69),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=_.oxw(4);_.xp6(2),_.Oqu(n+1+i.pageSize*(i.pageIndex-1)),_.xp6(2),_.MGl("name","ckU1",n+1,""),_.Q6J("checked",i.exportList.includes(t.id)),_.xp6(2),_.Oqu(t.name_l),_.xp6(2),_.Oqu(t.name_e),_.xp6(2),_.Q6J("ngIf",t.is_active),_.xp6(1),_.Q6J("ngIf",!t.is_active),_.xp6(2),_.Q6J("ngbTooltip",_.lcZ(14,9,"Edit")),_.xp6(3),_.Q6J("ngbTooltip",_.lcZ(17,11,"Delete"))}}function $(t,e){if(1&t&&(_.ynx(0),_.YNc(1,B,19,13,"tr",8),_.BQk()),2&t){const t=_.oxw(3);_.xp6(1),_.Q6J("ngForOf",t._categories)}}function K(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"div",53),_.TgZ(1,"table",54),_.TgZ(2,"thead",55),_.TgZ(3,"tr"),_.TgZ(4,"th",56),_._uU(5,"#"),_.qZA(),_.TgZ(6,"th",57),_.TgZ(7,"input",58),_.NdJ("change",function(e){return _.CHM(t),_.oxw(2).selectAll(e)}),_.qZA(),_.qZA(),_.TgZ(8,"th",59),_._uU(9),_.ALo(10,"translate"),_.ALo(11,"translate"),_.qZA(),_.TgZ(12,"th",59),_._uU(13),_.ALo(14,"translate"),_.ALo(15,"translate"),_.qZA(),_.TgZ(16,"th",59),_._uU(17),_.ALo(18,"translate"),_.qZA(),_.TgZ(19,"th",59),_._uU(20),_.ALo(21,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(22,"tbody"),_.YNc(23,P,6,3,"ng-container",29),_.YNc(24,$,2,1,"ng-container",29),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=_.oxw(2);_.xp6(7),_.Q6J("disabled",0==t._categories.length)("checked",t.exportList.length==t._categories.length),_.xp6(2),_.AsE(" ",_.lcZ(10,10,"Name")," (",_.lcZ(11,12,"Vietnamese"),") "),_.xp6(4),_.AsE(" ",_.lcZ(14,14,"Name")," (",_.lcZ(15,16,"English"),") "),_.xp6(4),_.Oqu(_.lcZ(18,18,"Status")),_.xp6(3),_.Oqu(_.lcZ(21,20,"Actions")),_.xp6(3),_.Q6J("ngIf",0==t._categories.length),_.xp6(1),_.Q6J("ngIf",t._categories.length>0)}}function z(t,e){1&t&&(_.ynx(0),_.TgZ(1,"tr"),_.TgZ(2,"td",74),_.TgZ(3,"h4"),_._uU(4),_.ALo(5,"translate"),_.qZA(),_.qZA(),_.qZA(),_.BQk()),2&t&&(_.xp6(4),_.Oqu(_.lcZ(5,1,"No records now!!!")))}function V(t,e){1&t&&_._UZ(0,"i",70)}function X(t,e){1&t&&_._UZ(0,"i",71)}function tt(t,e){1&t&&_._UZ(0,"i",70)}function et(t,e){1&t&&_._UZ(0,"i",71)}function nt(t,e){if(1&t){const t=_.EpF();_.ynx(0),_.TgZ(1,"tr"),_.TgZ(2,"td"),_._uU(3),_.qZA(),_.TgZ(4,"td"),_.TgZ(5,"input",61),_.NdJ("change",function(e){const n=_.CHM(t).$implicit;return _.oxw(6).selectItem(e,n.id)}),_.qZA(),_.qZA(),_.TgZ(6,"td"),_._uU(7),_.ALo(8,"date"),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.qZA(),_.TgZ(11,"td"),_._uU(12),_.ALo(13,"translate"),_.qZA(),_.TgZ(14,"td"),_._uU(15),_.qZA(),_.TgZ(16,"td"),_._uU(17),_.ALo(18,"number"),_.qZA(),_.TgZ(19,"td"),_._uU(20),_.ALo(21,"number"),_.qZA(),_.TgZ(22,"td"),_._uU(23),_.qZA(),_.TgZ(24,"td"),_.YNc(25,tt,1,0,"i",62),_.YNc(26,et,1,0,"i",63),_.qZA(),_.TgZ(27,"td"),_.TgZ(28,"button",64),_.NdJ("click",function(){const e=_.CHM(t).$implicit,n=_.oxw(6),i=_.MAs(12);return n.popupModal(i,e)}),_.ALo(29,"translate"),_._UZ(30,"i",65),_.qZA(),_.TgZ(31,"button",68),_.NdJ("click",function(){const e=_.CHM(t).$implicit;return _.oxw(6).deleteItem(e)}),_.ALo(32,"translate"),_._UZ(33,"i",69),_.qZA(),_.qZA(),_.qZA(),_.BQk()}if(2&t){const t=e.$implicit,n=e.index,i=_.oxw(2).index,o=_.oxw(4);_.xp6(3),_.AsE(" ",i+1+o.pageSize*(o.pageIndex-1),".",n+1," "),_.xp6(2),_.MGl("name","ckU1",n+1,""),_.Q6J("checked",o.exportList.includes(t.id)),_.xp6(2),_.Oqu(_.xi3(8,15,t.issue_date,"dd/MM/yyyy HH:mm")),_.xp6(3),_.hij(" ","en"==o.user.lang?t.cat_name_e:t.cat_name_l," "),_.xp6(2),_.hij(" ",_.lcZ(13,18,0==t.type_id?"Neck":1==t.type_id?"Hand":"Fabric")," "),_.xp6(3),_.hij(" ","en"==o.user.lang?t.provider_name_e:t.provider_name_l," "),_.xp6(2),_.Oqu(_.lcZ(18,20,t.quantity_tree)),_.xp6(3),_.Oqu(_.lcZ(21,22,t.quantity_kg)),_.xp6(3),_.Oqu("en"==o.user.lang?t.note_e:t.note_l),_.xp6(2),_.Q6J("ngIf",t.is_active),_.xp6(1),_.Q6J("ngIf",!t.is_active),_.xp6(2),_.Q6J("ngbTooltip",_.lcZ(29,24,"Edit")),_.xp6(3),_.Q6J("ngbTooltip",_.lcZ(32,26,"Delete"))}}function it(t,e){if(1&t&&(_.ynx(0),_.YNc(1,nt,34,28,"ng-container",8),_.BQk()),2&t){const t=_.oxw().$implicit;_.xp6(1),_.Q6J("ngForOf",t.fabrics)}}function ot(t,e){if(1&t){const t=_.EpF();_.ynx(0),_.TgZ(1,"tr"),_.TgZ(2,"td"),_._uU(3),_.qZA(),_.TgZ(4,"td"),_.TgZ(5,"a",75),_.NdJ("click",function(){const e=_.CHM(t).$implicit;return e.flag_close=!e.flag_close}),_._UZ(6,"i",76),_.qZA(),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.ALo(9,"date"),_.qZA(),_.TgZ(10,"td"),_._uU(11),_.qZA(),_.TgZ(12,"td"),_._uU(13),_.ALo(14,"translate"),_.qZA(),_.TgZ(15,"td"),_._uU(16),_.qZA(),_.TgZ(17,"td"),_._uU(18),_.ALo(19,"number"),_.TgZ(20,"span",77),_._uU(21),_.ALo(22,"number"),_.qZA(),_.qZA(),_.TgZ(23,"td"),_._uU(24),_.ALo(25,"number"),_.TgZ(26,"span",77),_._uU(27),_.ALo(28,"number"),_.qZA(),_.qZA(),_.TgZ(29,"td"),_._uU(30),_.qZA(),_.TgZ(31,"td"),_.YNc(32,V,1,0,"i",62),_.YNc(33,X,1,0,"i",63),_.qZA(),_.TgZ(34,"td"),_.TgZ(35,"button",66),_.NdJ("click",function(){const e=_.CHM(t).$implicit,n=_.oxw(4),i=_.MAs(18);return n.transferMixFabric(i,e)}),_.ALo(36,"translate"),_._UZ(37,"i",78),_.qZA(),_.qZA(),_.qZA(),_.YNc(38,it,2,1,"ng-container",29),_.BQk()}if(2&t){const t=e.$implicit,n=e.index,i=_.oxw(4);_.xp6(3),_.Oqu(n+1+i.pageSize*(i.pageIndex-1)),_.xp6(3),_.Q6J("ngClass",t.flag_close?"fa fa-minus":"fa fa-plus"),_.xp6(2),_.Oqu(_.xi3(9,15,t.issue_date,"dd/MM/yyyy HH:mm")),_.xp6(3),_.hij(" ","en"==i.user.lang?t.cat_name_e:t.cat_name_l," "),_.xp6(2),_.hij(" ",_.lcZ(14,18,0==t.type_id?"Neck":1==t.type_id?"Hand":"Fabric")," "),_.xp6(3),_.hij(" ","en"==i.user.lang?t.provider_name_e:t.provider_name_l," "),_.xp6(2),_.hij(" ",_.lcZ(19,20,t.total_tree-t.total_tree_ex),"/"),_.xp6(3),_.Oqu(_.lcZ(22,22,t.total_tree_ex)),_.xp6(3),_.hij(" ",_.lcZ(25,24,t.total_kg-t.total_kg_ex),"/"),_.xp6(3),_.Oqu(_.lcZ(28,26,t.total_kg_ex)),_.xp6(3),_.Oqu("en"==i.user.lang?t.note_e:t.note_l),_.xp6(2),_.Q6J("ngIf",t.is_active),_.xp6(1),_.Q6J("ngIf",!t.is_active),_.xp6(2),_.Q6J("ngbTooltip",_.lcZ(36,28,"Transfer")),_.xp6(3),_.Q6J("ngIf",t.flag_close)}}function at(t,e){if(1&t&&(_.ynx(0),_.YNc(1,ot,39,30,"ng-container",8),_.BQk()),2&t){const t=_.oxw(3);_.xp6(1),_.Q6J("ngForOf",t._categories)}}function rt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"div",53),_.TgZ(1,"table",54),_.TgZ(2,"thead",55),_.TgZ(3,"tr"),_.TgZ(4,"th",56),_._uU(5,"#"),_.qZA(),_.TgZ(6,"th",57),_.TgZ(7,"input",58),_.NdJ("change",function(e){return _.CHM(t),_.oxw(2).selectAll(e)}),_.qZA(),_.qZA(),_.TgZ(8,"th",59),_._uU(9),_.ALo(10,"translate"),_.qZA(),_.TgZ(11,"th",59),_._uU(12),_.ALo(13,"translate"),_.qZA(),_.TgZ(14,"th",59),_._uU(15),_.ALo(16,"translate"),_.qZA(),_.TgZ(17,"th",59),_._uU(18),_.ALo(19,"translate"),_.qZA(),_.TgZ(20,"th",59),_._uU(21),_.ALo(22,"translate"),_.qZA(),_.TgZ(23,"th",59),_._uU(24),_.ALo(25,"translate"),_.qZA(),_.TgZ(26,"th",59),_._uU(27),_.ALo(28,"translate"),_.qZA(),_.TgZ(29,"th",59),_._uU(30),_.ALo(31,"translate"),_.qZA(),_.TgZ(32,"th",59),_._uU(33),_.ALo(34,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(35,"tbody"),_.YNc(36,z,6,3,"ng-container",29),_.YNc(37,at,2,1,"ng-container",29),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=_.oxw(2);_.xp6(7),_.Q6J("disabled",0==t._totalCategories)("checked",t.exportList.length==t._totalCategories),_.xp6(2),_.hij(" ",_.lcZ(10,14,"Issue of date")," "),_.xp6(3),_.hij(" ",_.lcZ(13,16,"Type of fabric")," "),_.xp6(3),_.hij(" ",_.lcZ(16,18,"Type")," "),_.xp6(3),_.hij(" ",_.lcZ(19,20,"Provider name")," "),_.xp6(3),_.AsE(" ",_.lcZ(22,22,"Quantity")," (","en"==t.user.lang?"m":"c\xe2y",") "),_.xp6(3),_.hij("",_.lcZ(25,24,"Quantity")," (kg)"),_.xp6(3),_.hij(" ",_.lcZ(28,26,"Note")," "),_.xp6(3),_.Oqu(_.lcZ(31,28,"Status")),_.xp6(3),_.Oqu(_.lcZ(34,30,"Actions")),_.xp6(3),_.Q6J("ngIf",0==t._categories.length),_.xp6(1),_.Q6J("ngIf",t._categories.length>0)}}function lt(t,e){1&t&&(_.ynx(0),_.TgZ(1,"tr"),_.TgZ(2,"td",74),_.TgZ(3,"h4"),_._uU(4),_.ALo(5,"translate"),_.qZA(),_.qZA(),_.qZA(),_.BQk()),2&t&&(_.xp6(4),_.Oqu(_.lcZ(5,1,"No records now!!!")))}function st(t,e){1&t&&_._UZ(0,"i",70)}function ct(t,e){1&t&&_._UZ(0,"i",71)}function ut(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"a",75),_.NdJ("click",function(){_.CHM(t);const e=_.oxw().$implicit,n=_.oxw(6),i=_.MAs(22);return n.popUpAdjustQuantity(i,e)}),_._uU(1),_.ALo(2,"number"),_.qZA()}if(2&t){const t=_.oxw().$implicit;_.xp6(1),_.Oqu(_.lcZ(2,1,t.qty_kg_after))}}function gt(t,e){if(1&t&&(_.TgZ(0,"span"),_._uU(1),_.ALo(2,"number"),_.qZA()),2&t){const t=_.oxw().$implicit;_.xp6(1),_.Oqu(_.lcZ(2,1,t.qty_kg_after))}}function dt(t,e){1&t&&_._UZ(0,"i",70)}function ht(t,e){1&t&&_._UZ(0,"i",71)}function _t(t,e){if(1&t){const t=_.EpF();_.ynx(0),_.TgZ(1,"tr"),_.TgZ(2,"td"),_._uU(3),_.qZA(),_.TgZ(4,"td"),_._uU(5),_.ALo(6,"date"),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.ALo(11,"translate"),_.qZA(),_.TgZ(12,"td"),_._uU(13),_.qZA(),_.TgZ(14,"td"),_._uU(15),_.qZA(),_.TgZ(16,"td"),_._uU(17),_.ALo(18,"number"),_.qZA(),_.TgZ(19,"td"),_.YNc(20,ut,3,3,"a",80),_.YNc(21,gt,3,3,"span",29),_.qZA(),_.TgZ(22,"td"),_._uU(23),_.qZA(),_.TgZ(24,"td",81),_.NdJ("click",function(){const e=_.CHM(t).$implicit;return _.oxw(6).switchStatus(e)}),_.YNc(25,dt,1,0,"i",62),_.YNc(26,ht,1,0,"i",63),_.qZA(),_.qZA(),_.BQk()}if(2&t){const t=e.$implicit,n=e.index,i=_.oxw(2).index,o=_.oxw(4);_.xp6(3),_.AsE(" ",i+1+o.pageSize*(o.pageIndex-1),".",n+1," "),_.xp6(2),_.Oqu(_.xi3(6,13,t.issue_date,"dd/MM/yyyy HH:mm")),_.xp6(3),_.hij(" ","en"==o.user.lang?t.cat_name_e:t.cat_name_l," "),_.xp6(2),_.hij(" ",_.lcZ(11,16,0==t.type_id?"Neck":1==t.type_id?"Hand":"Fabric")," "),_.xp6(3),_.hij(" ","en"==o.user.lang?t.color_name_e:t.color_name_l," "),_.xp6(2),_.hij(" ","en"==o.user.lang?t.provider_name_e:t.provider_name_l," "),_.xp6(2),_.Oqu(_.lcZ(18,18,t.quantity_tree)),_.xp6(3),_.Q6J("ngIf",2==t.type_id),_.xp6(1),_.Q6J("ngIf",2!=t.type_id),_.xp6(2),_.Oqu("en"==o.user.lang?t.note_e:t.note_l),_.xp6(2),_.Q6J("ngIf",t.is_active),_.xp6(1),_.Q6J("ngIf",!t.is_active)}}function Zt(t,e){if(1&t&&(_.ynx(0),_.YNc(1,_t,27,20,"ng-container",8),_.BQk()),2&t){const t=_.oxw().$implicit;_.xp6(1),_.Q6J("ngForOf",t.fabrics)}}function pt(t,e){if(1&t){const t=_.EpF();_.ynx(0),_.TgZ(1,"tr",79),_.NdJ("click",function(){const e=_.CHM(t).$implicit;return e.flag_close=!e.flag_close}),_.TgZ(2,"td"),_._uU(3),_.qZA(),_.TgZ(4,"td"),_._uU(5),_.ALo(6,"date"),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.ALo(11,"translate"),_.qZA(),_._UZ(12,"td"),_.TgZ(13,"td"),_._uU(14),_.qZA(),_.TgZ(15,"td"),_._uU(16),_.ALo(17,"number"),_.TgZ(18,"span",77),_._uU(19),_.ALo(20,"number"),_.qZA(),_.qZA(),_.TgZ(21,"td"),_._uU(22),_.ALo(23,"number"),_.TgZ(24,"span",77),_._uU(25),_.ALo(26,"number"),_.qZA(),_.qZA(),_.TgZ(27,"td"),_._uU(28),_.qZA(),_.TgZ(29,"td"),_.YNc(30,st,1,0,"i",62),_.YNc(31,ct,1,0,"i",63),_.qZA(),_.qZA(),_.YNc(32,Zt,2,1,"ng-container",29),_.BQk()}if(2&t){const t=e.$implicit,n=e.index,i=_.oxw(4);_.xp6(3),_.Oqu(n+1+i.pageSize*(i.pageIndex-1)),_.xp6(2),_.Oqu(_.xi3(6,13,t.issue_date,"dd/MM/yyyy HH:mm")),_.xp6(3),_.hij(" ","en"==i.user.lang?t.cat_name_e:t.cat_name_l," "),_.xp6(2),_.hij(" ",_.lcZ(11,16,0==t.type_id?"Neck":1==t.type_id?"Hand":"Fabric")," "),_.xp6(4),_.hij(" ","en"==i.user.lang?t.provider_name_e:t.provider_name_l," "),_.xp6(2),_.hij(" ",_.lcZ(17,18,t.total_tree_ex),"/"),_.xp6(3),_.Oqu(_.lcZ(20,20,t.total_tree-t.total_tree_ex)),_.xp6(3),_.hij(" ",_.lcZ(23,22,t.total_kg_ex),"/"),_.xp6(3),_.Oqu(_.lcZ(26,24,t.total_kg-t.total_kg_ex)),_.xp6(3),_.Oqu("en"==i.user.lang?t.note_e:t.note_l),_.xp6(2),_.Q6J("ngIf",t.is_active),_.xp6(1),_.Q6J("ngIf",!t.is_active),_.xp6(1),_.Q6J("ngIf",!t.flag_close)}}function ft(t,e){if(1&t&&(_.ynx(0),_.YNc(1,pt,33,26,"ng-container",8),_.BQk()),2&t){const t=_.oxw(3);_.xp6(1),_.Q6J("ngForOf",t._categories)}}function At(t,e){if(1&t&&(_.TgZ(0,"div",53),_.TgZ(1,"table",54),_.TgZ(2,"thead",55),_.TgZ(3,"tr"),_.TgZ(4,"th",56),_._uU(5,"#"),_.qZA(),_.TgZ(6,"th",59),_._uU(7),_.ALo(8,"translate"),_.qZA(),_.TgZ(9,"th",59),_._uU(10),_.ALo(11,"translate"),_.qZA(),_.TgZ(12,"th",59),_._uU(13),_.ALo(14,"translate"),_.qZA(),_.TgZ(15,"th",59),_._uU(16),_.ALo(17,"translate"),_.qZA(),_.TgZ(18,"th",59),_._uU(19),_.ALo(20,"translate"),_.qZA(),_.TgZ(21,"th",59),_._uU(22),_.ALo(23,"translate"),_.qZA(),_.TgZ(24,"th",59),_._uU(25),_.ALo(26,"translate"),_.qZA(),_.TgZ(27,"th",59),_._uU(28),_.ALo(29,"translate"),_.qZA(),_.TgZ(30,"th",59),_._uU(31),_.ALo(32,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(33,"tbody"),_.YNc(34,lt,6,3,"ng-container",29),_.YNc(35,ft,2,1,"ng-container",29),_.qZA(),_.qZA(),_.qZA()),2&t){const t=_.oxw(2);_.xp6(7),_.hij(" ",_.lcZ(8,12,"Issue of date")," "),_.xp6(3),_.hij(" ",_.lcZ(11,14,"Type of fabric")," "),_.xp6(3),_.hij(" ",_.lcZ(14,16,"Type")," "),_.xp6(3),_.hij(" ",_.lcZ(17,18,"Color name")," "),_.xp6(3),_.hij(" ",_.lcZ(20,20,"Provider name")," "),_.xp6(3),_.AsE(" ",_.lcZ(23,22,"Quantity")," (","en"==t.user.lang?"m":"c\xe2y",") "),_.xp6(3),_.hij("",_.lcZ(26,24,"Quantity")," (kg)"),_.xp6(3),_.hij(" ",_.lcZ(29,26,"Note")," "),_.xp6(3),_.Oqu(_.lcZ(32,28,"Status")),_.xp6(3),_.Q6J("ngIf",0==t._categories.length),_.xp6(1),_.Q6J("ngIf",t._categories.length>0)}}function mt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"div",19),_.TgZ(1,"h4",20),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"button",21),_.NdJ("click",function(){return _.CHM(t),_.oxw().closeModal()}),_.TgZ(5,"span",22),_._uU(6,"\xd7"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(7,"div",23),_.TgZ(8,"div",24),_.TgZ(9,"div",25),_.TgZ(10,"div",26),_.TgZ(11,"input",27),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw()._keyword=e})("keyup.enter",function(){return _.CHM(t),_.oxw().search()})("change",function(){return _.CHM(t),_.oxw().search()}),_.ALo(12,"translate"),_.qZA(),_.YNc(13,b,3,3,"button",28),_.YNc(14,w,2,1,"ng-container",29),_.YNc(15,E,4,3,"ng-container",29),_.YNc(16,N,1,0,"img",30),_.qZA(),_.qZA(),_.TgZ(17,"div",31),_.TgZ(18,"div",32),_.TgZ(19,"div",33),_.TgZ(20,"select",34),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().pageSize=e})("change",function(e){return _.CHM(t),_.oxw()._pageSizeChange(e)}),_.TgZ(21,"option",35),_._uU(22,"#10"),_.qZA(),_.TgZ(23,"option",36),_._uU(24,"#25"),_.qZA(),_.TgZ(25,"option",37),_._uU(26,"#50"),_.qZA(),_.TgZ(27,"option",38),_._uU(28,"#100"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(29,"div",39),_.TgZ(30,"div",32),_.YNc(31,L,11,20,"div",40),_.YNc(32,Q,31,28,"div",41),_.YNc(33,I,28,25,"div",41),_.YNc(34,K,25,22,"div",41),_.YNc(35,rt,38,32,"div",41),_.YNc(36,At,36,30,"div",41),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=_.oxw();_.xp6(2),_.hij(" ",_.lcZ(3,14,t._title)," "),_.xp6(9),_.MGl("placeholder","",_.lcZ(12,16,"Search"),"..."),_.Q6J("ngModel",t._keyword),_.xp6(2),_.Q6J("ngIf",t._authService.hasPermission("FABRIC","create")&&3!=t._flagSwitch),_.xp6(1),_.Q6J("ngIf",t._authService.hasPermission("FABRIC","delete")&&3!=t._flagSwitch),_.xp6(1),_.Q6J("ngIf",t._authService.hasPermission("FABRIC","report")&&t.exportList.length>0),_.xp6(1),_.Q6J("ngIf",t._isLoading),_.xp6(4),_.Q6J("ngModel",t.pageSize),_.xp6(11),_.Q6J("ngIf",t._categories.length>0),_.xp6(1),_.Q6J("ngIf",5==t._flagSwitch),_.xp6(1),_.Q6J("ngIf",4==t._flagSwitch),_.xp6(1),_.Q6J("ngIf",1==t._flagSwitch),_.xp6(1),_.Q6J("ngIf",2==t._flagSwitch),_.xp6(1),_.Q6J("ngIf",3==t._flagSwitch)}}function xt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"div",24),_.TgZ(1,"div",87),_.TgZ(2,"div",32),_.TgZ(3,"label",88),_._uU(4),_.ALo(5,"translate"),_.ALo(6,"translate"),_.TgZ(7,"span",77),_._uU(8,"(*)"),_.qZA(),_.qZA(),_.TgZ(9,"input",89),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.name_l=e}),_.ALo(10,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(11,"div",87),_.TgZ(12,"div",32),_.TgZ(13,"label",90),_._uU(14),_.ALo(15,"translate"),_.ALo(16,"translate"),_.qZA(),_.TgZ(17,"input",91),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.name_e=e}),_.ALo(18,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(19,"div",87),_.TgZ(20,"div",92),_.TgZ(21,"label",93),_._uU(22),_.ALo(23,"translate"),_.qZA(),_.TgZ(24,"div",94),_.TgZ(25,"input",95),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.is_active=e}),_.qZA(),_.TgZ(26,"label",93),_._uU(27),_.ALo(28,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=_.oxw(2);_.xp6(4),_.AsE("",_.lcZ(5,11,"Name")," (",_.lcZ(6,13,"Vietnamese"),") "),_.xp6(5),_.s9C("placeholder",_.lcZ(10,15,"Name")),_.Q6J("ngModel",t.entity.name_l),_.xp6(5),_.AsE("",_.lcZ(15,17,"Name")," (",_.lcZ(16,19,"English"),")"),_.xp6(3),_.s9C("placeholder",_.lcZ(18,21,"Name")),_.Q6J("ngModel",t.entity.name_e),_.xp6(5),_.Oqu(_.lcZ(23,23,"Status")),_.xp6(3),_.Q6J("ngModel",t.entity.is_active),_.xp6(2),_.Oqu(_.lcZ(28,25,t.entity.is_active?"activated":"not activated"))}}const yt=function(){return{dateInputFormat:"DD-MM-YYYY HH:mm",containerClass:"theme-dark-blue"}};function qt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"div",24),_.TgZ(1,"div",87),_.TgZ(2,"div",2),_.TgZ(3,"div",39),_.TgZ(4,"div",32),_.TgZ(5,"label",96),_._uU(6),_.ALo(7,"translate"),_.TgZ(8,"span",77),_._uU(9,"(*)"),_.qZA(),_.qZA(),_.TgZ(10,"select",97),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.type_id=e}),_.TgZ(11,"option",98),_._uU(12),_.ALo(13,"translate"),_.qZA(),_.TgZ(14,"option",99),_._uU(15),_.ALo(16,"translate"),_.qZA(),_.TgZ(17,"option",100),_._uU(18),_.ALo(19,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(20,"div",87),_.TgZ(21,"div",32),_.TgZ(22,"label",101),_._uU(23),_.ALo(24,"translate"),_.TgZ(25,"span",77),_._uU(26,"(*)"),_.qZA(),_.qZA(),_.TgZ(27,"input",102),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2)._fdate=e})("bsValueChange",function(e){return _.CHM(t),_.oxw(2).orgValueChange(e)}),_.ALo(28,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(29,"div",87),_.TgZ(30,"div",32),_.TgZ(31,"label",103),_._uU(32),_.ALo(33,"translate"),_.TgZ(34,"span",77),_._uU(35,"(*)"),_.qZA(),_.qZA(),_.TgZ(36,"ng-select",104),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.category_id=e}),_.ALo(37,"translate"),_.ALo(38,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(39,"div",87),_.TgZ(40,"div",32),_.TgZ(41,"label",105),_._uU(42),_.ALo(43,"translate"),_.TgZ(44,"span",77),_._uU(45,"(*)"),_.qZA(),_.qZA(),_.TgZ(46,"ng-select",106),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.provider_id=e}),_.ALo(47,"translate"),_.ALo(48,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(49,"div",87),_.TgZ(50,"div",32),_.TgZ(51,"label",107),_._uU(52),_.ALo(53,"translate"),_.qZA(),_.TgZ(54,"input",108),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.quantity_tree=e}),_.ALo(55,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(56,"div",87),_.TgZ(57,"div",32),_.TgZ(58,"label",109),_._uU(59),_.ALo(60,"translate"),_.qZA(),_.TgZ(61,"input",110),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.quantity_kg=e}),_.ALo(62,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(63,"div",39),_.TgZ(64,"div",32),_.TgZ(65,"label",111),_._uU(66),_.ALo(67,"translate"),_.qZA(),_.TgZ(68,"textarea",112),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.note_l=e}),_.ALo(69,"translate"),_.ALo(70,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(71,"div",39),_.TgZ(72,"div",32),_.TgZ(73,"textarea",113),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.note_e=e}),_.ALo(74,"translate"),_.ALo(75,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(76,"div",87),_.TgZ(77,"div",92),_.TgZ(78,"label",114),_._uU(79),_.ALo(80,"translate"),_.qZA(),_.TgZ(81,"div",94),_.TgZ(82,"input",115),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.is_active=e}),_.qZA(),_.TgZ(83,"label",114),_._uU(84),_.ALo(85,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=_.oxw(2);_.xp6(6),_.hij("",_.lcZ(7,44,"Type")," "),_.xp6(4),_.Q6J("ngModel",t.entity.type_id),_.xp6(2),_.Oqu(_.lcZ(13,46,"Neck")),_.xp6(3),_.Oqu(_.lcZ(16,48,"Hand")),_.xp6(3),_.Oqu(_.lcZ(19,50,"Fabric")),_.xp6(5),_.hij("",_.lcZ(24,52,"Issue of date")," "),_.xp6(4),_.Q6J("placeholder",_.lcZ(28,54,"DD-MM-YYYY"))("ngModel",t._fdate)("bsConfig",_.DdM(90,yt)),_.xp6(5),_.hij("",_.lcZ(33,56,"Type of fabrics")," "),_.xp6(4),_.Q6J("items",t._getlistcategories)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("bindLabel","en"==t.user.lang?"name_e":"name_l")("ngModel",t.entity.category_id)("placeholder",_.lcZ(37,58,"Please choose"))("notFoundText",_.lcZ(38,60,"Not found item")),_.xp6(6),_.hij("",_.lcZ(43,62,"Providers")," "),_.xp6(4),_.s9C("bindLabel","en"==t.user.lang?"provider_name_e":"provider_name_l"),_.Q6J("items",t._getlistproviders)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("ngModel",t.entity.provider_id)("placeholder",_.lcZ(47,64,"Please choose"))("notFoundText",_.lcZ(48,66,"Not found item")),_.xp6(6),_.AsE("",_.lcZ(53,68,"Quantity")," (","en"==t.user.lang?"m":"c\xe2y",")"),_.xp6(2),_.s9C("placeholder",_.lcZ(55,70,"Quantity")),_.Q6J("ngModel",t.entity.quantity_tree),_.xp6(5),_.hij("",_.lcZ(60,72,"Quantity")," (kg)"),_.xp6(2),_.s9C("placeholder",_.lcZ(62,74,"Quantity")),_.Q6J("ngModel",t.entity.quantity_kg),_.xp6(5),_.Oqu(_.lcZ(67,76,"Note")),_.xp6(2),_.hYB("placeholder","",_.lcZ(69,78,"Note")," (",_.lcZ(70,80,"Vietnamese"),")"),_.Q6J("ngModel",t.entity.note_l),_.xp6(5),_.hYB("placeholder","",_.lcZ(74,82,"Note")," (",_.lcZ(75,84,"English"),")"),_.Q6J("ngModel",t.entity.note_e),_.xp6(6),_.Oqu(_.lcZ(80,86,"Status")),_.xp6(3),_.Q6J("ngModel",t.entity.is_active),_.xp6(2),_.Oqu(_.lcZ(85,88,t.entity.is_active?"activated":"not activated"))}}function Tt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"div",24),_.TgZ(1,"div",87),_.TgZ(2,"div",32),_.TgZ(3,"label",116),_._uU(4),_.ALo(5,"translate"),_.TgZ(6,"span",77),_._uU(7,"(*)"),_.qZA(),_.qZA(),_.TgZ(8,"input",117),_.NdJ("keyup",function(){return _.CHM(t),_.oxw(2).removeBlank()})("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.code=e}),_.ALo(9,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(10,"div",87),_.TgZ(11,"div",32),_.TgZ(12,"label",118),_._uU(13),_.ALo(14,"translate"),_.ALo(15,"translate"),_.TgZ(16,"span",77),_._uU(17,"(*)"),_.qZA(),_.qZA(),_.TgZ(18,"input",119),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.color_name_l=e}),_.ALo(19,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(20,"div",87),_.TgZ(21,"div",32),_.TgZ(22,"label",120),_._uU(23),_.ALo(24,"translate"),_.ALo(25,"translate"),_.qZA(),_.TgZ(26,"input",121),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.color_name_e=e}),_.ALo(27,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(28,"div",87),_.TgZ(29,"div",92),_.TgZ(30,"label",122),_._uU(31),_.ALo(32,"translate"),_.qZA(),_.TgZ(33,"div",94),_.TgZ(34,"input",123),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.is_active=e}),_.qZA(),_.TgZ(35,"label",122),_._uU(36),_.ALo(37,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=_.oxw(2);_.xp6(4),_.hij("",_.lcZ(5,14,"Code")," "),_.xp6(4),_.s9C("placeholder",_.lcZ(9,16,"Code")),_.Q6J("ngModel",t.entity.code),_.xp6(5),_.AsE("",_.lcZ(14,18,"Color name")," (",_.lcZ(15,20,"Vietnamese"),") "),_.xp6(5),_.s9C("placeholder",_.lcZ(19,22,"Color name")),_.Q6J("ngModel",t.entity.color_name_l),_.xp6(5),_.AsE("",_.lcZ(24,24,"Color name")," (",_.lcZ(25,26,"English"),")"),_.xp6(3),_.s9C("placeholder",_.lcZ(27,28,"Color name")),_.Q6J("ngModel",t.entity.color_name_e),_.xp6(5),_.Oqu(_.lcZ(32,30,"Status")),_.xp6(3),_.Q6J("ngModel",t.entity.is_active),_.xp6(2),_.Oqu(_.lcZ(37,32,t.entity.is_active?"activated":"not activated"))}}function St(t,e){if(1&t){const t=_.EpF();_.ynx(0),_._uU(1," - "),_.TgZ(2,"a",136),_.NdJ("click",function(){_.CHM(t);const e=_.oxw(3),n=_.MAs(14);return e.openModalContact(n,null)}),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.BQk()}2&t&&(_.xp6(3),_.Oqu(_.lcZ(4,1,"Add new")))}function Mt(t,e){if(1&t){const t=_.EpF();_.ynx(0),_.TgZ(1,"div",87),_.TgZ(2,"div",32),_.TgZ(3,"label",137),_._uU(4),_.ALo(5,"translate"),_.qZA(),_.TgZ(6,"input",138),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(3).entity.email=e}),_.ALo(7,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(8,"div",87),_.TgZ(9,"div",32),_.TgZ(10,"label",139),_._uU(11),_.ALo(12,"translate"),_.qZA(),_.TgZ(13,"input",140),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(3).entity.phone=e}),_.ALo(14,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(15,"div",39),_.TgZ(16,"div",32),_.TgZ(17,"label",141),_._uU(18),_.ALo(19,"translate"),_.qZA(),_.TgZ(20,"input",142),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(3).entity.address_l=e}),_.ALo(21,"translate"),_.ALo(22,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(23,"div",39),_.TgZ(24,"div",32),_.TgZ(25,"input",143),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(3).entity.address_e=e}),_.ALo(26,"translate"),_.ALo(27,"translate"),_.qZA(),_.qZA(),_.qZA(),_.BQk()}if(2&t){const t=_.oxw(3);_.xp6(4),_.Oqu(_.lcZ(5,13,"Email")),_.xp6(2),_.s9C("placeholder",_.lcZ(7,15,"Email")),_.Q6J("ngModel",t.entity.email),_.xp6(5),_.Oqu(_.lcZ(12,17,"Phone")),_.xp6(2),_.s9C("placeholder",_.lcZ(14,19,"Phone")),_.Q6J("ngModel",t.entity.phone),_.xp6(5),_.Oqu(_.lcZ(19,21,"Address")),_.xp6(2),_.hYB("placeholder","",_.lcZ(21,23,"Address")," (",_.lcZ(22,25,"Vietnamese"),")"),_.Q6J("ngModel",t.entity.address_l),_.xp6(5),_.hYB("placeholder","",_.lcZ(26,27,"Address")," (",_.lcZ(27,29,"English"),")"),_.Q6J("ngModel",t.entity.address_e)}}const vt=function(){return[]};function bt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"div",24),_.TgZ(1,"div",87),_.TgZ(2,"div",32),_.TgZ(3,"label",124),_._uU(4),_.ALo(5,"translate"),_.ALo(6,"translate"),_.TgZ(7,"span",77),_._uU(8,"(*)"),_.qZA(),_.qZA(),_.TgZ(9,"input",125),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.provider_name_l=e}),_.ALo(10,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(11,"div",87),_.TgZ(12,"div",32),_.TgZ(13,"label",126),_._uU(14),_.ALo(15,"translate"),_.ALo(16,"translate"),_.qZA(),_.TgZ(17,"input",127),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.provider_name_e=e}),_.ALo(18,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(19,"div",87),_.TgZ(20,"div",32),_.TgZ(21,"label",128),_._uU(22),_.ALo(23,"translate"),_.ALo(24,"translate"),_.qZA(),_.TgZ(25,"input",129),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.note_l=e}),_.ALo(26,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(27,"div",87),_.TgZ(28,"div",32),_.TgZ(29,"label",130),_._uU(30),_.ALo(31,"translate"),_.ALo(32,"translate"),_.qZA(),_.TgZ(33,"input",131),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.note_e=e}),_.ALo(34,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(35,"div",87),_.TgZ(36,"div",32),_.TgZ(37,"label",132),_._uU(38),_.ALo(39,"translate"),_.YNc(40,St,5,3,"ng-container",29),_.qZA(),_.TgZ(41,"ng-select",133),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.contact_id=e})("change",function(){_.CHM(t);const e=_.oxw(2);return e.getContact(e.entity.contact_id)}),_.ALo(42,"translate"),_.ALo(43,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(44,"div",87),_.TgZ(45,"div",92),_.TgZ(46,"label",134),_._uU(47),_.ALo(48,"translate"),_.qZA(),_.TgZ(49,"div",94),_.TgZ(50,"input",135),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw(2).entity.is_active=e}),_.qZA(),_.TgZ(51,"label",134),_._uU(52),_.ALo(53,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(54,Mt,28,31,"ng-container",29),_.qZA()}if(2&t){const t=_.oxw(2);_.xp6(4),_.AsE("",_.lcZ(5,29,"Provider name")," (",_.lcZ(6,31,"Vietnamese"),") "),_.xp6(5),_.s9C("placeholder",_.lcZ(10,33,"Provider name")),_.Q6J("ngModel",t.entity.provider_name_l),_.xp6(5),_.AsE("",_.lcZ(15,35,"Provider name")," (",_.lcZ(16,37,"English"),")"),_.xp6(3),_.s9C("placeholder",_.lcZ(18,39,"Provider name")),_.Q6J("ngModel",t.entity.provider_name_e),_.xp6(5),_.AsE("",_.lcZ(23,41,"Note")," (",_.lcZ(24,43,"Vietnamese"),")"),_.xp6(3),_.s9C("placeholder",_.lcZ(26,45,"Note")),_.Q6J("ngModel",t.entity.note_l),_.xp6(5),_.AsE("",_.lcZ(31,47,"Note")," (",_.lcZ(32,49,"English"),")"),_.xp6(3),_.s9C("placeholder",_.lcZ(34,51,"Note")),_.Q6J("ngModel",t.entity.note_e),_.xp6(5),_.Oqu(_.lcZ(39,53,"Contact")),_.xp6(2),_.Q6J("ngIf","ADD"!=t._flagModal),_.xp6(1),_.Q6J("items",null!=t.entity.contact_list?t.entity.contact_list.data:_.DdM(63,vt))("multiple",!1)("closeOnSelect",!1)("searchable",!0)("ngModel",t.entity.contact_id)("placeholder",_.lcZ(42,55,"Please choose"))("notFoundText",_.lcZ(43,57,"Not found item")),_.xp6(6),_.Oqu(_.lcZ(48,59,"Status")),_.xp6(3),_.Q6J("ngModel",t.entity.is_active),_.xp6(2),_.Oqu(_.lcZ(53,61,t.entity.is_active?"activated":"not activated")),_.xp6(2),_.Q6J("ngIf",null!=t.entity.contact_id)}}function Ct(t,e){1&t&&(_.ynx(0),_.TgZ(1,"a",144),_._UZ(2,"img",145),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.BQk()),2&t&&(_.xp6(3),_.hij(" ",_.lcZ(4,1,"Processing")," "))}function wt(t,e){if(1&t&&(_.TgZ(0,"button",146),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t){_.oxw();const t=_.MAs(1),e=_.oxw();_.Q6J("disabled",4==e._flagSwitch||2==e._flagSwitch||1==e._flagSwitch?!t.valid:null),_.xp6(1),_.hij(" ",_.lcZ(2,2,"Save")," ")}}function Et(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"form",82,83),_.NdJ("ngSubmit",function(){return _.CHM(t),_.oxw().saveChange()}),_.TgZ(2,"div",19),_.TgZ(3,"h4",20),_._uU(4),_.ALo(5,"translate"),_.ALo(6,"translate"),_.ALo(7,"translate"),_.qZA(),_.TgZ(8,"button",21),_.NdJ("click",function(){return _.CHM(t).$implicit.dismiss("Cross click")}),_.TgZ(9,"span",22),_._uU(10,"\xd7"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(11,"div",23),_.YNc(12,xt,29,27,"div",84),_.YNc(13,qt,86,91,"div",84),_.YNc(14,Tt,38,34,"div",84),_.YNc(15,bt,55,64,"div",84),_.qZA(),_.TgZ(16,"div",85),_.YNc(17,Ct,5,3,"ng-container",29),_.YNc(18,wt,3,4,"button",86),_.qZA(),_.qZA()}if(2&t){const t=_.oxw();_.xp6(4),_.AsE(" ","ADD"==t._flagModal?_.lcZ(5,8,"Add new"):_.lcZ(6,10,"Update")," ",_.lcZ(7,12,t._title)," "),_.xp6(8),_.Q6J("ngIf",1==t._flagSwitch),_.xp6(1),_.Q6J("ngIf",2==t._flagSwitch),_.xp6(1),_.Q6J("ngIf",4==t._flagSwitch),_.xp6(1),_.Q6J("ngIf",5==t._flagSwitch),_.xp6(2),_.Q6J("ngIf",t.isSave),_.xp6(1),_.Q6J("ngIf",!t.isSave)}}function Nt(t,e){1&t&&(_.ynx(0),_.TgZ(1,"a",144),_._UZ(2,"img",145),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.BQk()),2&t&&(_.xp6(3),_.hij(" ",_.lcZ(4,1,"Processing")," "))}function Lt(t,e){if(1&t&&(_.TgZ(0,"button",146),_._uU(1),_.ALo(2,"translate"),_.qZA()),2&t){_.oxw();const t=_.MAs(1);_.Q6J("disabled",!t.valid),_.xp6(1),_.hij(" ",_.lcZ(2,2,"Save")," ")}}function Rt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"form",82,147),_.NdJ("ngSubmit",function(){return _.CHM(t),_.oxw().saveChangeContact()}),_.TgZ(2,"div",19),_.TgZ(3,"h4",20),_._uU(4),_.ALo(5,"translate"),_.ALo(6,"translate"),_.ALo(7,"translate"),_.qZA(),_.TgZ(8,"button",21),_.NdJ("click",function(){return _.CHM(t).$implicit.dismiss("Cross click")}),_.TgZ(9,"span",22),_._uU(10,"\xd7"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(11,"div",23),_.TgZ(12,"div",24),_.TgZ(13,"div",39),_.TgZ(14,"div",32),_.TgZ(15,"label",148),_._uU(16),_.ALo(17,"translate"),_.TgZ(18,"span",77),_._uU(19,"(*)"),_.qZA(),_.qZA(),_.TgZ(20,"input",149),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.fullname=e}),_.ALo(21,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(22,"div",39),_.TgZ(23,"div",32),_.TgZ(24,"label",150),_._uU(25),_.ALo(26,"translate"),_.qZA(),_.TgZ(27,"input",151),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.address_l=e}),_.ALo(28,"translate"),_.ALo(29,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(30,"div",39),_.TgZ(31,"div",32),_.TgZ(32,"input",152),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.address_e=e}),_.ALo(33,"translate"),_.ALo(34,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(35,"div",87),_.TgZ(36,"div",32),_.TgZ(37,"label",153),_._uU(38),_.ALo(39,"translate"),_.qZA(),_.TgZ(40,"input",154),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.phone=e}),_.ALo(41,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(42,"div",87),_.TgZ(43,"div",32),_.TgZ(44,"label",155),_._uU(45),_.ALo(46,"translate"),_.qZA(),_.TgZ(47,"input",156),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.email=e}),_.ALo(48,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(49,"div",87),_.TgZ(50,"div",92),_.TgZ(51,"label",157),_._uU(52),_.ALo(53,"translate"),_.qZA(),_.TgZ(54,"div",94),_.TgZ(55,"input",158),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.is_active=e}),_.qZA(),_._UZ(56,"label",157),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(57,"div",85),_.YNc(58,Nt,5,3,"ng-container",29),_.YNc(59,Lt,3,4,"button",86),_.qZA(),_.qZA()}if(2&t){const t=_.oxw();_.xp6(4),_.AsE(" ","ADD"==t._flagSubModal?_.lcZ(5,22,"Add new"):_.lcZ(6,24,"Update")," ",_.lcZ(7,26,t._subTitle)," "),_.xp6(12),_.hij("",_.lcZ(17,28,"Fullname")," "),_.xp6(4),_.s9C("placeholder",_.lcZ(21,30,"Fullname")),_.Q6J("ngModel",t.entitySub.fullname),_.xp6(5),_.Oqu(_.lcZ(26,32,"Address")),_.xp6(2),_.hYB("placeholder","",_.lcZ(28,34,"Address")," (",_.lcZ(29,36,"Vietnamese"),")"),_.Q6J("ngModel",t.entitySub.address_l),_.xp6(5),_.hYB("placeholder","",_.lcZ(33,38,"Address")," (",_.lcZ(34,40,"English"),")"),_.Q6J("ngModel",t.entitySub.address_e),_.xp6(6),_.Oqu(_.lcZ(39,42,"Phone")),_.xp6(2),_.s9C("placeholder",_.lcZ(41,44,"Phone")),_.Q6J("ngModel",t.entitySub.phone),_.xp6(5),_.Oqu(_.lcZ(46,46,"Email")),_.xp6(2),_.s9C("placeholder",_.lcZ(48,48,"Email")),_.Q6J("ngModel",t.entitySub.email),_.xp6(5),_.Oqu(_.lcZ(53,50,"Primary")),_.xp6(3),_.Q6J("ngModel",t.entitySub.is_active),_.xp6(3),_.Q6J("ngIf",t.isSaveSub),_.xp6(1),_.Q6J("ngIf",!t.isSaveSub)}}function Ut(t,e){if(1&t&&(_.TgZ(0,"div",51),_.TgZ(1,"a",52),_._uU(2),_.ALo(3,"translate"),_.TgZ(4,"strong"),_._uU(5),_.qZA(),_.qZA(),_.qZA()),2&t){const t=_.oxw(2);_.xp6(2),_.hij("",_.lcZ(3,2,"Total of records"),": "),_.xp6(3),_.Oqu(t.entity.contact_list.data.length)}}function Wt(t,e){1&t&&(_.ynx(0),_.TgZ(1,"tr"),_.TgZ(2,"td",73),_.TgZ(3,"h4"),_._uU(4),_.ALo(5,"translate"),_.qZA(),_.qZA(),_.qZA(),_.BQk()),2&t&&(_.xp6(4),_.Oqu(_.lcZ(5,1,"No records now!!!")))}function kt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"tr"),_.TgZ(1,"td"),_._uU(2),_.qZA(),_.TgZ(3,"td"),_._uU(4),_.qZA(),_.TgZ(5,"td"),_._uU(6),_.qZA(),_.TgZ(7,"td"),_._uU(8),_.qZA(),_.TgZ(9,"td"),_._uU(10),_.qZA(),_.TgZ(11,"td"),_.TgZ(12,"button",64),_.NdJ("click",function(){const e=_.CHM(t).$implicit,n=_.oxw(3),i=_.MAs(14);return n.popupEditModal(i,n.entity,e)}),_.ALo(13,"translate"),_._UZ(14,"i",65),_.qZA(),_.TgZ(15,"button",68),_.NdJ("click",function(){const e=_.CHM(t).$implicit,n=_.oxw(3);return n.deleteContact(n.entity,e)}),_.ALo(16,"translate"),_._UZ(17,"i",69),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=_.oxw(3);_.xp6(2),_.Oqu(n+1),_.xp6(2),_.hij(" ",t.fullname," "),_.xp6(2),_.hij(" ",t.phone," "),_.xp6(2),_.hij(" ",t.email," "),_.xp6(2),_.hij(" ","en"==i.user.lang?t.address_e:t.address_l," "),_.xp6(2),_.Q6J("ngbTooltip",_.lcZ(13,7,"Edit")),_.xp6(3),_.Q6J("ngbTooltip",_.lcZ(16,9,"Delete"))}}function Jt(t,e){if(1&t&&(_.ynx(0),_.YNc(1,kt,18,11,"tr",8),_.BQk()),2&t){const t=_.oxw(2);_.xp6(1),_.Q6J("ngForOf",t.entity.contact_list.data)}}function Qt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"form",159),_.TgZ(1,"div",19),_.TgZ(2,"h4",20),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"button",21),_.NdJ("click",function(){return _.CHM(t).$implicit.dismiss("Cross click")}),_.TgZ(6,"span",22),_._uU(7,"\xd7"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(8,"div",23),_.TgZ(9,"div",24),_.TgZ(10,"div",47),_.TgZ(11,"div",48),_.TgZ(12,"div",49),_.TgZ(13,"a",136),_.NdJ("click",function(){_.CHM(t);const e=_.oxw(),n=_.MAs(14);return e.openModalContact(n,null)}),_._uU(14),_.ALo(15,"translate"),_.qZA(),_.qZA(),_.YNc(16,Ut,6,4,"div",160),_.qZA(),_.qZA(),_.TgZ(17,"div",161),_.TgZ(18,"div",162),_.TgZ(19,"table",163),_.TgZ(20,"thead"),_.TgZ(21,"th",164),_._uU(22,"#"),_.qZA(),_.TgZ(23,"th",164),_._uU(24),_.ALo(25,"translate"),_.qZA(),_.TgZ(26,"th",164),_._uU(27),_.ALo(28,"translate"),_.qZA(),_.TgZ(29,"th",164),_._uU(30),_.ALo(31,"translate"),_.qZA(),_.TgZ(32,"th",164),_._uU(33),_.ALo(34,"translate"),_.qZA(),_.TgZ(35,"th",164),_._uU(36),_.ALo(37,"translate"),_.qZA(),_.qZA(),_.TgZ(38,"tbody"),_.YNc(39,Wt,6,3,"ng-container",29),_.YNc(40,Jt,2,1,"ng-container",29),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&t){const t=_.oxw();_.xp6(3),_.AsE(" ",_.lcZ(4,11,"Contact")," - ","en"==t.user.lang?t.entity.provider_name_e:t.entity.provider_name_l," "),_.xp6(11),_.Oqu(_.lcZ(15,13,"Add new")),_.xp6(2),_.Q6J("ngIf",null!=t.entity.contact_list),_.xp6(8),_.Oqu(_.lcZ(25,15,"Fullname")),_.xp6(3),_.Oqu(_.lcZ(28,17,"Phone")),_.xp6(3),_.Oqu(_.lcZ(31,19,"Email")),_.xp6(3),_.Oqu(_.lcZ(34,21,"Address")),_.xp6(3),_.Oqu(_.lcZ(37,23,"Actions")),_.xp6(3),_.Q6J("ngIf",null==t.entity.contact_list||0==t.entity.contact_list.data.length),_.xp6(1),_.Q6J("ngIf",null!=t.entity.contact_list)}}function Ot(t,e){1&t&&(_.ynx(0),_.TgZ(1,"a",144),_._UZ(2,"img",145),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.BQk()),2&t&&(_.xp6(3),_.hij(" ",_.lcZ(4,1,"Processing")," "))}function Yt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"button",178),_.NdJ("click",function(){return _.CHM(t),_.oxw(2)._submitTransfer()}),_._uU(1),_.ALo(2,"translate"),_.qZA()}2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Save")," "))}function Ht(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"form",159),_.TgZ(1,"div",19),_.TgZ(2,"h4",20),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"button",21),_.NdJ("click",function(){return _.CHM(t).$implicit.dismiss("Cross click")}),_.TgZ(6,"span",22),_._uU(7,"\xd7"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(8,"div",23),_.TgZ(9,"div",24),_.TgZ(10,"div",87),_.TgZ(11,"div",32),_.TgZ(12,"label",165),_._uU(13),_.ALo(14,"translate"),_.TgZ(15,"span",77),_._uU(16,"(*)"),_.qZA(),_.qZA(),_.TgZ(17,"input",166),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.code=e})("keyup",function(){return _.CHM(t),_.oxw().removeBlank1()}),_.ALo(18,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(19,"div",87),_.TgZ(20,"div",32),_.TgZ(21,"label",167),_._uU(22),_.ALo(23,"translate"),_.TgZ(24,"span",77),_._uU(25,"(*)"),_.qZA(),_.qZA(),_.TgZ(26,"ng-select",168),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.color_id=e}),_.ALo(27,"translate"),_.ALo(28,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(29,"div",87),_.TgZ(30,"div",32),_.TgZ(31,"label",169),_._uU(32),_.ALo(33,"translate"),_.TgZ(34,"span",77),_._uU(35,"(*)"),_.qZA(),_.qZA(),_.TgZ(36,"input",170),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw()._fdatea=e})("bsValueChange",function(e){return _.CHM(t),_.oxw().orgValueChangea(e)}),_.ALo(37,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(38,"div",87),_.TgZ(39,"div",32),_.TgZ(40,"label",171),_._uU(41),_.ALo(42,"translate"),_.TgZ(43,"span",77),_._uU(44,"(*)"),_.qZA(),_.qZA(),_.TgZ(45,"ng-select",172),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.provider_id=e}),_.ALo(46,"translate"),_.ALo(47,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(48,"div",87),_.TgZ(49,"div",32),_.TgZ(50,"label",173),_._uU(51),_.ALo(52,"translate"),_.qZA(),_.TgZ(53,"input",174),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.quantity_tree=e}),_.ALo(54,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(55,"div",87),_.TgZ(56,"div",32),_.TgZ(57,"label",175),_._uU(58),_.ALo(59,"translate"),_.qZA(),_.TgZ(60,"input",176),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.quantity_kg=e}),_.ALo(61,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(62,"div",85),_.YNc(63,Ot,5,3,"ng-container",29),_.YNc(64,Yt,3,3,"button",177),_.qZA(),_.qZA()}if(2&t){const t=_.oxw();_.xp6(3),_.AsE(" ",_.lcZ(4,36,"Transfer")," - ","en"==t.user.lang?t.entityTemp.name_e:t.entityTemp.name_l," "),_.xp6(10),_.hij("",_.lcZ(14,38,"Mix-Fabric code")," "),_.xp6(4),_.Q6J("placeholder",_.lcZ(18,40,"Mix-Fabric code"))("ngModel",t.entitySub.code),_.xp6(5),_.hij("",_.lcZ(23,42,"Color name")," "),_.xp6(4),_.Q6J("items",t._getlistcolors)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("bindLabel","en"==t.user.lang?"color_name_e":"color_name_l")("ngModel",t.entitySub.color_id)("placeholder",_.lcZ(27,44,"Please choose"))("notFoundText",_.lcZ(28,46,"Not found item")),_.xp6(6),_.hij("",_.lcZ(33,48,"Issue of date")," "),_.xp6(4),_.Q6J("placeholder",_.lcZ(37,50,"DD-MM-YYYY HH:mm"))("ngModel",t._fdatea)("bsConfig",_.DdM(66,yt)),_.xp6(5),_.hij("",_.lcZ(42,52,"Providers")," "),_.xp6(4),_.s9C("bindLabel","en"==t.user.lang?"provider_name_e":"provider_name_l"),_.Q6J("items",t._getlistproviders)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("ngModel",t.entitySub.provider_id)("placeholder",_.lcZ(46,54,"Please choose"))("notFoundText",_.lcZ(47,56,"Not found item")),_.xp6(6),_.AsE("",_.lcZ(52,58,"Quantity")," (","en"==t.user.lang?"m":"c\xe2y",")"),_.xp6(2),_.s9C("placeholder",_.lcZ(54,60,"Quantity")),_.Q6J("ngModel",t.entitySub.quantity_tree),_.xp6(5),_.hij("",_.lcZ(59,62,"Quantity")," (kg)"),_.xp6(2),_.s9C("placeholder",_.lcZ(61,64,"Quantity")),_.Q6J("ngModel",t.entitySub.quantity_kg),_.xp6(3),_.Q6J("ngIf",t.isSaveSub),_.xp6(1),_.Q6J("ngIf",!t.isSaveSub)}}function Dt(t,e){1&t&&(_.ynx(0),_.TgZ(1,"a",144),_._UZ(2,"img",145),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.BQk()),2&t&&(_.xp6(3),_.hij(" ",_.lcZ(4,1,"Processing")," "))}function Gt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"button",178),_.NdJ("click",function(){return _.CHM(t),_.oxw(2)._submitReturn()}),_._uU(1),_.ALo(2,"translate"),_.qZA()}2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Save")," "))}function It(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"form",159),_.TgZ(1,"div",19),_.TgZ(2,"h4",20),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"button",21),_.NdJ("click",function(){return _.CHM(t).$implicit.dismiss("Cross click")}),_.TgZ(6,"span",22),_._uU(7,"\xd7"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(8,"div",23),_.TgZ(9,"div",24),_.TgZ(10,"div",39),_.TgZ(11,"div",32),_.TgZ(12,"label",179),_._uU(13),_.ALo(14,"translate"),_.qZA(),_.TgZ(15,"input",180),_.NdJ("change",function(){_.CHM(t);const e=_.oxw();return e.checkQuantity(e.entitySub.quantity_tree,e.entitySub.quantity_kg)})("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.quantity_tree=e}),_.ALo(16,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(17,"div",39),_.TgZ(18,"div",32),_.TgZ(19,"label",181),_._uU(20),_.ALo(21,"translate"),_.qZA(),_.TgZ(22,"input",182),_.NdJ("change",function(){_.CHM(t);const e=_.oxw();return e.checkQuantity(e.entitySub.quantity_tree,e.entitySub.quantity_kg)})("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.quantity_kg=e}),_.ALo(23,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(24,"div",39),_.TgZ(25,"div",32),_.TgZ(26,"label",183),_._uU(27),_.ALo(28,"translate"),_.qZA(),_.TgZ(29,"input",184),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.note_l=e}),_.ALo(30,"translate"),_.ALo(31,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(32,"div",39),_.TgZ(33,"div",32),_.TgZ(34,"input",185),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().entitySub.note_e=e}),_.ALo(35,"translate"),_.ALo(36,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(37,"div",85),_.YNc(38,Dt,5,3,"ng-container",29),_.YNc(39,Gt,3,3,"button",177),_.qZA(),_.qZA()}if(2&t){const t=_.oxw();_.xp6(3),_.AsE(" ",_.lcZ(4,20,"Return to warehouse")," - ",t.entityTemp.code," "),_.xp6(10),_.AsE("",_.lcZ(14,22,"Quantity")," (","en"==t.user.lang?"m":"c\xe2y",")"),_.xp6(2),_.s9C("max",t.entityTemp.quantity_tree),_.s9C("placeholder",_.lcZ(16,24,"Quantity")),_.Q6J("ngModel",t.entitySub.quantity_tree),_.xp6(5),_.hij("",_.lcZ(21,26,"Quantity")," (kg)"),_.xp6(2),_.s9C("max",t.entityTemp.quantity_kg),_.s9C("placeholder",_.lcZ(23,28,"Quantity")),_.Q6J("ngModel",t.entitySub.quantity_kg),_.xp6(5),_.Oqu(_.lcZ(28,30,"Note")),_.xp6(2),_.hYB("placeholder","",_.lcZ(30,32,"Note")," (",_.lcZ(31,34,"Vietnamese"),")"),_.Q6J("ngModel",t.entitySub.note_l),_.xp6(5),_.hYB("placeholder","",_.lcZ(35,36,"Note")," (",_.lcZ(36,38,"English"),")"),_.Q6J("ngModel",t.entitySub.note_e),_.xp6(4),_.Q6J("ngIf",t.isSaveSub),_.xp6(1),_.Q6J("ngIf",!t.isSaveSub)}}function Pt(t,e){1&t&&(_.ynx(0),_.TgZ(1,"a",144),_._UZ(2,"img",145),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.BQk()),2&t&&(_.xp6(3),_.hij(" ",_.lcZ(4,1,"Processing")," "))}function Ft(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"button",178),_.NdJ("click",function(){return _.CHM(t),_.oxw(2)._updateQuantity()}),_._uU(1),_.ALo(2,"translate"),_.qZA()}2&t&&(_.xp6(1),_.hij(" ",_.lcZ(2,1,"Save")," "))}function jt(t,e){if(1&t){const t=_.EpF();_.TgZ(0,"form",159),_.TgZ(1,"div",19),_.TgZ(2,"h4",20),_._uU(3),_.ALo(4,"translate"),_.qZA(),_.TgZ(5,"button",21),_.NdJ("click",function(){return _.CHM(t).$implicit.dismiss("Cross click")}),_.TgZ(6,"span",22),_._uU(7,"\xd7"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(8,"div",23),_.TgZ(9,"div",24),_.TgZ(10,"div",39),_.TgZ(11,"div",32),_.TgZ(12,"label",186),_._uU(13),_.ALo(14,"translate"),_.qZA(),_.TgZ(15,"input",187),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().adjustQty.qty_kg_after=e}),_.ALo(16,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(17,"div",39),_.TgZ(18,"div",32),_.TgZ(19,"label",188),_._uU(20),_.ALo(21,"translate"),_.qZA(),_.TgZ(22,"input",189),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().adjustQty.note_l=e}),_.ALo(23,"translate"),_.ALo(24,"translate"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(25,"div",39),_.TgZ(26,"div",32),_.TgZ(27,"input",190),_.NdJ("ngModelChange",function(e){return _.CHM(t),_.oxw().adjustQty.note_e=e}),_.ALo(28,"translate"),_.ALo(29,"translate"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(30,"div",85),_.YNc(31,Pt,5,3,"ng-container",29),_.YNc(32,Ft,3,3,"button",177),_.qZA(),_.qZA()}if(2&t){const t=_.oxw();_.xp6(3),_.hij(" ",_.lcZ(4,13,"Update")," "),_.xp6(10),_.hij("",_.lcZ(14,15,"Quantity")," (kg)"),_.xp6(2),_.s9C("placeholder",_.lcZ(16,17,"Quantity")),_.Q6J("ngModel",t.adjustQty.qty_kg_after),_.xp6(5),_.Oqu(_.lcZ(21,19,"Note")),_.xp6(2),_.hYB("placeholder","",_.lcZ(23,21,"Note")," (",_.lcZ(24,23,"Vietnamese"),")"),_.Q6J("ngModel",t.adjustQty.note_l),_.xp6(5),_.hYB("placeholder","",_.lcZ(28,25,"Note")," (",_.lcZ(29,27,"English"),")"),_.Q6J("ngModel",t.adjustQty.note_e),_.xp6(4),_.Q6J("ngIf",t.isSaveAdjust),_.xp6(1),_.Q6J("ngIf",!t.isSaveAdjust)}}const Bt=[{path:"",children:[{path:"category-fabric",component:(()=>{class t{constructor(t,e,n,i,o,a,r){this._authService=t,this.modalService=e,this._dataService=n,this._route=i,this._notifyService=o,this._uploadService=a,this._excelService=r,this._menu=[{id:1,name:"Type of fabrics",qty:0},{id:2,name:"Fabrics",qty:0},{id:3,name:"Mixed fabrics",qty:0},{id:4,name:"Type of colors",qty:0},{id:5,name:"Providers",qty:0}],this._flagSwitch=0,this.isSave=!1,this.isSaveSub=!1,this.isImport=!1,this._flagModal="ADD",this._flagSubModal="ADD",this._title="",this._subTitle="",this.baseFolder=g.h.BASE_API+"/",this._categories=[],this.exportList=[],this.entity={},this.entitySub={},this.formData=new FormData,this.pageIndex=1,this.pageSize=10,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._subCategory=[],this._getlistcategories=[],this._getlistproviders=[],this._getlistcolors=[],this._dt1="",this._dt1a="",this.entityTemp={},this._totalCategories=0,this.adjustQty={},this.isSaveAdjust=!1,(!1===t.checkAccess("FABRIC")||!1===t.hasPermission("FABRIC","read"))&&this._route.navigate(["/error/404"]),this.socket=u()(g.h.BASE_API)}ngOnInit(){this.loadCounters(),this.user=this._authService.getLoggedInUser(),this.socket.on("refreshPage",t=>{this.loadCounters(),1==this._flagSwitch&&this.loadCategories(),2==this._flagSwitch&&this.loadFabrics(),3==this._flagSwitch&&this.loadMixFabrics(),4==this._flagSwitch&&this.loadColors(),5==this._flagSwitch&&this.loadProvider()})}loadCounters(){this._dataService.post("/fabric/countItems",null).subscribe(t=>{for(let e of t.data)this._menu.filter(t=>t.id==e.id)[0].qty=e.total})}switch(t,e){this._flagSwitch=e.id,this._title=e.name,this.pageIndex=1,this.pageSize=10,this.totalRow=0,this.totalPage=0,this.exportList=[],this._isLoading=!1,this._keyword="",this._categories=[],1==e.id&&this.loadCategories(),2==e.id&&this.loadFabrics(),3==e.id&&this.loadMixFabrics(),4==e.id&&this.loadColors(),5==e.id&&this.loadProvider(),this.modalService.open(t,{size:"xl",centered:!0,backdrop:!1})}search(){1==this._flagSwitch&&this.loadCategories(),2==this._flagSwitch&&this.loadFabrics(),3==this._flagSwitch&&this.loadMixFabrics(),4==this._flagSwitch&&this.loadColors(),5==this._flagSwitch&&this.loadProvider()}_pageSizeChange(t){this.pageSize=t.target.value,this.socket.emit("refresh",{})}pageChanged(t){this.pageIndex=t.page,this.socket.emit("refresh",{})}popupModal(t,e){null==e?(this._flagModal="ADD",1==this._flagSwitch&&(this.entity={},this.entity.id=null,this.entity.name_l=null,this.entity.name_e=null,this.entity.is_active=!0),2==this._flagSwitch&&(this.loadProvidersNP(),this.loadCategoriesNP(),this.entity={},this.entity.id=null,this.entity.code=null,this.entity.type_id=2,this.entity.fabric_name_l=null,this.entity.fabric_name_e=null,this.entity.category_id=null,this.entity.provider_id=null,this.entity.is_active=!0,this.entity.note_l=null,this.entity.note_e=null,this.entity.quantity_tree=null,this.entity.quantity_kg=null,this._fdate=null,this._dt1=""),4==this._flagSwitch&&(this.entity={},this.entity.code=null,this.entity.color_name_l=null,this.entity.color_name_e=null,this.entity.is_active=!0),5==this._flagSwitch&&(this.entity={},this.entity.id=null,this.entity.is_active=!0,this.entity.contact_list=[],this.entity.contact_id=null)):(this._flagModal="UPDATE",(4==this._flagSwitch||1==this._flagSwitch||2==this._flagSwitch)&&(this.loadProvidersNP(),this.loadCategoriesNP(),this.entity=e,2==this._flagSwitch&&(this._fdate=null!=e.issue_date?new Date(e.issue_date):null,this._dt1=null==e.issue_date?"":s(new Date(e.issue_date)).format("DD-MM-YYYY HH:mm")),console.log("Detail",e)),5==this._flagSwitch&&(this.entity=e,null==e.contact_list&&(this.entity.contact_list={},this.entity.contact_list.data=[]))),this.modalService.open(t,{size:"lg",centered:!0})}_deleteItemAll(t){console.log(t),l().fire({title:"en"==this.user.lang?d.W.are_you_sure_en:d.W.are_you_sure,text:"en"==this.user.lang?d.W.all_en:d.W.all,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"en"==this.user.lang?d.W.cancel_en:d.W.cancel,confirmButtonText:"en"==this.user.lang?d.W.confirmtext_en:d.W.confirmtext}).then(e=>{if(e.value){let e=0;for(let n of t)this._remove(n),e+=1;this._notifyService.showSuccess("en"==this.user.lang?e+" "+d.W.record_en+" "+d.W.MSG_DELETE_EN:e+" "+d.W.record+" "+d.W.MSG_DELETE,"OK"),this.exportList=[]}})}_remove(t){if(1==this._flagSwitch){let e={};e.id=t,this._dataService.post("/fabric/deleteCat",e).subscribe(t=>{this.socket.emit("refresh",{})})}if(2==this._flagSwitch){let e={};e.id=t,this._dataService.post("/fabric/delete",e).subscribe(t=>{this.socket.emit("refresh",{}),this.exportList=[]})}if(4==this._flagSwitch){let e={};e.code=t,this._dataService.post("/color/delete",e).subscribe(t=>{this.socket.emit("refresh",{})})}if(5==this._flagSwitch){let e={};e.id=t,this._dataService.post("/provider/delete",e).subscribe(t=>{this.socket.emit("refresh",{})})}}deleteItem(t){1==this._flagSwitch&&l().fire({title:"en"==this.user.lang?d.W.are_you_sure_en:d.W.are_you_sure,text:"en"==this.user.lang?t.name_e:t.name_l,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?d.W.cancel_en:d.W.cancel,confirmButtonText:"en"==this.user.lang?d.W.confirmtext_en:d.W.confirmtext}).then(e=>{if(e.value){let e={};e.id=t.id,this._dataService.post("/fabric/deleteCat",e).subscribe(t=>{this.socket.emit("refresh",{}),"failed"!==t.result?this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_DELETE_EN:d.W.MSG_DELETE,"OK"):this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)},()=>{this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})}}),2==this._flagSwitch&&l().fire({title:"en"==this.user.lang?d.W.are_you_sure_en:d.W.are_you_sure,text:("en"==this.user.lang?t.cat_name_e:t.cat_name_l)+" ("+s(new Date(t.issue_date)).format("DD/MM/YYYY HH:mm")+")",icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?d.W.cancel_en:d.W.cancel,confirmButtonText:"en"==this.user.lang?d.W.confirmtext_en:d.W.confirmtext}).then(e=>{e.value&&this._dataService.post("/fabric/delete",{id:t.id}).subscribe(t=>{this.socket.emit("refresh",{}),"failed"!==t.result?this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_DELETE_EN:d.W.MSG_DELETE,"OK"):this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)},()=>{this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})}),4==this._flagSwitch&&l().fire({title:"en"==this.user.lang?d.W.are_you_sure_en:d.W.are_you_sure,text:"en"==this.user.lang?t.color_name_e:t.color_name_l,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?d.W.cancel_en:d.W.cancel,confirmButtonText:"en"==this.user.lang?d.W.confirmtext_en:d.W.confirmtext}).then(e=>{if(e.value){let e={};e.code=t.code,console.log(e),this._dataService.post("/color/delete",e).subscribe(t=>{this.socket.emit("refresh",{}),"failed"!==t.result?this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_DELETE_EN:d.W.MSG_DELETE,"OK"):this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)},()=>{this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})}}),5==this._flagSwitch&&l().fire({title:"en"==this.user.lang?d.W.are_you_sure_en:d.W.are_you_sure,text:"en"==this.user.lang?t.provider_name_e:t.provider_name_l,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?d.W.cancel_en:d.W.cancel,confirmButtonText:"en"==this.user.lang?d.W.confirmtext_en:d.W.confirmtext}).then(e=>{if(e.value){let e={};e.id=t.id,console.log(e),this._dataService.post("/provider/delete",e).subscribe(t=>{this.socket.emit("refresh",{}),"failed"!==t.result?this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_DELETE_EN:d.W.MSG_DELETE,"OK"):this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)},()=>{this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})}})}selectAll(t){(1==this._flagSwitch||5==this._flagSwitch||3==this._flagSwitch)&&(t.target.checked?(this.exportList=[],this._categories.forEach(t=>this.exportList.push(t.id))):this.exportList=[]),2==this._flagSwitch&&(t.target.checked?(this.exportList=[],this._categories.forEach(t=>{t.fabrics.forEach(t=>{this.exportList.push(t.id)})})):this.exportList=[]),4==this._flagSwitch&&(t.target.checked?(this.exportList=[],this._categories.forEach(t=>this.exportList.push(t.code))):this.exportList=[])}selectItem(t,e){2==this._flagSwitch&&(t.target.checked?(this.exportList.push(e),this.exportList.sort()):this.exportList=this.exportList.filter(t=>t!==e),console.log("Compare ",this._totalCategories,this.exportList)),(1==this._flagSwitch||5==this._flagSwitch||3==this._flagSwitch)&&(t.target.checked?(this.exportList.push(e),this.exportList.sort()):this.exportList=this.exportList.filter(t=>t!==e))}upload(){}_exportAll(t){let e=[],n=0;if(5==this._flagSwitch)for(let r of t){n+=1;let t={};var i="";if(null!=(a=this._categories.filter(t=>t.id==r))[0].contact_id){var o=a[0].contact_list.data.filter(t=>t.id==a[0].contact_id);i=o.length>0?o[0].fullname:""}"en"!=this.user.lang&&(t.STT=n,t.Nha_Cung_Cap=a[0].provider_name_l,t.Nguoi_Lien_He=i,t.phone=a[0].phone,t.email=a[0].email,t.Dia_Chi=a[0].address_l),e.push(t)}if(1==this._flagSwitch)for(let r of t){n+=1;let t={};var a=this._categories.filter(t=>t.id==r);"en"!=this.user.lang&&(t.STT=n,t.Ten_Danh_Muc=a[0].name_l,t.Trang_Thai=a[0].is_active?"Ho\u1ea1t \u0111\u1ed9ng":"B\u1ecb kho\xe1"),e.push(t)}if(2==this._flagSwitch)for(let r of t){n+=1;let t={};a=this._categories.filter(t=>t.id==r),"en"!=this.user.lang&&(t.STT=n,t.Ngay_Cap=s(new Date(a[0].issue_date)).format("DD/MM/YYYY HH:mm"),t.Loai_Vai=a[0].cat_name_l,t.Kieu=0==a[0].type_id?"Bo c\u1ed5":"Bo tay",t.Ten_Vai=a[0].fabric_name_l,t.Nha_Cung_Cap=a[0].provider_name_l,t.So_Cay=a[0].quantity_tree,t.So_Kg=a[0].quantity_kg,t.Ghi_Chu=a[0].note_l,t.Trang_Thai=a[0].is_active?"Ho\u1ea1t \u0111\u1ed9ng":"B\u1ecb kho\xe1"),e.push(t)}if(3==this._flagSwitch)for(let r of t){n+=1;let t={};a=this._categories.filter(t=>t.id==r),"en"!=this.user.lang&&(t.STT=n,t.Ngay_Cap=s(new Date(a[0].issue_date)).format("DD/MM/YYYY HH:mm"),t.Loai_Vai=a[0].cat_name_l,t.Kieu=0==a[0].type_id?"Bo c\u1ed5":"Bo tay",t.Ten_Vai=a[0].fabric_name_l,t.Mau_Nhuom=a[0].color_name_l,t.Nha_Cung_Cap=a[0].provider_name_l,t.So_Cay=a[0].quantity_tree+"/"+a[0].totalTree,t.So_Kg=a[0].quantity_kg+"/"+a[0].totalKg,t.Ghi_Chu=a[0].note_l,t.Trang_Thai=a[0].is_active?"Ho\u1ea1t \u0111\u1ed9ng":"B\u1ecb kho\xe1"),e.push(t)}if(4==this._flagSwitch)for(let r of t){n+=1;let t={};a=this._categories.filter(t=>t.code==r),"en"!=this.user.lang&&(t.STT=n,t.Ma_Mau=a[0].code,t.Ten_Mau=a[0].color_name_l,t.Trang_Thai=a[0].is_active?"Ho\u1ea1t \u0111\u1ed9ng":"B\u1ecb kho\xe1"),e.push(t)}e.length>0?(this._excelService.exportAsExcelFile(e,"Export-"+s(new Date).format("YYYY-MM-DD")),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_EXPORT_EN+" "+e.length+d.W.record_en:d.W.MSG_EXPORT+" "+e.length+d.W.record,"OK")):this._notifyService.showWarning("en"==this.user.lang?d.W.MSG_EXPORT_EN+" 0"+d.W.record_en:d.W.MSG_EXPORT+" 0"+d.W.record,"en"==this.user.lang?d.W.error_title_en:d.W.error_title),this.exportList=[]}saveChange(){1==this._flagSwitch&&("ADD"==this._flagModal?this._dataService.post("/fabric/addCat",this.entity).subscribe(t=>{"failed"==t.result?this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_ADD_EN:d.W.MSG_ADD,"OK"),this.entity={},this.entity.id=null,this.entity.name_l=null,this.entity.name_e=null,this.entity.is_active=!0)},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)}):this._dataService.post("/fabric/updateCat",this.entity).subscribe(t=>{"failed"==t.result?this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_UPDATE_EN:d.W.MSG_UPDATE,"OK"),this.entity=t.data)},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})),2==this._flagSwitch&&(this.entity.issue_date=this._dt1,"ADD"==this._flagModal?this._dataService.post("/fabric/add",this.entity).subscribe(t=>{this.socket.emit("refresh",{}),"failed"==t.result?this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):(this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_ADD_EN:d.W.MSG_ADD,"OK"),this.entity={},this.entity.id=null,this.entity.code=null,this.entity.type_id=0,this.entity.fabric_name_l=null,this.entity.fabric_name_e=null,this.entity.category_id=null,this.entity.provider_id=null,this.entity.is_active=!0,this.entity.note_l=null,this.entity.note_e=null,this.entity.quantity_tree=null,this.entity.quantity_kg=null,this._fdate=null,this._dt1="")},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)}):(console.log(this.entity),this._dataService.post("/fabric/update",this.entity).subscribe(t=>{console.log(t),this.socket.emit("refresh",{}),"failed"==t.result?this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):(this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_UPDATE_EN:d.W.MSG_UPDATE,"OK"),this.entity=t.data)},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)}))),4==this._flagSwitch&&("ADD"==this._flagModal?this._dataService.post("/color/add",this.entity).subscribe(t=>{"failed"!=t.result?(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_ADD_EN:d.W.MSG_ADD,"OK"),this.entity={},this.entity.code=null,this.entity.color_name_l=null,this.entity.color_name_e=null,this.entity.is_active=!0):this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_DUPLICATE_EN:d.W.MSG_ERROR_DUPLICATE,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)}):this._dataService.post("/color/update",this.entity).subscribe(t=>{"failed"==t.result?this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_UPDATE_EN:d.W.MSG_UPDATE,"OK"),this.entity=t.data)},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})),5==this._flagSwitch&&("ADD"==this._flagModal?this._dataService.post("/provider/add",this.entity).subscribe(t=>{"failed"==t.result?this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_ADD_EN:d.W.MSG_ADD,"OK"),this.entity=t.data,this._flagModal="UPDATE")},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)}):this._dataService.post("/provider/update",this.entity).subscribe(t=>{if(console.log("Return",t),"failed"==t.result)this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title);else if(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_UPDATE_EN:d.W.MSG_UPDATE,"OK"),this.entity=t.data,null!=t.data.contact_id){let e=this.entity.contact_list.data.filter(e=>e.id==t.data.contact_id)[0];this.entity.email=e.email,this.entity.phone=e.phone,this.entity.address_l=e.address_l,this.entity.address_e=e.address_e}},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)}))}switchStatus(t){l().fire({title:"en"==this.user.lang?d.W.are_u_sure_switch_en:d.W.are_u_sure_switch,text:"en"==this.user.lang?t.cat_name_e:t.cat_name_l,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?d.W.cancel_en:d.W.cancel,confirmButtonText:"en"==this.user.lang?d.W.confirmtext_en:d.W.confirmtext}).then(e=>{e.value&&this._dataService.post("/fabric/switchStatus",{id:t.id}).subscribe(t=>{console.log(t),this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_UPDATE_EN:d.W.MSG_UPDATE,"OK"),this.socket.emit("refresh",{})},()=>{this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})})}closeModal(){this.modalService.dismissAll()}loadProvider(){let t={};t.page=this.pageIndex,t.limit=this.pageSize,t.filter=this._keyword,this._dataService.post("/provider/getall",t).subscribe(t=>{console.log("Refresh",t.data),this._categories=t.data,this.totalRow=t.rowCount,this.totalPage=t.totalPages})}openModalContact(t,e){null==e?(this._flagSubModal="ADD",this.entitySub={},this.entitySub.id=null,this.entitySub.address_l=null,this.entitySub.address_e=null,this.entitySub.email=null,this.entitySub.phone=null,this.entitySub.is_active=!1):(this._flagSubModal="UPDATE",this.entitySub=e,this.entitySub.is_active=null!=e.is_active&&null!=e.is_active&&e.is_active),this.modalService.open(t,{size:"md",centered:!0})}saveChangeContact(){"ADD"==this._flagSubModal?(this.entitySub.id=h.v1(),this.entitySub.provider_id=this.entity.id,this._dataService.post("/provider/addContact",this.entitySub).subscribe(t=>{if(this.entity=t.data,null!=t.data.contact_id){let e=this.entity.contact_list.data.filter(e=>e.id==t.data.contact_id)[0];this.entity.email=e.email,this.entity.phone=e.phone,this.entity.address_l=e.address_l,this.entity.address_e=e.address_e}this.entitySub={},this.entitySub.id=null,this.entitySub.address_l=null,this.entitySub.address_e=null,this.entitySub.email=null,this.entitySub.phone=null,this.entitySub.is_active=!1,this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_ADD_EN:d.W.MSG_ADD,"OK")},()=>{this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})):(this.entitySub.provider_id=this.entity.id,this._dataService.post("/provider/updateContact",this.entitySub).subscribe(t=>{if(this.entity=t.data,null!=t.data.contact_id){let e=this.entity.contact_list.data.filter(e=>e.id==t.data.contact_id)[0];this.entity.email=e.email,this.entity.phone=e.phone,this.entity.address_l=e.address_l,this.entity.address_e=e.address_e}this.entitySub={},this.entitySub.id=null,this.entitySub.address_l=null,this.entitySub.address_e=null,this.entitySub.email=null,this.entitySub.phone=null,this.entitySub.is_active=!1,this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_UPDATE_EN:d.W.MSG_UPDATE,"OK")},()=>{this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)}))}getContact(t){if(null!=t){let e=this.entity.contact_list.data.filter(e=>e.id==t)[0];this.entity.email=e.email,this.entity.phone=e.phone,this.entity.address_l=e.address_l,this.entity.address_e=e.address_e}}popupContactModal(t,e){this.entity=e,this.modalService.open(t,{size:"xl",centered:!0})}popupEditModal(t,e,n){this._flagSubModal="UPDATE",this.entitySub=n,this.modalService.open(t,{size:"md",centered:!0})}deleteContact(t,e){l().fire({title:"en"==this.user.lang?d.W.are_you_sure_en:d.W.are_you_sure,text:e.fullname,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?d.W.cancel_en:d.W.cancel,confirmButtonText:"en"==this.user.lang?d.W.confirmtext_en:d.W.confirmtext}).then(n=>{if(n.value){let n={};n.id=e.id,n.provider_id=t.id,console.log(n),this._dataService.post("/provider/deleteContact",n).subscribe(t=>{console.log(t),this.entity=t.data,this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_DELETE_EN:d.W.MSG_DELETE,"OK"),this.socket.emit("refresh",{})},()=>{this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})}})}loadColors(){let t={};t.page=this.pageIndex,t.limit=this.pageSize,t.filter=this._keyword,this._dataService.post("/color/getall",t).subscribe(t=>{console.log(t),this._categories=t.data,this.totalRow=t.rowCount,this.totalPage=t.totalPages})}loadFabrics(){let t={};t.page=this.pageIndex,t.limit=this.pageSize,t.filter=this._keyword,this._dataService.post("/fabric/getalllist",t).subscribe(t=>{console.log(t),this._categories=t.data,this.totalRow=t.rowCount,this.totalPage=t.totalPages;let e=0;this.totalRow>0&&this._categories.forEach(t=>{e+=t.fabrics.length}),this._totalCategories=e})}loadMixFabrics(){let t={};t.page=this.pageIndex,t.limit=this.pageSize,t.filter=this._keyword,this._dataService.post("/mix-fabric/getalllist",t).subscribe(t=>{console.log(t),this._categories=t.data,this.totalRow=t.rowCount,this.totalPage=t.totalPages;let e=0;this.totalRow>0&&this._categories.forEach(t=>{e+=t.fabrics.length}),this._totalCategories=e})}loadCategories(){let t={};t.page=this.pageIndex,t.limit=this.pageSize,t.filter=this._keyword,this._dataService.post("/fabric/getallCat",t).subscribe(t=>{console.log(t),this._categories=t.data,this.totalRow=t.rowCount,this.totalPage=t.totalPages})}removeBlank(){this.entity.code=null==this.entity.code?null:this.entity.code.replace(" ","")}removeBlank1(){this.entitySub.code=null==this.entitySub.code?null:this.entitySub.code.replace(" ","")}loadCategoriesNP(){this._dataService.post("/fabric/getallCatnp",null).subscribe(t=>{this._getlistcategories=t.data.filter(t=>t.is_active)})}loadColorsNP(){this._dataService.post("/color/getallnp",null).subscribe(t=>{this._getlistcolors=t.data.filter(t=>t.is_active)})}loadProvidersNP(){this._dataService.post("/provider/getallnp",null).subscribe(t=>{this._getlistproviders=t.data.filter(t=>t.is_active)})}orgValueChange(t){null!=t&&"Invalid date"!=t?(this._fdate=t,this._dt1=s(this._fdate).format("YYYY-MM-DD HH:mm")):(this._fdate=null,this._dt1=null)}orgValueChangea(t){null!=t&&"Invalid date"!=t?(this._fdatea=t,this._dt1a=s(this._fdatea).format("YYYY-MM-DD HH:mm")):(this._fdatea=null,this._dt1a=null),console.log(this._dt1a)}transferMixFabric(t,e){this.loadColorsNP(),this.loadProvidersNP(),this.entityTemp=e,this.entitySub={},this.entitySub.code=e.code,this.entitySub.color_id=null,this.entitySub.provider_id=null,this.entitySub.quantity_kg=null,this.entitySub.quantity_tree=null,this._fdatea=null,this._dt1a=null,this.modalService.open(t,{size:"md",centered:!0})}_submitTransfer(){let t={};t.id=this.entityTemp.id,console.log(t),this._dataService.post("/fabric/detail",t).subscribe(t=>{console.log("Detail",t);let e={};e.quantity_tree=t.data.total_tree,e.quantity_kg=t.data.total_kg,e.issue_date=this._dt1a;let n=null==this.entitySub.quantity_kg?0:this.entitySub.quantity_kg,i=null==this.entitySub.quantity_tree?0:this.entitySub.quantity_tree;if(i<=e.quantity_tree)return n<=e.quantity_kg?(e.category_id=this.entityTemp.id,e.code=this.entitySub.code.toUpperCase(),e.color_id=this.entitySub.color_id,void(null==this.entitySub.color_id||null==this.entitySub.provider_id||null==e.issue_date||0==i&&0==n?this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):(e.quantity_tree=i,e.quantity_kg=n,e.created_by=this.user.id,e.provider_id=this.entitySub.provider_id,e.ipaddress=this.user.ipaddress,e.short_code=this.user.short_code,2!=e.type_id||0!=e.quantity_tree?0!=e.type_id&&1!=e.type_id||0!=e.quantity_kg?this._dataService.post("/fabric/transfer",e).subscribe(t=>{console.log(t),"failed"==t.result?this._notifyService.showError("Same code"==t.message?"en"==this.user.lang?d.W.MSG_ERROR_SAME_EN:d.W.MSG_ERROR_SAME:"en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_UPDATE_EN:d.W.MSG_UPDATE,"OK"))}):this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_OTHER_QTY_EN:d.W.MSG_ERROR_OTHER_QTY,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_FABRIC_QTY_EN:d.W.MSG_ERROR_FABRIC_QTY,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)))):(console.log(this.entitySub.color_id,i,n,e.quantity_tree,e.quantity_kg),void this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_QTY_EN:d.W.MSG_ERROR_QTY,"en"==this.user.lang?d.W.error_title_en:d.W.error_title));this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_QTY_EN:d.W.MSG_ERROR_QTY,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})}returnWarehouse(t,e){this.entityTemp=e,this.entitySub={},this.entitySub.quantity_tree=null,this.entitySub.quantity_kg=null,this.modalService.open(t,{size:"md",centered:!0})}_submitReturn(){let t={};t.id=this.entityTemp.id,t.fabric_id=this.entityTemp.fabric_id,t.returnTree=null==this.entitySub.quantity_tree?0:this.entitySub.quantity_tree,t.returnKg=null==this.entitySub.quantity_kg?0:this.entitySub.quantity_kg,0!=t.returnTree||0!=t.returnKg?(t.note_l=this.entitySub.note_l,t.note_e=this.entitySub.note_e,t.created_by=this.user.id,t.ipaddress=this.user.ipaddress,t.short_code=this.user.short_code,this._dataService.post("/mix-fabric/return",t).subscribe(t=>{console.log(t),"failed"==t.result?this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_UPDATE_EN:d.W.MSG_UPDATE,"OK"))},()=>this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title))):this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)}checkQuantity(t,e){if(t>this.entityTemp.quantity_tree||e>this.entityTemp.quantity_kg)return this.entitySub.quantity_tree=this.entityTemp.quantity_tree,this.entitySub.quantity_kg=this.entityTemp.quantity_kg,void this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_QTY_EN:d.W.MSG_ERROR_QTY,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)}popUpAdjustQuantity(t,e){this.adjustQty=e,this.modalService.open(t,{size:"md",centered:!0})}_updateQuantity(){this.isSaveAdjust=!0,l().fire({title:"en"==this.user.lang?d.W.are_u_sure_adjust_en:d.W.are_u_sure_adjust,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"en"==this.user.lang?d.W.cancel_en:d.W.cancel,confirmButtonText:"en"==this.user.lang?d.W.confirmtext_en:d.W.confirmtext}).then(t=>{t.value&&this._dataService.post("/fabric/updateQtyNote",this.adjustQty).subscribe(t=>{this.isSaveAdjust=!1,"failed"==t.result?this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title):(this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?d.W.MSG_UPDATE_EN:d.W.MSG_UPDATE,"OK"))},()=>{this.isSaveAdjust=!1,this._notifyService.showError("en"==this.user.lang?d.W.MSG_ERROR_EN:d.W.MSG_ERROR,"en"==this.user.lang?d.W.error_title_en:d.W.error_title)})})}}return t.\u0275fac=function(e){return new(e||t)(_.Y36(Z.e),_.Y36(p.FF),_.Y36(f.D),_.Y36(a.F0),_.Y36(A.c),_.Y36(m.C),_.Y36(x.x))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-cat-list"]],decls:23,vars:1,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-body"],[1,"form-row"],[4,"ngFor","ngForOf"],["content",""],["contentModal",""],["contactModal",""],["contentContactListModal",""],["transferMixFabricModal",""],["contentReturnModal",""],["quantityMixFabricModal",""],[1,"col-md-2","mb-3"],["type","button",2,"width","100%",3,"ngClass","click"],[1,"badge","badge-danger"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-9"],[1,"form-group","form-inline"],["type","text","name","_keyword",1,"form-control","mr-sm-1",3,"placeholder","ngModel","ngModelChange","keyup.enter","change"],["class","btn btn-sm btn-primary mr-sm-1",3,"click",4,"ngIf"],[4,"ngIf"],["src","../../../../assets/img/circles.svg","width","17px","class","mr-sm-1",4,"ngIf"],[1,"col-md-3"],[1,"form-group"],[1,"form-inline",2,"float","right"],["id","select11","name","select11",1,"form-control","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-md-12"],["class","col-sm-12 col-lg-12 col-xl-12",4,"ngIf"],["style","overflow-x: auto",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-sm-1",3,"click"],["class","btn btn-sm btn-danger mr-sm-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-danger","mr-sm-1",3,"click"],[1,"btn","btn-sm","btn-success","mr-sm-1",3,"click"],["src","../../../../assets/img/circles.svg","width","17px",1,"mr-sm-1"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],[2,"overflow-x","auto"],[1,"table","table-hover","table-striped"],[1,"table-primary"],[2,"width","2px","text-align","center"],[2,"width","10px","text-align","center"],["type","checkbox","name","checkAll",3,"disabled","checked","change"],["scope","col"],["colspan","8",1,"text-center","text-danger"],["type","checkbox",3,"name","checked","change"],["class","fa fa-check-circle text-success",4,"ngIf"],["class","fa fa-times-circle text-danger",4,"ngIf"],[1,"btn","btn-sm","btn-warning","mr-sm-1",3,"ngbTooltip","click"],[1,"icofont","icofont-pencil-alt-5"],[1,"btn","btn-sm","btn-secondary","mr-sm-1",3,"ngbTooltip","click"],[1,"fa","fa-address-book-o"],[1,"btn","btn-sm","btn-danger","mr-sm-1",3,"ngbTooltip","click"],[1,"fa","fa-trash"],[1,"fa","fa-check-circle","text-success"],[1,"fa","fa-times-circle","text-danger"],["colspan","7",1,"text-center","text-danger"],["colspan","6",1,"text-center","text-danger"],["colspan","11",1,"text-center","text-danger"],["href","javascript:;",3,"click"],[3,"ngClass"],[1,"text-danger"],[1,"fa","fa-share"],[2,"cursor","pointer","font-weight","bold",3,"click"],["href","javascript:;",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"form","theme-form",3,"ngSubmit"],["form","ngForm"],["class","form-group row",4,"ngIf"],[1,"modal-footer"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[1,"col-md-6"],["for","Name1"],["type","text","id","Name1","name","Name1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Name1a"],["type","text","id","Name1a","name","Name1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"form-group","m-t-15","ml-1"],["for","Status1"],[1,"checkbox","checkbox-primary"],["id","Status1","type","checkbox","name","Status1",3,"ngModel","ngModelChange"],["for","Type2"],["id","Type2","name","Type2","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["for","IssueDate2"],["id","IssueDate2","type","text","bsDatepicker","","name","_fdate","autocomplete","off","required","",1,"form-control",3,"placeholder","ngModel","bsConfig","ngModelChange","bsValueChange"],["for","Category2"],["name","Category2","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["for","Provider2"],["name","Provider2","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["for","Quantity2"],["type","text","min","0","id","Quantity2","name","Quantity2","autocomplete","off","mask","separator.2","thousandSeparator",",",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Quantity2a"],["type","text","min","0","id","Quantity2a","name","Quantity2a","autocomplete","off","mask","separator.2","thousandSeparator",",",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Note2"],["rows","2","id","Note2","name","Note2","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["rows","2","id","Note2a","name","Note2a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Status2"],["id","Status2","type","checkbox","name","Status1",3,"ngModel","ngModelChange"],["for","Code4"],["type","text","id","Code4","name","Code4","required","","autocomplete","off",1,"form-control",2,"text-transform","uppercase",3,"placeholder","ngModel","keyup","ngModelChange"],["for","Name4"],["type","text","id","Name4","name","Name4","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Name4a"],["type","text","id","Name4a","name","Name4a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Status4"],["id","Status4","type","checkbox","name","Status4",3,"ngModel","ngModelChange"],["for","Name5"],["type","text","id","Name5","name","Name5","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Name5a"],["type","text","id","Name5a","name","Name5a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Note5"],["type","text","id","Note5","name","Note5","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Note5a"],["type","text","id","Note5a","name","Note5a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Contact5"],["name","Contact5","bindValue","id","bindLabel","fullname","required","",3,"items","multiple","closeOnSelect","searchable","ngModel","placeholder","notFoundText","ngModelChange","change"],["for","Status5"],["id","Status5","type","checkbox","name","Status5",3,"ngModel","ngModelChange"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],["for","Email5"],["type","text","id","Email5","name","Email5","autocomplete","off","disabled","",1,"form-control",2,"background-color","rgb(235, 235, 235)",3,"placeholder","ngModel","ngModelChange"],["for","Phone5"],["type","text","id","Phone5","name","Phone5","autocomplete","off","disabled","",1,"form-control",2,"background-color","rgb(235, 235, 235)",3,"placeholder","ngModel","ngModelChange"],["for","Address5"],["type","text","id","Address5","name","Address5","autocomplete","off","disabled","",1,"form-control",2,"background-color","rgb(235, 235, 235)",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Address5b","name","Address5b","autocomplete","off","disabled","",1,"form-control",2,"background-color","rgb(235, 235, 235)",3,"placeholder","ngModel","ngModelChange"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","submit",1,"btn","btn-primary",3,"disabled"],["form1","ngForm"],["for","ContactName5"],["type","text","id","ContactName5","name","ContactName5","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","ContactAddName5"],["type","text","id","ContactAddName5","name","ContactAddName5","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","ContactAddName5a","name","ContactAddName5a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","PhoneContact5"],["type","text","id","PhoneContact5","name","PhoneContact5","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","EmailContact5"],["type","text","id","EmailContact5","name","EmailContact5","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","Primary"],["id","Primary","type","checkbox","name","Primary",3,"ngModel","ngModelChange"],[1,"form","theme-form"],["class","col-sm-12 col-lg-12 col-xl-6","style","text-align: right",4,"ngIf"],[1,"col-12"],[1,"table-responsive"],["id","hor-minimalist-line-border"],[1,"scope"],["for","transCode"],["id","transCode","type","text","name","transCode","autocomplete","off","required","",1,"form-control",2,"text-transform","uppercase",3,"placeholder","ngModel","ngModelChange","keyup"],["for","transColor"],["name","transColor","bindValue","code","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["for","transIssueDate"],["id","transIssueDate","type","text","bsDatepicker","","name","transIssueDate","autocomplete","off","required","",1,"form-control",3,"placeholder","ngModel","bsConfig","ngModelChange","bsValueChange"],["for","transProvider"],["name","transProvider","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["for","transQtyTree"],["type","text","min","0","id","transQtyTree","name","transQtyTree","autocomplete","off","mask","separator.2","thousandSeparator",",",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","transQtyKg"],["type","text","min","0","id","transQtyKg","name","transQtyKg","autocomplete","off","mask","separator.2","thousandSeparator",",",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["for","returnQtyTree"],["type","number","min","0","id","returnQtyTree","name","returnQtyTree","autocomplete","off",1,"form-control",3,"max","placeholder","ngModel","change","ngModelChange"],["for","returnQtyKg"],["type","number","min","0","id","returnQtyKg","name","returnQtyKg","autocomplete","off",1,"form-control",3,"max","placeholder","ngModel","change","ngModelChange"],["for","returnNote"],["type","text","id","returnNote","name","returnNote","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","returnNotea","name","returnNotea","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","transQtyKgup"],["type","text","min","0","id","transQtyKgup","name","transQtyKgup","autocomplete","off","mask","separator.2","thousandSeparator",",",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","returnNoteup"],["type","text","id","returnNoteup","name","returnNoteup","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","returnNoteupa","name","returnNoteupa","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"]],template:function(t,e){1&t&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"div",5),_.TgZ(6,"div",6),_.TgZ(7,"div",7),_.YNc(8,v,7,5,"ng-container",8),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.YNc(9,mt,37,18,"ng-template",null,9,_.W1O),_.YNc(11,Et,19,14,"ng-template",null,10,_.W1O),_.YNc(13,Rt,60,52,"ng-template",null,11,_.W1O),_.YNc(15,Qt,41,25,"ng-template",null,12,_.W1O),_.YNc(17,Ht,65,67,"ng-template",null,13,_.W1O),_.YNc(19,It,40,40,"ng-template",null,14,_.W1O),_.YNc(21,jt,33,29,"ng-template",null,15,_.W1O)),2&t&&(_.xp6(8),_.Q6J("ngForOf",e._menu))},directives:[o.sg,o.mk,i.Fj,i.JJ,i.On,o.O5,i.EJ,i.YN,i.Kr,y.Qt,p._L,i._Y,i.JL,i.F,i.Q7,i.Wl,q.Y5,q.Np,T.w9,S.hx,i.qQ,i.Fd,i.wV],pipes:[M.X$,o.uU,o.JJ],styles:[""]}),t})(),data:{title:"Category of fabric",breadcrumb:"Category of fabric"}}]}];let $t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({imports:[[a.Bz.forChild(Bt)],a.Bz]}),t})();var Kt=n(32579),zt=n(72533),Vt=n(93184),Xt=n(10743),te=n(70453),ee=n(63301),ne=n(16417),ie=n(75690),oe=n(58920),ae=n(25689),re=n(36845);let le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({providers:[Z.e,f.D,M.sK,m.C,Kt.t],imports:[[o.ez,$t,M.aw,i.u5,i.UX,zt.JX,Vt.m9,Xt.mr,q.kn.forRoot(),y.u3.forRoot(),te.f.forRoot(),ee.zk.forRoot(),ne.xc,ie.P4,oe.F5,ae.kW,p.IJ,T.A0,S.yI.forRoot(),re.Xd],M.aw]}),t})()}}]);