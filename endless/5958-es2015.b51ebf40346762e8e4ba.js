"use strict";(self.webpackChunkendless=self.webpackChunkendless||[]).push([[5958],{25958:function(e,i,t){t.r(i),t.d(i,{ChatModule:function(){return J}});var n=t(38583),a=t(3679),l=t(39895),s=t(37716),r=t(558);const c=function(e,i){return{online:e,offline:i}};function o(e,i){if(1&e){const e=s.EpF();s.TgZ(0,"li",94),s.TgZ(1,"a",95),s.NdJ("click",function(){s.CHM(e);const i=s.oxw().$implicit;return s.oxw().userChat(i.id)}),s._UZ(2,"img",8),s._UZ(3,"div",96),s.TgZ(4,"div",9),s.TgZ(5,"div",28),s._uU(6),s.qZA(),s.TgZ(7,"div",11),s._uU(8),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(2),s.Q6J("src",null==e?null:e.profile,s.LSH),s.xp6(1),s.Q6J("ngClass",s.WLB(4,c,e.online,!e.online)),s.xp6(3),s.Oqu(null==e?null:e.name),s.xp6(2),s.Oqu(null==e?null:e.status)}}function Z(e,i){if(1&e&&(s.ynx(0),s.YNc(1,o,9,7,"li",93),s.BQk()),2&e){const e=i.$implicit;s.xp6(1),s.Q6J("ngIf",1!=e.authenticate)}}function g(e,i){1&e&&(s.ynx(0),s.TgZ(1,"div",97),s.TgZ(2,"div"),s._UZ(3,"img",98),s.TgZ(4,"p"),s._uU(5,"Sorry, We didn't find any results matching this search"),s.qZA(),s.qZA(),s.qZA(),s.BQk())}function u(e,i){1&e&&(s.TgZ(0,"span",99),s._uU(1,"Typing..."),s.qZA())}function d(e,i){if(1&e&&(s.TgZ(0,"div",103),s._UZ(1,"img",104),s.TgZ(2,"div",105),s.TgZ(3,"span",106),s._uU(4),s.qZA(),s.qZA(),s._uU(5),s.qZA()),2&e){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("src",null==i.chatUser?null:i.chatUser.profile,s.LSH),s.xp6(3),s.Oqu(null==e?null:e.time),s.xp6(1),s.hij(" ",null==e?null:e.text," ")}}function f(e,i){if(1&e&&(s.TgZ(0,"div",107),s._UZ(1,"img",108),s.TgZ(2,"div",109),s.TgZ(3,"span",106),s._uU(4),s.qZA(),s.qZA(),s._uU(5),s.qZA()),2&e){const e=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.Q6J("src",null==i.profile?null:i.profile.profile,s.LSH),s.xp6(3),s.Oqu(null==e?null:e.time),s.xp6(1),s.hij(" ",null==e?null:e.text," ")}}const p=function(e){return{clearfix:e}};function h(e,i){if(1&e&&(s.TgZ(0,"li",100),s.YNc(1,d,6,3,"div",101),s.YNc(2,f,6,3,"ng-template",null,102,s.W1O),s.qZA()),2&e){const e=i.$implicit,t=s.MAs(3),n=s.oxw();s.Q6J("ngClass",s.VKq(3,p,e.sender==n.profile.id)),s.xp6(1),s.Q6J("ngIf",e.sender!=n.profile.id)("ngIfElse",t)}}function T(e,i){1&e&&(s.ynx(0),s.TgZ(1,"div",110),s.TgZ(2,"div",111),s._UZ(3,"img",112),s.qZA(),s.qZA(),s.BQk())}function q(e,i){1&e&&s._UZ(0,"i",115)}function A(e,i){1&e&&s._UZ(0,"i",116)}function m(e,i){if(1&e&&(s.TgZ(0,"li",94),s._UZ(1,"img",8),s.TgZ(2,"div",9),s.TgZ(3,"div",28),s._uU(4),s.qZA(),s.TgZ(5,"div",11),s.YNc(6,q,1,0,"i",113),s.YNc(7,A,1,0,"i",114),s._uU(8),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("src",null==e?null:e.profile,s.LSH),s.xp6(3),s.Oqu(null==e?null:e.name),s.xp6(2),s.Q6J("ngIf","outgoing"==(null==e||null==e.call?null:e.call.status)),s.xp6(1),s.Q6J("ngIf","incoming"==(null==e||null==e.call?null:e.call.status)),s.xp6(1),s.hij("\xa0\xa0",null==e?null:e.call.date_time," ")}}function v(e,i){if(1&e&&(s.ynx(0),s.YNc(1,m,9,5,"li",93),s.BQk()),2&e){const e=i.$implicit;s.xp6(1),s.Q6J("ngIf",1!=e.authenticate)}}const U=function(){return{standalone:!0}},x=function(e){return{active:e}},b=function(e){return{"show active":e}},_=[{path:"",children:[{path:"",component:(()=>{class e{constructor(e){this.chatService=e,this.openTab="call",this.users=[],this.searchUsers=[],this.error=!1,this.notFound=!1,this.chatService.getUsers().subscribe(e=>{this.searchUsers=e,this.users=e})}ngOnInit(){this.userChat(this.id),this.getProfile()}tabbed(e){this.openTab=e}getProfile(){this.chatService.getCurrentUser().subscribe(e=>this.profile=e)}userChat(e=1){this.chatService.chatToUser(e).subscribe(e=>this.chatUser=e),this.chatService.getChatHistory(e).subscribe(e=>this.chats=e)}sendMessage(e){if(!e.value.message)return this.error=!0,!1;this.error=!1,this.chatService.sendMessage({sender:this.profile.id,receiver:this.chatUser.id,receiver_name:this.chatUser.name,message:e.value.message}),this.chatText="",this.chatUser.seen="online",this.chatUser.online=!0}searchTerm(e){if(!e)return this.searchUsers=this.users;e=e.toLowerCase();let i=[];this.users.filter(t=>{t.name.toLowerCase().includes(e)&&i.push(t)}),this.searchUsers=i}}return e.\u0275fac=function(i){return new(i||e)(s.Y36(r.a))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-chat"]],decls:156,vars:38,consts:[[1,"container-fluid"],[1,"row"],[1,"col","call-chat-sidebar","col-sm-12"],[1,"card"],[1,"card-body","chat-body"],[1,"chat-box"],[1,"chat-left-aside"],[1,"media"],["alt","",1,"rounded-circle","user-image",3,"src"],[1,"about"],[1,"name","f-w-600"],[1,"status"],["id","people-list",1,"people-list"],[1,"search"],[1,"theme-form"],[1,"form-group"],["type","text","placeholder","search",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],[1,"fa","fa-search"],[1,"list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col","call-chat-body"],[1,"card-body","p-0"],[1,"row","chat-box"],[1,"col","pr-0","chat-right-aside"],[1,"chat"],[1,"chat-header","clearfix"],["alt","",1,"rounded-circle",3,"src"],[1,"name"],["class","font-primary f-12",4,"ngIf"],[1,"status","digits"],[1,"list-inline","float-left","float-sm-right","chat-menu-icons"],[1,"list-inline-item"],["href","javascript:void(0)"],[1,"icon-search"],[1,"icon-clip"],[1,"icon-headphone-alt"],[1,"icon-video-camera"],[1,"list-inline-item","toogle-bar"],[1,"icon-menu"],[1,"chat-history","chat-msg-box","custom-scrollbar"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngSubmit"],["chatForm","ngForm"],[1,"chat-message","clearfix"],[1,"col-xl-12","d-flex"],[1,"smiley-box","bg-primary"],[1,"picker"],["src","assets/images/smiley.png","alt",""],[1,"input-group","text-box"],["id","message-to-send","ngModel","","type","text","name","message","placeholder","Type a message......",1,"form-control","input-txt-bx",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col","pl-0","chat-menu"],["id","info-tab","role","tablist",1,"nav","nav-tabs","nav-material","nav-primary"],[1,"nav-item"],["href","javascript:void(0)","id","info-home-tab",1,"nav-link",3,"ngClass","click"],[1,"material-border"],["href","javascript:void(0)","id","profile-info-tab",1,"nav-link",3,"ngClass","click"],["href","javascript:void(0)","id","contact-info-tab",1,"nav-link",3,"ngClass","click"],["id","info-tabContent",1,"tab-content"],["id","info-home","role","tabpanel","aria-labelledby","info-home-tab",1,"tab-pane","fade",3,"ngClass"],[1,"people-list"],[1,"list","digits"],["id","info-profile","role","tabpanel","aria-labelledby","profile-info-tab",1,"tab-pane","fade",3,"ngClass"],["type","text","placeholder","Write Status...",1,"form-control"],[1,"fa","fa-pencil"],[1,"font-dark"],[1,"icofont","icofont-emo-heart-eyes","font-danger","f-20"],[1,"icofont","icofont-emo-heart-eyes","font-danger","f-20","m-l-5"],[1,"icofont","icofont-emo-rolling-eyes","font-success","f-20"],["id","info-contact","role","tabpanel","aria-labelledby","contact-info-tab",1,"tab-pane","fade",3,"ngClass"],[1,"user-profile"],[1,"image"],[1,"avatar","text-center"],["alt","",3,"src"],[1,"icon-wrapper"],[1,"icofont","icofont-pencil-alt-5"],[1,"user-content","text-center"],[1,"text-uppercase"],[1,"social-media"],[1,"list-inline"],[1,"fa","fa-facebook"],[1,"fa","fa-google-plus"],[1,"fa","fa-twitter"],[1,"fa","fa-instagram"],[1,"fa","fa-rss"],[1,"follow","text-center"],[1,"col","border-right"],[1,"follow-num"],[1,"col"],[1,"text-center","digits"],[1,"mb-0"],["class","clearfix",4,"ngIf"],[1,"clearfix"],["href","javascript:void(0)",3,"click"],[1,"status-circle",3,"ngClass"],[1,"search-not-found","chat-search","text-center"],["src","assets/images/search-not-found.png","alt","",1,"second-search"],[1,"font-primary","f-12"],[3,"ngClass"],["class","message my-message mb-0",4,"ngIf","ngIfElse"],["myChat",""],[1,"message","my-message","mb-0"],["alt","",1,"rounded-circle","float-left","chat-user-img","img-30",3,"src"],[1,"message-data","text-right"],[1,"message-data-time"],[1,"message","other-message","pull-right"],["alt","",1,"rounded-circle","float-right","chat-user-img","img-30",3,"src"],[1,"message-data"],[1,"image-not-found"],[1,"d-block","start-conversion"],["src","assets/images/start-conversion.jpg"],["class","fa fa-share font-success",4,"ngIf"],["class","fa fa-reply font-danger",4,"ngIf"],[1,"fa","fa-share","font-success"],[1,"fa","fa-reply","font-danger"]],template:function(e,i){if(1&e){const e=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"div",6),s.TgZ(7,"div",7),s._UZ(8,"img",8),s.TgZ(9,"div",9),s.TgZ(10,"div",10),s._uU(11),s.qZA(),s.TgZ(12,"div",11),s._uU(13),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"div",12),s.TgZ(15,"div",13),s.TgZ(16,"form",14),s.TgZ(17,"div",15),s.TgZ(18,"input",16),s.NdJ("ngModelChange",function(e){return i.searchText=e})("keyup",function(){return i.searchTerm(i.searchText)}),s.qZA(),s._UZ(19,"i",17),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"ul",18),s.YNc(21,Z,2,1,"ng-container",19),s.YNc(22,g,6,0,"ng-container",20),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(23,"div",21),s.TgZ(24,"div",3),s.TgZ(25,"div",22),s.TgZ(26,"div",23),s.TgZ(27,"div",24),s.TgZ(28,"div",25),s.TgZ(29,"div",26),s._UZ(30,"img",27),s.TgZ(31,"div",9),s.TgZ(32,"div",28),s._uU(33),s.YNc(34,u,2,0,"span",29),s.qZA(),s.TgZ(35,"div",30),s._uU(36),s.qZA(),s.qZA(),s.TgZ(37,"ul",31),s.TgZ(38,"li",32),s.TgZ(39,"a",33),s._UZ(40,"i",34),s.qZA(),s.qZA(),s.TgZ(41,"li",32),s.TgZ(42,"a",33),s._UZ(43,"i",35),s.qZA(),s.qZA(),s.TgZ(44,"li",32),s.TgZ(45,"a",33),s._UZ(46,"i",36),s.qZA(),s.qZA(),s.TgZ(47,"li",32),s.TgZ(48,"a",33),s._UZ(49,"i",37),s.qZA(),s.qZA(),s.TgZ(50,"li",38),s.TgZ(51,"a",33),s._UZ(52,"i",39),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(53,"div",40),s.TgZ(54,"ul"),s.YNc(55,h,4,5,"li",41),s.YNc(56,T,4,0,"ng-container",20),s.qZA(),s.qZA(),s.TgZ(57,"form",42,43),s.NdJ("ngSubmit",function(){s.CHM(e);const t=s.MAs(58);return i.sendMessage(t)}),s.TgZ(59,"div",44),s.TgZ(60,"div",1),s.TgZ(61,"div",45),s.TgZ(62,"div",46),s.TgZ(63,"div",47),s._UZ(64,"img",48),s.qZA(),s.qZA(),s.TgZ(65,"div",49),s.TgZ(66,"input",50),s.NdJ("ngModelChange",function(e){return i.chatText=e}),s.qZA(),s.TgZ(67,"div",51),s.TgZ(68,"button",52),s.NdJ("click",function(){s.CHM(e);const t=s.MAs(58);return i.sendMessage(t)}),s._uU(69,"SEND"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(70,"div",53),s.TgZ(71,"ul",54),s.TgZ(72,"li",55),s.TgZ(73,"a",56),s.NdJ("click",function(){return i.tabbed("call")}),s._uU(74,"CALL"),s.qZA(),s._UZ(75,"div",57),s.qZA(),s.TgZ(76,"li",55),s.TgZ(77,"a",58),s.NdJ("click",function(){return i.tabbed("status")}),s._uU(78,"STATUS"),s.qZA(),s._UZ(79,"div",57),s.qZA(),s.TgZ(80,"li",55),s.TgZ(81,"a",59),s.NdJ("click",function(){return i.tabbed("profile")}),s._uU(82,"PROFILE"),s.qZA(),s._UZ(83,"div",57),s.qZA(),s.qZA(),s.TgZ(84,"div",60),s.TgZ(85,"div",61),s.TgZ(86,"div",62),s.TgZ(87,"ul",63),s.YNc(88,v,2,1,"ng-container",19),s.qZA(),s.qZA(),s.qZA(),s.TgZ(89,"div",64),s.TgZ(90,"div",62),s.TgZ(91,"div",13),s.TgZ(92,"form",14),s.TgZ(93,"div",15),s._UZ(94,"input",65),s._UZ(95,"i",66),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(96,"div",11),s.TgZ(97,"p",67),s._uU(98,"Active"),s.qZA(),s._UZ(99,"hr"),s.TgZ(100,"p"),s._uU(101," Established fact that a reader will be distracted \xa0"),s._UZ(102,"i",68),s._UZ(103,"i",69),s.qZA(),s._UZ(104,"hr"),s.TgZ(105,"p"),s._uU(106,"Dolore magna aliqua \xa0"),s._UZ(107,"i",70),s.qZA(),s.qZA(),s.qZA(),s.TgZ(108,"div",71),s.TgZ(109,"div",72),s.TgZ(110,"div",73),s.TgZ(111,"div",74),s._UZ(112,"img",75),s.qZA(),s.TgZ(113,"div",76),s._UZ(114,"i",77),s.qZA(),s.qZA(),s.TgZ(115,"div",78),s.TgZ(116,"h5",79),s._uU(117),s.qZA(),s.TgZ(118,"div",80),s.TgZ(119,"ul",81),s.TgZ(120,"li",32),s.TgZ(121,"a",33),s._UZ(122,"i",82),s.qZA(),s.qZA(),s.TgZ(123,"li",32),s.TgZ(124,"a",33),s._UZ(125,"i",83),s.qZA(),s.qZA(),s.TgZ(126,"li",32),s.TgZ(127,"a",33),s._UZ(128,"i",84),s.qZA(),s.qZA(),s.TgZ(129,"li",32),s.TgZ(130,"a",33),s._UZ(131,"i",85),s.qZA(),s.qZA(),s.TgZ(132,"li",32),s.TgZ(133,"a",33),s._UZ(134,"i",86),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(135,"hr"),s.TgZ(136,"div",87),s.TgZ(137,"div",1),s.TgZ(138,"div",88),s.TgZ(139,"span"),s._uU(140,"Following"),s.qZA(),s.TgZ(141,"div",89),s._uU(142,"236k"),s.qZA(),s.qZA(),s.TgZ(143,"div",90),s.TgZ(144,"span"),s._uU(145,"Follower"),s.qZA(),s.TgZ(146,"div",89),s._uU(147,"3691k"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(148,"hr"),s.TgZ(149,"div",91),s.TgZ(150,"p",92),s._uU(151,"Mark.jecno23@gmail.com"),s.qZA(),s.TgZ(152,"p",92),s._uU(153,"+91 365 - 658 - 1236"),s.qZA(),s.TgZ(154,"p",92),s._uU(155,"Fax: 123-4560"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}2&e&&(s.xp6(8),s.Q6J("src",null==i.profile?null:i.profile.profile,s.LSH),s.xp6(3),s.Oqu(null==i.profile?null:i.profile.name),s.xp6(2),s.Oqu(null==i.profile?null:i.profile.status),s.xp6(5),s.Q6J("ngModel",i.searchText)("ngModelOptions",s.DdM(25,U)),s.xp6(3),s.Q6J("ngForOf",i.searchUsers),s.xp6(1),s.Q6J("ngIf",!i.searchUsers.length),s.xp6(8),s.Q6J("src",null==i.chatUser?null:i.chatUser.profile,s.LSH),s.xp6(3),s.hij("",null==i.chatUser?null:i.chatUser.name,"\xa0\xa0"),s.xp6(1),s.Q6J("ngIf",null==i.chatUser?null:i.chatUser.typing),s.xp6(2),s.Oqu(null==i.chatUser?null:i.chatUser.seen),s.xp6(19),s.Q6J("ngForOf",null==i.chats?null:i.chats.message),s.xp6(1),s.Q6J("ngIf",!(null!=i.chats&&i.chats.message.length)),s.xp6(10),s.ekj("border-danger",i.error),s.Q6J("ngModel",i.chatText),s.xp6(7),s.Q6J("ngClass",s.VKq(26,x,"call"==i.openTab)),s.xp6(4),s.Q6J("ngClass",s.VKq(28,x,"status"==i.openTab)),s.xp6(4),s.Q6J("ngClass",s.VKq(30,x,"profile"==i.openTab)),s.xp6(4),s.Q6J("ngClass",s.VKq(32,b,"call"==i.openTab)),s.xp6(3),s.Q6J("ngForOf",i.users),s.xp6(1),s.Q6J("ngClass",s.VKq(34,b,"status"==i.openTab)),s.xp6(19),s.Q6J("ngClass",s.VKq(36,b,"profile"==i.openTab)),s.xp6(4),s.Q6J("src",null==i.profile?null:i.profile.profile,s.LSH),s.xp6(5),s.Oqu(null==i.profile?null:i.profile.name))},directives:[a._Y,a.JL,a.F,a.Fj,a.JJ,a.On,n.sg,n.O5,n.mk],styles:[""]}),e})(),data:{title:"Chat",breadcrumb:""}}]}];let y=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[l.Bz.forChild(_)],l.Bz]}),e})(),J=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ez,a.u5,a.UX,y]]}),e})()}}]);