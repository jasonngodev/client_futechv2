!function(){function e(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var c;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(c=n(e))||t&&e&&"number"==typeof e.length){c&&(e=c);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,o=!1;return{s:function(){c=e[Symbol.iterator]()},n:function(){var e=c.next();return l=e.done,e},e:function(e){o=!0,r=e},f:function(){try{l||null==c.return||c.return()}finally{if(o)throw r}}}}function n(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function r(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{PG0K:function(n,c,a){"use strict";a.r(c),a.d(c,"SubmissionsModule",function(){return jc});var l=a("ofXK"),o=a("VToC"),s=a("25+x"),d=a("cplz"),u=a("7dP1"),g=a("bmg4"),h=a("44PX"),f=a("K3ix"),b=a("+Cnu"),v=a("Lm2G"),p=a("hzby"),_=a("dZIy"),m=a("LPYB"),y=a("oOf3"),S=a("3Pt+"),N=a("tyNb"),D=a("piOG"),w=a("PSD3"),x=a.n(w),M=a("fXoL"),k=a("3t6R"),E=a("REEf"),C=a("1kSV"),I=a("qeeY"),R=a("sYmb");function P(e,t){if(1&e){var n=M.ic();M.hc(0,"a",34),M.rc("click",function(){M.Uc(n);var e=M.vc(),t=M.Rc(64);return e._openModal(t,null)}),M.cc(1,"i",35),M.dd(2),M.wc(3,"translate"),M.gc()}2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"Add new")," "))}function U(e,t){1&e&&(M.hc(0,"a",36),M.cc(1,"i",37),M.dd(2),M.wc(3,"translate"),M.gc()),2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"Submissions")," "))}function G(e,t){1&e&&M.cc(0,"i",38)}function A(e,t){1&e&&(M.fc(0),M.hc(1,"tr"),M.hc(2,"td",39),M.hc(3,"h3",40),M.dd(4),M.wc(5,"translate"),M.gc(),M.gc(),M.gc(),M.ec()),2&e&&(M.Nb(4),M.fd(" ",M.xc(5,1,"No records now!!!")," "))}function O(e,t){1&e&&M.cc(0,"img",47)}function T(e,t){1&e&&M.cc(0,"img",48)}function j(e,t){if(1&e){var n=M.ic();M.fc(0),M.hc(1,"tr"),M.hc(2,"td",24),M.dd(3),M.gc(),M.hc(4,"td",24),M.dd(5),M.gc(),M.hc(6,"td",24),M.dd(7),M.gc(),M.hc(8,"td",24),M.dd(9),M.gc(),M.hc(10,"td",24),M.bd(11,O,1,0,"img",41),M.bd(12,T,1,0,"img",42),M.gc(),M.hc(13,"td",24),M.hc(14,"a",43),M.rc("click",function(){M.Uc(n);var e=t.$implicit,c=M.vc(),i=M.Rc(64);return c._openModal(i,e)}),M.wc(15,"translate"),M.cc(16,"i",44),M.gc(),M.hc(17,"a",45),M.rc("click",function(){M.Uc(n);var e=t.$implicit;return M.vc().deleteItem(e)}),M.wc(18,"translate"),M.cc(19,"i",46),M.gc(),M.gc(),M.gc(),M.ec()}if(2&e){var c=t.$implicit,i=t.index,a=M.vc();M.Nb(3),M.fd(" ",i+1," "),M.Nb(2),M.fd(" ",c.code," "),M.Nb(2),M.fd(" ",c.name_l," "),M.Nb(2),M.fd(" ",c.name_e," "),M.Nb(2),M.Dc("ngIf",!c.is_active),M.Nb(1),M.Dc("ngIf",c.is_active),M.Nb(2),M.Ec("ngbTooltip",M.xc(15,10,"Edit")),M.Dc("disabled","Admin"===c.name_e||!a._authenService.hasPermission("DEPT","update")),M.Nb(3),M.Ec("ngbTooltip",M.xc(18,12,"Delete")),M.Dc("disabled","Admin"===c.name_e||!a._authenService.hasPermission("DEPT","delete"))}}function F(e,t){1&e&&(M.fc(0),M.hc(1,"a",72),M.cc(2,"img",73),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function z(e,t){if(1&e&&(M.hc(0,"button",74),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function $(e,t){if(1&e){var n=M.ic();M.hc(0,"form",49,50),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChange()}),M.hc(2,"div",51),M.hc(3,"h4",52),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.gc(),M.hc(7,"button",53),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(8,"span",54),M.dd(9,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(10,"div",55),M.hc(11,"div",56),M.hc(12,"div",57),M.hc(13,"div",58),M.hc(14,"label",59),M.dd(15),M.wc(16,"translate"),M.hc(17,"span",40),M.dd(18,"(*)"),M.gc(),M.gc(),M.hc(19,"input",60),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.code=e})("keyup",function(){return M.Uc(n),M.vc().removeBlank()}),M.wc(20,"translate"),M.gc(),M.gc(),M.gc(),M.hc(21,"div",61),M.hc(22,"div",58),M.hc(23,"label",62),M.dd(24),M.wc(25,"translate"),M.hc(26,"span",40),M.dd(27,"(*)"),M.gc(),M.gc(),M.hc(28,"input",63),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.name_l=e}),M.wc(29,"translate"),M.wc(30,"translate"),M.gc(),M.gc(),M.gc(),M.hc(31,"div",61),M.hc(32,"div",58),M.hc(33,"input",64),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.name_e=e}),M.wc(34,"translate"),M.wc(35,"translate"),M.gc(),M.gc(),M.gc(),M.hc(36,"div",57),M.hc(37,"label",65),M.dd(38),M.wc(39,"translate"),M.gc(),M.hc(40,"div",66),M.hc(41,"input",67),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.is_active=e}),M.gc(),M.hc(42,"label",68),M.dd(43),M.wc(44,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(45,"div",69),M.hc(46,"button",70),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(47),M.wc(48,"translate"),M.gc(),M.bd(49,F,5,3,"ng-container",25),M.bd(50,z,3,4,"button",71),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ",null==c.entity.id?M.xc(5,20,"Add new"):M.xc(6,22,"Update")," ",c._title," "),M.Nb(11),M.fd("",M.xc(16,24,"Group code")," "),M.Nb(4),M.Ec("placeholder",M.xc(20,26,"Group code")),M.Dc("ngClass",null==c.entity.id?"form-control":"form-control jdisabled")("ngModel",c.entity.code)("disabled",null!=c.entity.id),M.Nb(5),M.fd("",M.xc(25,28,"Group name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(29,30,"Group name")," (",M.xc(30,32,"Vietnamese"),")"),M.Dc("ngModel",c.entity.name_l),M.Nb(5),M.Gc("placeholder","",M.xc(34,34,"Group name")," (",M.xc(35,36,"English"),")"),M.Dc("ngModel",c.entity.name_e),M.Nb(5),M.ed(M.xc(39,38,"Status")),M.Nb(3),M.Dc("ngModel",c.entity.is_active),M.Nb(2),M.ed(M.xc(44,40,c.entity.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(48,42,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSave),M.Nb(1),M.Dc("ngIf",!c.isSave)}}var B,q=((B=function(){function e(t,n,c,a,r,l,o,s,d){i(this,e),this._authenService=t,this._dataService=n,this._route=c,this._notifyService=a,this._uploadService=r,this._excelService=l,this._numberFormat=o,this.modalService=s,this._utilyService=d,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this.entity={}}return r(e,[{key:"ngOnInit",value:function(){this.user=this._authenService.getLoggedInUser(),this.loadData()}},{key:"loadData",value:function(){var e=this;this._isLoading=!0,this._dataService.post("/cat-submission/getallProfiles",{page:this.pageIndex,limit:this.pageSize,filter:this._keyword,short_code:this.user.short_code}).subscribe(function(t){e._isLoading=!1,e._requestslist=t.data,e.totalRow=t.rowCount,e.totalPage=t.totalPages},function(){return e._isLoading=!1})}},{key:"_pageSizeChange",value:function(e){this.pageSize=e.target.value,this.loadData()}},{key:"pageChanged",value:function(e){this.pageIndex=e.page,this.loadData()}},{key:"removeBlank",value:function(){this.entity.code=null==this.entity.code?null:this.entity.code.replace(" ","")}},{key:"_openModal",value:function(e,t){null==t?(this.entity={},this.entity.name_l=null,this.entity.name_e=null,this.entity.is_active=!0,this.entity.short_code=this.user.short_code,this._title=""):(this.entity=t,this._title=t.code),this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChange",value:function(){var e=this;this.isSave=!0,null==this.entity.id?(this.entity.code=this.entity.code.toUpperCase(),this._dataService.post("/cat-submission/addProfile",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.entity={},e.entity.name_l=null,e.entity.name_e=null,e.entity.is_active=!0,e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})):this._dataService.post("/cat-submission/updateProfile",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_UPDATENO_EN:D.a.MSG_UPDATENO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"),e.modalService.dismissAll())},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"deleteItem",value:function(e){var t=this;x.a.fire({title:"en"==this.user.lang?D.a.are_you_sure_en:D.a.are_you_sure,text:"en"==this.user.lang?e.name_e:e.name_l,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?D.a.cancel_en:D.a.cancel,confirmButtonText:"en"==this.user.lang?D.a.confirmtext_en:D.a.confirmtext}).then(function(n){if(n.value){var c={};c.id=e.id,t._dataService.post("/cat-submission/deleteProfile",c).subscribe(function(e){"failed"!=e.result?(t._notifyService.showSuccess("en"==t.user.lang?D.a.MSG_DELETE_EN:D.a.MSG_DELETE,"OK"),t.loadData()):t._notifyService.showError("en"==t.user.lang?D.a.MSG_DELETENO_EN:D.a.MSG_DELETENO,"en"==t.user.lang?D.a.error_title_en:D.a.error_title)},function(){t._notifyService.showError("en"==t.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==t.user.lang?D.a.error_title_en:D.a.error_title)})}})}}]),e}()).\u0275fac=function(e){return new(e||B)(M.bc(u.a),M.bc(d.a),M.bc(N.d),M.bc(k.a),M.bc(s.a),M.bc(o.a),M.bc(E.a),M.bc(C.s),M.bc(I.a))},B.\u0275cmp=M.Vb({type:B,selectors:[["app-subm-profilegroup"]],decls:65,vars:51,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],["class","btn btn-sm btn-info mr-sm-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-secondary mr-sm-2","routerLink","/submissions/requests",4,"ngIf"],["class","fa fa-spinner fa-spin text-primary","style","font-size: 16pt",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"custom-select","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],["content",""],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],[1,"fa","fa-plus"],["routerLink","/submissions/requests",1,"btn","btn-sm","btn-secondary","mr-sm-2"],[1,"fa","fa-clipboard"],[1,"fa","fa-spinner","fa-spin","text-primary",2,"font-size","16pt"],["colspan","6",2,"text-align","center"],[1,"text-danger"],["src","../../../../assets/img/icon-no.svg",4,"ngIf"],["src","../../../../assets/img/icon-yes.svg",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-sm-1",3,"ngbTooltip","disabled","click"],[1,"fa","fa-pencil"],[1,"btn","btn-sm","btn-danger",3,"ngbTooltip","disabled","click"],[1,"fa","fa-trash"],["src","../../../../assets/img/icon-no.svg"],["src","../../../../assets/img/icon-yes.svg"],[1,"form","theme-form",3,"ngSubmit"],["formPG1","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-6"],[1,"form-group"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",3,"ngClass","placeholder","ngModel","disabled","ngModelChange","keyup"],[1,"col-md-12"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,t){1&e&&(M.hc(0,"div",0),M.hc(1,"div",1),M.hc(2,"div",2),M.hc(3,"div",3),M.hc(4,"div",4),M.hc(5,"div",5),M.hc(6,"div",6),M.hc(7,"div",2),M.hc(8,"div",7),M.hc(9,"div",8),M.hc(10,"input",9),M.rc("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),M.wc(11,"translate"),M.gc(),M.bd(12,P,4,3,"a",10),M.bd(13,U,4,3,"a",11),M.bd(14,G,1,0,"i",12),M.gc(),M.gc(),M.hc(15,"div",13),M.hc(16,"div",14),M.hc(17,"select",15),M.rc("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),M.hc(18,"option",16),M.dd(19,"#10"),M.gc(),M.hc(20,"option",17),M.dd(21,"#25"),M.gc(),M.hc(22,"option",18),M.dd(23,"#50"),M.gc(),M.hc(24,"option",19),M.dd(25,"#100"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(26,"div",20),M.hc(27,"div",21),M.hc(28,"table",22),M.hc(29,"thead"),M.hc(30,"th",23),M.dd(31,"#"),M.gc(),M.hc(32,"th",24),M.dd(33),M.wc(34,"translate"),M.gc(),M.hc(35,"th",24),M.dd(36),M.wc(37,"translate"),M.wc(38,"translate"),M.gc(),M.hc(39,"th",24),M.dd(40),M.wc(41,"translate"),M.wc(42,"translate"),M.gc(),M.hc(43,"th",24),M.dd(44),M.wc(45,"translate"),M.gc(),M.hc(46,"th",24),M.dd(47),M.wc(48,"translate"),M.gc(),M.gc(),M.hc(49,"tbody"),M.bd(50,A,6,3,"ng-container",25),M.bd(51,j,20,14,"ng-container",26),M.gc(),M.gc(),M.gc(),M.hc(52,"div",27),M.hc(53,"div",28),M.hc(54,"div",29),M.hc(55,"pagination",30),M.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),M.gc(),M.gc(),M.hc(56,"div",31),M.hc(57,"a",32),M.dd(58),M.wc(59,"translate"),M.wc(60,"translate"),M.wc(61,"translate"),M.wc(62,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.bd(63,$,51,44,"ng-template",null,33,M.cd)),2&e&&(M.Nb(10),M.Dc("placeholder",M.xc(11,27,"Search"))("ngModel",t._keyword),M.Nb(2),M.Dc("ngIf",t._authenService.hasPermission("DEPT","read")),M.Nb(1),M.Dc("ngIf",t._authenService.hasPermission("DEPT","read")),M.Nb(1),M.Dc("ngIf",t._isLoading),M.Nb(3),M.Dc("ngModel",t.pageSize),M.Nb(16),M.fd(" ",M.xc(34,29,"Code")," "),M.Nb(3),M.gd(" ",M.xc(37,31,"Group name")," (",M.xc(38,33,"Vietnamese"),") "),M.Nb(4),M.gd(" ",M.xc(41,35,"Group name")," (",M.xc(42,37,"English"),") "),M.Nb(4),M.fd(" ",M.xc(45,39,"Status")," "),M.Nb(3),M.fd(" ",M.xc(48,41,"Actions")," "),M.Nb(3),M.Dc("ngIf",0==t._requestslist.length),M.Nb(1),M.Dc("ngForOf",t._requestslist),M.Nb(4),M.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),M.Nb(3),M.id("",M.xc(59,43,"Total of records"),": ",t.totalRow," - ",M.xc(60,45,"Page")," ",t.pageIndex," ",M.xc(61,47,"of")," ",t.totalPage," ",M.xc(62,49,"page"),""))},directives:[S.c,S.n,S.q,l.q,S.x,S.r,S.A,l.p,v.a,N.g,C.N,S.z,S.o,S.p,S.w,l.o,S.b],pipes:[R.c],styles:[""]}),B),L=a("gFX4"),K=a.n(L),H=a("CMKA"),V=a("5JmO"),Y=a.n(V),W=a("TruH"),Q=a.n(W),X=a("jhN1"),J=a("ZOsW"),Z=a("tmjD"),ee=a("eLGb"),te=a("VXpv"),ne=a("IkSl"),ce=["ckeEditor"],ie=["ckeEditor1"],ae=["combo"],re=["attached_file"],le=["attached_file1"];function oe(e,t){1&e&&(M.hc(0,"div",37),M.hc(1,"button",38),M.cc(2,"i",39),M.dd(3),M.wc(4,"translate"),M.gc(),M.hc(5,"div",40),M.hc(6,"a",41),M.cc(7,"i",42),M.dd(8),M.wc(9,"translate"),M.gc(),M.hc(10,"a",43),M.cc(11,"i",44),M.dd(12),M.wc(13,"translate"),M.gc(),M.hc(14,"a",45),M.cc(15,"i",46),M.dd(16),M.wc(17,"translate"),M.gc(),M.hc(18,"a",47),M.cc(19,"i",48),M.dd(20),M.wc(21,"translate"),M.gc(),M.gc(),M.gc()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,5,"Category")," "),M.Nb(5),M.fd(" ",M.xc(9,7,"Type of profile")," "),M.Nb(4),M.fd(" ",M.xc(13,9,"Profile group")," "),M.Nb(4),M.fd(" ",M.xc(17,11,"Type of document")," "),M.Nb(4),M.fd(" ",M.xc(21,13,"Manager Unit")," "))}function se(e,t){1&e&&(M.fc(0),M.hc(1,"tr"),M.hc(2,"td",49),M.hc(3,"h3",50),M.dd(4),M.wc(5,"translate"),M.gc(),M.gc(),M.gc(),M.ec()),2&e&&(M.Nb(4),M.fd(" ",M.xc(5,1,"No records now!!!")," "))}function de(e,t){1&e&&(M.hc(0,"span",59),M.cc(1,"i",60),M.gc())}function ue(e,t){if(1&e&&(M.hc(0,"li"),M.dd(1),M.bd(2,de,2,0,"span",53),M.cc(3,"br"),M.hc(4,"small",52),M.dd(5),M.gc(),M.gc()),2&e){var n=t.$implicit,c=t.index,i=M.vc(2);M.Nb(1),M.gd(" ",c+1,".",n.user.name," "),M.Nb(1),M.Dc("ngIf",n.show),M.Nb(3),M.ed("en"==i.user.lang?n.user.dept_name_e:n.user.dept_name_l)}}function ge(e,t){1&e&&(M.hc(0,"span",59),M.cc(1,"i",60),M.gc())}function he(e,t){if(1&e&&(M.fc(0),M.dd(1),M.wc(2,"date"),M.ec()),2&e){var n=M.vc().$implicit;M.Nb(1),M.fd("",M.yc(2,1,n.logs.timestamp,"dd/MM/yyyy HH:mm a")," ")}}function fe(e,t){1&e&&(M.hc(0,"span",61),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Draft")))}function be(e,t){1&e&&(M.hc(0,"span",62),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Processing")))}function ve(e,t){1&e&&(M.hc(0,"span",63),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Recall")))}function pe(e,t){1&e&&(M.hc(0,"span",64),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Completed")))}function _e(e,t){1&e&&(M.hc(0,"span",65),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Cancel")))}function me(e,t){if(1&e){var n=M.ic();M.fc(0),M.hc(1,"tr",51),M.rc("click",function(){M.Uc(n);var e=t.$implicit,c=M.vc(),i=M.Rc(83);return c._openModal(i,e)}),M.hc(2,"td",26),M.dd(3),M.gc(),M.hc(4,"td",26),M.dd(5),M.cc(6,"br"),M.hc(7,"small",52),M.dd(8),M.wc(9,"translate"),M.gc(),M.gc(),M.hc(10,"td",26),M.dd(11),M.wc(12,"date"),M.cc(13,"br"),M.hc(14,"small",52),M.dd(15),M.wc(16,"translate"),M.gc(),M.gc(),M.hc(17,"td",26),M.hc(18,"ul"),M.bd(19,ue,6,4,"li",28),M.gc(),M.gc(),M.hc(20,"td",26),M.dd(21),M.bd(22,ge,2,0,"span",53),M.cc(23,"br"),M.hc(24,"small",52),M.dd(25),M.gc(),M.gc(),M.hc(26,"td",26),M.bd(27,he,3,4,"ng-container",27),M.gc(),M.hc(28,"td",26),M.bd(29,fe,3,3,"span",54),M.bd(30,be,3,3,"span",55),M.bd(31,ve,3,3,"span",56),M.bd(32,pe,3,3,"span",57),M.bd(33,_e,3,3,"span",58),M.gc(),M.gc(),M.ec()}if(2&e){var c=t.$implicit,i=t.index,a=M.vc();M.Nb(3),M.fd(" ",i+1," "),M.Nb(2),M.fd(" ",c.title,""),M.Nb(3),M.gd("",M.xc(9,17,"Code"),": ",c.code,""),M.Nb(3),M.fd(" ",M.yc(12,19,c.timestamp,"dd/MM/yyyy HH:mm"),""),M.Nb(4),M.gd("",M.xc(16,22,"Created by"),": ",c.name,""),M.Nb(4),M.Dc("ngForOf",c.reviews),M.Nb(2),M.fd(" ",c.approve.user.name," "),M.Nb(1),M.Dc("ngIf",c.approve.show),M.Nb(3),M.ed("en"==a.user.lang?c.approve.user.dept_name_e:c.approve.user.dept_name_l),M.Nb(2),M.Dc("ngIf",null!=c.logs),M.Nb(2),M.Dc("ngIf",0==c.is_active),M.Nb(1),M.Dc("ngIf",1==c.is_active),M.Nb(1),M.Dc("ngIf",2==c.is_active),M.Nb(1),M.Dc("ngIf",3==c.is_active),M.Nb(1),M.Dc("ngIf",4==c.is_active)}}function ye(e,t){if(1&e){var n=M.ic();M.hc(0,"button",74),M.rc("click",function(){return M.Uc(n),M.vc(2)._chooseButton(2)}),M.dd(1),M.wc(2,"translate"),M.gc()}if(2&e){var c=M.vc(2);M.Dc("ngClass",2==c._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),M.Nb(1),M.fd(" ",M.xc(2,2,"Timeline")," ")}}function Se(e,t){if(1&e){var n=M.ic();M.hc(0,"button",74),M.rc("click",function(){return M.Uc(n),M.vc(2)._chooseButton(3)}),M.cc(1,"i",80),M.dd(2),M.wc(3,"translate"),M.gc()}if(2&e){var c=M.vc(2);M.Dc("ngClass",3==c._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),M.Nb(2),M.fd(" ",M.xc(3,2,"History")," ")}}function Ne(e,t){if(1&e){var n=M.ic();M.hc(0,"button",74),M.rc("click",function(){return M.Uc(n),M.vc(2)._chooseButton(4)}),M.cc(1,"i",81),M.dd(2),M.wc(3,"translate"),M.gc()}if(2&e){var c=M.vc(2);M.Dc("ngClass",4==c._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),M.Nb(2),M.fd(" ",M.xc(3,2,"Comments")," ")}}function De(e,t){if(1&e){var n=M.ic();M.fc(0),M.dd(1,"- "),M.hc(2,"a",116),M.rc("click",function(){M.Uc(n);var e=M.vc(3),t=M.Rc(85);return e._popupProfile(t,null)}),M.cc(3,"i",15),M.gc(),M.ec()}}function we(e,t){if(1&e&&(M.hc(0,"div",117),M.dd(1),M.wc(2,"slice"),M.gc()),2&e){var n=t.item;M.Dc("ngbTooltip",n.title.length>25?n.title:""),M.Nb(1),M.fd(" ",n.title.length>25?M.zc(2,2,n.title,0,20)+"..":n.title," ")}}function xe(e,t){if(1&e){var n=M.ic();M.hc(0,"input",118),M.rc("change",function(e){return M.Uc(n),M.vc(3).toggleCheckAll(e)}),M.gc(),M.dd(1),M.wc(2,"translate")}if(2&e){var c=M.vc(3);M.Dc("ngModel",c.checkAllIDs),M.Nb(1),M.fd(" ",M.xc(2,2,"Choose all")," ")}}function Me(e,t){if(1&e){var n=M.ic();M.hc(0,"div",121),M.hc(1,"span",122),M.dd(2),M.gc(),M.hc(3,"span",123),M.rc("click",function(){M.Uc(n);var e=t.$implicit;return(0,M.vc().clear)(e)}),M.dd(4,"\xd7"),M.gc(),M.gc()}if(2&e){var c=t.$implicit;M.Nb(2),M.gd("",c.name,"",c.login,"")}}function ke(e,t){if(1&e&&(M.hc(0,"div",121),M.hc(1,"span",122),M.dd(2),M.wc(3,"translate"),M.gc(),M.gc()),2&e){var n=M.vc().items;M.Nb(2),M.gd("",n.length-2," ",M.xc(3,2,"more"),"...")}}function Ee(e,t){if(1&e&&(M.bd(0,Me,5,2,"div",119),M.wc(1,"slice"),M.bd(2,ke,4,4,"div",120)),2&e){var n=t.items;M.Dc("ngForOf",M.zc(1,2,n,0,2)),M.Nb(2),M.Dc("ngIf",n.length>2)}}function Ce(e,t){if(1&e&&(M.cc(0,"input",124),M.dd(1)),2&e){var n=t.item,c=t.item$;M.Fc("id","item-",t.index,""),M.Dc("checked",c.selected),M.Nb(1),M.fd(" ",n.name," ")}}function Ie(e,t){if(1&e){var n=M.ic();M.fc(0),M.hc(1,"ck-editor",125,126),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(3).entity.content=e})("change",function(){M.Uc(n);var e=M.vc(3);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),M.gc(),M.ec()}if(2&e){var c=M.vc(3);M.Nb(1),M.Dc("ngModel",c.entity.content)("fullPage",!0)("config",c.ckEditorConfig)}}function Re(e,t){if(1&e&&M.cc(0,"p",127),2&e){var n=M.vc(3);M.Dc("innerHtml",n._displayContent,M.Vc)}}function Pe(e,t){if(1&e){var n=M.ic();M.fc(0),M.dd(1,"- "),M.hc(2,"a",128),M.rc("click",function(){M.Uc(n);var e=M.vc(3),t=M.Rc(95);return e.openViewDoc(t,e._originFile)}),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()}2&e&&(M.Nb(3),M.ed(M.xc(4,1,"Download file")))}function Ue(e,t){if(1&e){var n=M.ic();M.hc(0,"input",129,130),M.rc("change",function(e){M.Uc(n);var t=M.Rc(1);return M.vc(3).fileEvent(e,t)}),M.gc()}}function Ge(e,t){if(1&e){var n=M.ic();M.hc(0,"i",133),M.rc("click",function(){M.Uc(n);var e=M.vc(4);return e.removeAttachment(e.entity.id,e.entity.attached_file,0)}),M.gc()}}function Ae(e,t){if(1&e){var n=M.ic();M.hc(0,"div",113),M.hc(1,"img",131),M.rc("click",function(){M.Uc(n);var e=M.vc(3),t=M.Rc(95);return e.openViewDoc(t,e._originFile)}),M.gc(),M.hc(2,"span",59),M.bd(3,Ge,1,0,"i",132),M.gc(),M.gc()}if(2&e){var c=M.vc(3);M.Nb(3),M.Dc("ngIf",0==c.entity.is_active)}}function Oe(e,t){if(1&e){var n=M.ic();M.hc(0,"input",134,135),M.rc("change",function(e){M.Uc(n);var t=M.Rc(1);return M.vc(3).fileEventMore(e,t)}),M.gc()}}function Te(e,t){if(1&e){var n=M.ic();M.hc(0,"span",137),M.hc(1,"i",133),M.rc("click",function(){M.Uc(n);var e=M.vc().$implicit,t=M.vc(3);return t.removeAttachment(t.entity.id,e,1)}),M.gc(),M.gc()}}function je(e,t){if(1&e){var n=M.ic();M.fc(0),M.hc(1,"img",131),M.rc("click",function(){M.Uc(n);var e=M.vc(3),t=M.Rc(95);return e.openViewDoc(t,e._originFile)}),M.gc(),M.bd(2,Te,2,0,"span",136),M.ec()}if(2&e){var c=M.vc(3);M.Nb(2),M.Dc("ngIf",0==c.entity.is_active)}}function Fe(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.ed(n.order)}}function ze(e,t){if(1&e){var n=M.ic();M.hc(0,"input",141),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().$implicit.order=e})("change",function(){M.Uc(n);var e=M.vc(4);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),M.gc()}if(2&e){var c=M.vc(),i=c.index,a=c.$implicit;M.Fc("name","orderno",i+1,""),M.Fc("id","orderno",i+1,""),M.Dc("ngModel",a.order)}}function $e(e,t){1&e&&(M.hc(0,"span",59),M.cc(1,"i",60),M.gc())}function Be(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.bd(2,$e,2,0,"span",53),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.fd("",n.user.name," "),M.Nb(1),M.Dc("ngIf",n.show)}}function qe(e,t){if(1&e){var n=M.ic();M.fc(0),M.hc(1,"nz-tree-select",142),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(4)._selectUser=e})("ngModelChange",function(){M.Uc(n);var e=M.vc().$implicit,t=M.vc(3);return t._getUserNew(e,t._selectUser)}),M.wc(2,"translate"),M.gc(),M.ec()}if(2&e){var c=M.vc(4);M.Nb(1),M.Ec("nzPlaceHolder",M.xc(2,4,"Please choose")),M.Dc("nzExpandedKeys",c.expandKeys1)("nzNodes",c._getusers)("ngModel",c._selectUser)}}function Le(e,t){if(1&e&&(M.fc(0),M.dd(1),M.cc(2,"br"),M.hc(3,"small",52),M.dd(4),M.gc(),M.ec()),2&e){var n=M.vc().$implicit,c=M.vc(3);M.Nb(1),M.fd(" ","en"==c.user.lang?n.user.title_name_e:n.user.title_name_l,""),M.Nb(3),M.ed("en"==c.user.lang?n.user.dept_name_e:n.user.dept_name_l)}}function Ke(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Only view")))}function He(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Passed signature")))}function Ve(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Reviewed signature")))}function Ye(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Approved signature")))}function We(e,t){if(1&e&&(M.fc(0),M.bd(1,Ke,3,3,"span",27),M.bd(2,He,3,3,"span",27),M.bd(3,Ve,3,3,"span",27),M.bd(4,Ye,3,3,"span",27),M.ec()),2&e){var n=M.vc().$implicit;M.Nb(1),M.Dc("ngIf",0==n.role),M.Nb(1),M.Dc("ngIf",1==n.role),M.Nb(1),M.Dc("ngIf",2==n.role),M.Nb(1),M.Dc("ngIf",3==n.role)}}function Qe(e,t){if(1&e){var n=M.ic();M.hc(0,"select",143),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().$implicit.role=e})("change",function(){M.Uc(n);var e=M.vc(4);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),M.hc(1,"option",91),M.dd(2),M.wc(3,"translate"),M.gc(),M.hc(4,"option",92),M.dd(5),M.wc(6,"translate"),M.gc(),M.hc(7,"option",93),M.dd(8),M.wc(9,"translate"),M.gc(),M.hc(10,"option",94),M.dd(11),M.wc(12,"translate"),M.gc(),M.gc()}if(2&e){var c=M.vc(),i=c.$implicit;M.Fc("name","r",c.index+1,""),M.Dc("ngModel",i.role),M.Nb(2),M.ed(M.xc(3,6,"Only view")),M.Nb(3),M.fd(" ",M.xc(6,8,"Passed signature")," "),M.Nb(3),M.fd(" ",M.xc(9,10,"Reviewed signature")," "),M.Nb(3),M.fd(" ",M.xc(12,12,"Approved signature")," ")}}function Xe(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.ed(n.time)}}function Je(e,t){if(1&e){var n=M.ic();M.hc(0,"input",141),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().$implicit.time=e})("change",function(){M.Uc(n);var e=M.vc(4);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),M.gc()}if(2&e){var c=M.vc(),i=c.index,a=c.$implicit;M.Fc("name","timer",i+1,""),M.Fc("id","timer",i+1,""),M.Dc("ngModel",a.time)}}function Ze(e,t){if(1&e){var n=M.ic();M.hc(0,"a",144),M.rc("click",function(){M.Uc(n);var e=M.vc().$implicit;return M.vc(3).removeItemNew(e)}),M.cc(1,"i",145),M.gc()}}function et(e,t){if(1&e&&(M.hc(0,"tr"),M.hc(1,"td",26),M.bd(2,Fe,2,1,"span",27),M.bd(3,ze,1,3,"input",138),M.gc(),M.hc(4,"td",26),M.bd(5,Be,3,2,"span",27),M.bd(6,qe,3,6,"ng-container",27),M.gc(),M.hc(7,"td",26),M.bd(8,Le,5,2,"ng-container",27),M.gc(),M.hc(9,"td",26),M.bd(10,We,5,4,"ng-container",27),M.bd(11,Qe,13,14,"select",139),M.gc(),M.hc(12,"td",26),M.bd(13,Xe,2,1,"span",27),M.bd(14,Je,1,3,"input",138),M.gc(),M.hc(15,"td",26),M.bd(16,Ze,2,0,"a",140),M.gc(),M.gc()),2&e){var n=t.$implicit,c=M.vc(3);M.Nb(2),M.Dc("ngIf",0!=c.entity.is_active),M.Nb(1),M.Dc("ngIf",0==c.entity.is_active),M.Nb(2),M.Dc("ngIf",n.flag||null!=n.user),M.Nb(1),M.Dc("ngIf",null==n.user),M.Nb(2),M.Dc("ngIf",null!=n.user),M.Nb(2),M.Dc("ngIf",n.flag),M.Nb(1),M.Dc("ngIf",!n.flag),M.Nb(2),M.Dc("ngIf",n.flag),M.Nb(1),M.Dc("ngIf",!n.flag),M.Nb(2),M.Dc("ngIf",!n.allow)}}function tt(e,t){if(1&e){var n=M.ic();M.hc(0,"tfoot"),M.hc(1,"tr"),M.cc(2,"td",146),M.hc(3,"td",26),M.hc(4,"a",147),M.rc("click",function(){return M.Uc(n),M.vc(3).addItemNew()}),M.cc(5,"i",15),M.gc(),M.gc(),M.gc(),M.gc()}}function nt(e,t){if(1&e){var n=M.ic();M.fc(0),M.hc(1,"div",82),M.hc(2,"label",83),M.dd(3),M.wc(4,"translate"),M.hc(5,"span",50),M.dd(6,"(*)"),M.gc(),M.gc(),M.hc(7,"input",84),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(2).entity.title=e})("change",function(){M.Uc(n);var e=M.vc(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),M.gc(),M.gc(),M.hc(8,"div",82),M.hc(9,"label",85),M.dd(10),M.wc(11,"translate"),M.hc(12,"span",50),M.dd(13,"(*)"),M.gc(),M.bd(14,De,4,0,"ng-container",27),M.gc(),M.hc(15,"ng-select",86),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(2).entity.profile_cat_id=e})("change",function(){M.Uc(n);var e=M.vc(2);return e._diagramChange(e.entity.profile_cat_id)}),M.wc(16,"translate"),M.wc(17,"translate"),M.bd(18,we,3,6,"ng-template",87),M.gc(),M.gc(),M.hc(19,"div",88),M.hc(20,"label",89),M.dd(21),M.wc(22,"translate"),M.gc(),M.hc(23,"select",90),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(2).entity.critical_level=e})("change",function(){M.Uc(n);var e=M.vc(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),M.hc(24,"option",91),M.dd(25),M.wc(26,"translate"),M.gc(),M.hc(27,"option",92),M.dd(28),M.wc(29,"translate"),M.gc(),M.hc(30,"option",93),M.dd(31),M.wc(32,"translate"),M.gc(),M.hc(33,"option",94),M.dd(34),M.wc(35,"translate"),M.gc(),M.gc(),M.gc(),M.hc(36,"div",88),M.hc(37,"label",95),M.dd(38),M.wc(39,"translate"),M.gc(),M.hc(40,"select",96),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(2).entity.priority_level=e})("change",function(){M.Uc(n);var e=M.vc(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),M.hc(41,"option",91),M.dd(42),M.wc(43,"translate"),M.gc(),M.hc(44,"option",92),M.dd(45),M.wc(46,"translate"),M.gc(),M.hc(47,"option",93),M.dd(48),M.wc(49,"translate"),M.gc(),M.hc(50,"option",94),M.dd(51),M.wc(52,"translate"),M.gc(),M.gc(),M.gc(),M.hc(53,"div",97),M.hc(54,"label",98),M.dd(55),M.wc(56,"translate"),M.gc(),M.hc(57,"ng-select",99,100),M.rc("blur",function(){return M.Uc(n),M.vc(2).onTouched()})("change",function(){M.Uc(n);var e=M.vc(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),M.wc(59,"translate"),M.wc(60,"translate"),M.bd(61,xe,3,4,"ng-template",101),M.bd(62,Ee,3,6,"ng-template",102),M.bd(63,Ce,2,3,"ng-template",87),M.gc(),M.gc(),M.hc(64,"div",82),M.hc(65,"label",103),M.dd(66),M.wc(67,"translate"),M.gc(),M.hc(68,"input",104),M.rc("change",function(){M.Uc(n);var e=M.vc(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null})("ngModelChange",function(e){return M.Uc(n),M.vc(2).entity.estimated_cost=e}),M.gc(),M.gc(),M.hc(69,"div",73),M.hc(70,"label",105),M.dd(71),M.wc(72,"translate"),M.gc(),M.bd(73,Ie,3,3,"ng-container",27),M.bd(74,Re,1,1,"p",106),M.gc(),M.hc(75,"div",73),M.hc(76,"label",107),M.dd(77),M.wc(78,"translate"),M.bd(79,Pe,5,3,"ng-container",27),M.gc(),M.bd(80,Ue,2,0,"input",108),M.hc(81,"input",109),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(2).entityUpload.fileUpload=e}),M.gc(),M.bd(82,Ae,4,1,"div",110),M.gc(),M.hc(83,"div",73),M.hc(84,"label",111),M.dd(85),M.wc(86,"translate"),M.gc(),M.bd(87,Oe,2,0,"input",112),M.hc(88,"div",113),M.bd(89,je,3,1,"ng-container",28),M.gc(),M.gc(),M.hc(90,"div",73),M.hc(91,"label",114),M.dd(92),M.wc(93,"translate"),M.gc(),M.hc(94,"div",23),M.hc(95,"table",115),M.hc(96,"thead"),M.hc(97,"th",26),M.dd(98),M.wc(99,"translate"),M.gc(),M.hc(100,"th",26),M.dd(101),M.wc(102,"translate"),M.gc(),M.hc(103,"th",26),M.dd(104),M.wc(105,"translate"),M.gc(),M.hc(106,"th",26),M.dd(107),M.wc(108,"translate"),M.gc(),M.hc(109,"th",26),M.dd(110),M.wc(111,"translate"),M.gc(),M.hc(112,"th",26),M.dd(113),M.wc(114,"translate"),M.gc(),M.gc(),M.hc(115,"tbody"),M.bd(116,et,17,10,"tr",28),M.gc(),M.bd(117,tt,6,0,"tfoot",27),M.gc(),M.gc(),M.gc(),M.ec()}if(2&e){var c=M.vc(2);M.Nb(3),M.fd("",M.xc(4,62,"Title")," "),M.Nb(4),M.Dc("ngModel",c.entity.title)("ngClass",0==c.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=c.entity.is_active),M.Nb(3),M.fd("",M.xc(11,64,"Type of profile")," "),M.Nb(4),M.Dc("ngIf",0==c.entity.is_active),M.Nb(1),M.Dc("items",c._profiles)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("ngModel",c.entity.profile_cat_id)("placeholder",M.xc(16,66,"Please choose"))("notFoundText",M.xc(17,68,"Not found item"))("disabled",0!=c.entity.is_active),M.Nb(6),M.ed(M.xc(22,70,"Critical level")),M.Nb(2),M.Dc("ngModel",c.entity.critical_level)("ngClass",0==c.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=c.entity.is_active),M.Nb(2),M.ed(M.xc(26,72,"Normal")),M.Nb(3),M.ed(M.xc(29,74,"Important")),M.Nb(3),M.ed(M.xc(32,76,"Very important")),M.Nb(3),M.ed(M.xc(35,78,"Urgent")),M.Nb(4),M.ed(M.xc(39,80,"Priority level")),M.Nb(2),M.Dc("ngModel",c.entity.priority_level)("ngClass",0==c.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=c.entity.is_active),M.Nb(2),M.ed(M.xc(43,82,"Normal")),M.Nb(3),M.ed(M.xc(46,84,"Hurry up")),M.Nb(3),M.ed(M.xc(49,86,"Urgent")),M.Nb(3),M.ed(M.xc(52,88,"Very urgent")),M.Nb(4),M.ed(M.xc(56,90,"Related requests")),M.Nb(2),M.Dc("multiple",!0)("items",c.related_requests)("closeOnSelect",!1)("placeholder",M.xc(59,92,"Please choose"))("notFoundText",M.xc(60,94,"Not found item"))("ngModel",c.entity.related_ids)("disabled",0!=c.entity.is_active),M.Nb(9),M.fd("",M.xc(67,96,"Estimated cost")," (VND)"),M.Nb(2),M.Dc("ngClass",0==c.entity.is_active?"form-control":"form-control jdisabled")("ngModel",c.entity.estimated_cost)("disabled",0!=c.entity.is_active),M.Nb(3),M.ed(M.xc(72,98,"Content")),M.Nb(2),M.Dc("ngIf",0==c.entity.is_active),M.Nb(1),M.Dc("ngIf",0!=c.entity.is_active),M.Nb(3),M.fd("",M.xc(78,100,"Attachment (if any)")," (.doc,.docx,.pdf) "),M.Nb(2),M.Dc("ngIf",null!=c._originFile),M.Nb(1),M.Dc("ngIf",0==c.entity.is_active&&null==c.entity.attached_file),M.Nb(1),M.Dc("ngModel",c.entityUpload.fileUpload),M.Nb(1),M.Dc("ngIf",null!=c.entity.attached_file),M.Nb(3),M.fd("",M.xc(86,102,"More attachment (if any)")," (.doc,.docx,.pdf) "),M.Nb(2),M.Dc("ngIf",0==c.entity.is_active),M.Nb(2),M.Dc("ngForOf",c.other_attached_files),M.Nb(3),M.ed(M.xc(93,104,"Handling staff")),M.Nb(6),M.fd(" ",M.xc(99,106,"Processing no.")," "),M.Nb(3),M.ed(M.xc(102,108,"Fullname")),M.Nb(3),M.ed(M.xc(105,110,"Title1")),M.Nb(3),M.ed(M.xc(108,112,"Method1")),M.Nb(3),M.ed(M.xc(111,114,"Time")),M.Nb(3),M.ed(M.xc(114,116,"Actions")),M.Nb(3),M.Dc("ngForOf",c.handling_users),M.Nb(1),M.Dc("ngIf",0==c.entity.is_active)}}function ct(e,t){1&e&&(M.hc(0,"div",152),M.hc(1,"h4",50),M.dd(2),M.wc(3,"translate"),M.gc(),M.gc()),2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"No records now!!!")," "))}function it(e,t){1&e&&M.cc(0,"img",156)}function at(e,t){if(1&e&&(M.fc(0),M.dd(1),M.wc(2,"date"),M.wc(3,"date"),M.ec()),2&e){var n=M.vc().$implicit;M.Nb(1),M.gd(", ",M.yc(2,2,n.timestamp,"HH:mm a")," - ",M.yc(3,5,n.timestamp,"dd/MM/yyyy"),"")}}function rt(e,t){if(1&e&&(M.hc(0,"div",152),M.hc(1,"div"),M.bd(2,it,1,0,"img",153),M.gc(),M.hc(3,"div",154),M.hc(4,"h6"),M.dd(5),M.hc(6,"span",155),M.dd(7),M.wc(8,"date"),M.gc(),M.gc(),M.dd(9),M.wc(10,"translate"),M.bd(11,at,4,8,"ng-container",27),M.gc(),M.gc()),2&e){var n=t.$implicit;M.Nb(1),M.Qb("timeline-round m-r-30 timeline-line-1 ",null!=n.timestamp?"":n.flag?"bg-info":"bg-warning",""),M.Nb(1),M.Dc("ngIf",null!=n.timestamp),M.Nb(3),M.fd(" ",n.user.name," "),M.Nb(2),M.ed(M.yc(8,8,n.timestamp,"dd/MM/yyyy HH:mm")),M.Nb(2),M.fd(" ",M.xc(10,11,n.content),""),M.Nb(2),M.Dc("ngIf",null!=n.timestamp)}}function lt(e,t){if(1&e&&(M.hc(0,"div",148),M.cc(1,"hr"),M.hc(2,"div",2),M.hc(3,"div",6),M.hc(4,"div",149),M.bd(5,ct,4,3,"div",150),M.bd(6,rt,12,13,"div",151),M.gc(),M.gc(),M.gc(),M.gc()),2&e){var n=M.vc(2);M.Nb(5),M.Dc("ngIf",0==n._diagrams.length),M.Nb(1),M.Dc("ngForOf",n._diagrams)}}function ot(e,t){1&e&&(M.hc(0,"div",152),M.hc(1,"h4",50),M.dd(2),M.wc(3,"translate"),M.gc(),M.gc()),2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"No records now!!!")," "))}function st(e,t){if(1&e&&(M.fc(0),M.hc(1,"small",52),M.dd(2),M.wc(3,"translate"),M.wc(4,"translate"),M.gc(),M.cc(5,"br"),M.ec()),2&e){var n=M.vc().$implicit;M.Nb(2),M.gd("",M.xc(3,2,"Messages"),": ",M.xc(4,4,n.messages),"")}}function dt(e,t){if(1&e&&(M.fc(0),M.hc(1,"small",52),M.dd(2),M.wc(3,"translate"),M.gc(),M.cc(4,"br"),M.ec()),2&e){var n=M.vc().$implicit;M.Nb(2),M.gd("",M.xc(3,2,"Content"),": ",n.content,"")}}function ut(e,t){if(1&e&&(M.hc(0,"small",52),M.dd(1),M.wc(2,"translate"),M.wc(3,"translate"),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.gd("",M.xc(2,2,"Approved cost"),": ",M.xc(3,4,n.approved_cost),"")}}function gt(e,t){if(1&e&&(M.hc(0,"div",152),M.hc(1,"div",157),M.cc(2,"img",156),M.gc(),M.hc(3,"div",154),M.hc(4,"h6"),M.dd(5),M.hc(6,"span",155),M.dd(7),M.wc(8,"date"),M.gc(),M.gc(),M.bd(9,st,6,6,"ng-container",27),M.bd(10,dt,5,4,"ng-container",27),M.bd(11,ut,4,6,"small",158),M.gc(),M.gc()),2&e){var n=t.$implicit;M.Nb(5),M.fd(" ",n.user.name," "),M.Nb(2),M.ed(M.yc(8,5,n.timestamp,"dd/MM/yyyy HH:mm")),M.Nb(2),M.Dc("ngIf",null!=n.messages),M.Nb(1),M.Dc("ngIf",null!=n.content),M.Nb(1),M.Dc("ngIf",null!=n.approved_cost)}}function ht(e,t){if(1&e&&(M.hc(0,"div",73),M.cc(1,"hr"),M.hc(2,"div",2),M.hc(3,"div",6),M.hc(4,"div",149),M.bd(5,ot,4,3,"div",150),M.bd(6,gt,12,8,"div",151),M.gc(),M.gc(),M.gc(),M.gc()),2&e){var n=M.vc(2);M.Nb(5),M.Dc("ngIf",0==n._histories.length),M.Nb(1),M.Dc("ngForOf",n._histories)}}function ft(e,t){if(1&e&&(M.fc(0),M.cc(1,"img",177),M.ec()),2&e){var n=M.vc(2).$implicit,c=M.vc(3);M.Nb(1),M.Dc("src",c.baseFolder+"/"+n.avatar,M.Wc)}}function bt(e,t){1&e&&(M.fc(0),M.cc(1,"img",178),M.ec())}function vt(e,t){if(1&e&&(M.hc(0,"div",173),M.bd(1,ft,2,1,"ng-container",27),M.bd(2,bt,2,0,"ng-container",27),M.hc(3,"div",174),M.hc(4,"small",175),M.dd(5),M.gc(),M.hc(6,"span",176),M.dd(7),M.wc(8,"date"),M.gc(),M.gc(),M.dd(9),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.Dc("ngIf",null!=n.avatar&&""!=n.avatar),M.Nb(1),M.Dc("ngIf",null==n.avatar||""==n.avatar),M.Nb(3),M.fd("",n.name,","),M.Nb(2),M.ed(M.yc(8,5,null==n?null:n.timestamp,"dd/MM/yyyy HH:mm a")),M.Nb(2),M.fd(" ",null==n?null:n.messages," ")}}function pt(e,t){if(1&e&&(M.fc(0),M.cc(1,"img",181),M.ec()),2&e){var n=M.vc(2).$implicit,c=M.vc(3);M.Nb(1),M.Dc("src",c.baseFolder+"/"+n.avatar,M.Wc)}}function _t(e,t){1&e&&(M.fc(0),M.cc(1,"img",182),M.ec())}function mt(e,t){if(1&e&&(M.hc(0,"div",179),M.bd(1,pt,2,1,"ng-container",27),M.bd(2,_t,2,0,"ng-container",27),M.hc(3,"div",180),M.hc(4,"small",175),M.dd(5),M.gc(),M.hc(6,"span",176),M.dd(7),M.wc(8,"date"),M.gc(),M.gc(),M.dd(9),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.Dc("ngIf",null!=n.avatar&&""!=n.avatar),M.Nb(1),M.Dc("ngIf",null==n.avatar||""==n.avatar),M.Nb(3),M.fd("",n.name,","),M.Nb(2),M.ed(M.yc(8,5,null==n?null:n.timestamp,"dd/MM/yyyy HH:mm a")),M.Nb(2),M.fd(" ",null==n?null:n.messages," ")}}var yt=function(e){return{clearfix:e}};function St(e,t){if(1&e&&(M.hc(0,"li",170),M.bd(1,vt,10,8,"div",171),M.bd(2,mt,10,8,"ng-template",null,172,M.cd),M.gc()),2&e){var n=t.$implicit,c=M.Rc(3),i=M.vc(3);M.Dc("ngClass",M.Ic(3,yt,n.depended_id==i.user.id)),M.Nb(1),M.Dc("ngIf",n.depended_id!=i.user.id)("ngIfElse",c)}}function Nt(e,t){1&e&&(M.fc(0),M.hc(1,"div",183),M.hc(2,"div",184),M.cc(3,"img",185),M.gc(),M.gc(),M.ec())}function Dt(e,t){if(1&e){var n=M.ic();M.hc(0,"div",73),M.hc(1,"div",2),M.hc(2,"div",6),M.hc(3,"div",159),M.hc(4,"div",160),M.hc(5,"div",161),M.hc(6,"div",162),M.hc(7,"input",163),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(2)._contents=e})("change",function(){return M.Uc(n),M.vc(2)._addChat()}),M.wc(8,"translate"),M.gc(),M.hc(9,"ul",164),M.hc(10,"li",165),M.hc(11,"a",166),M.cc(12,"i",167),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(13,"div",168),M.hc(14,"ul"),M.bd(15,St,4,5,"li",169),M.bd(16,Nt,4,0,"ng-container",27),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc()}if(2&e){var c=M.vc(2);M.Nb(7),M.Fc("placeholder","",M.xc(8,4,"Enter content"),"..."),M.Dc("ngModel",c._contents),M.Nb(8),M.Dc("ngForOf",c.chats),M.Nb(1),M.Dc("ngIf",!(null!=c.chats&&c.chats.length))}}function wt(e,t){if(1&e){var n=M.ic();M.fc(0),M.hc(1,"button",188),M.rc("click",function(){return M.Uc(n),M.vc(3).cancelSubmission()}),M.dd(2),M.wc(3,"translate"),M.gc(),M.ec()}2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"Cancel")," "))}function xt(e,t){if(1&e){var n=M.ic();M.fc(0),M.hc(1,"button",189),M.rc("click",function(){M.Uc(n);var e=M.vc(4),t=M.Rc(97);return e.disagreeSubmission(t,"disagree")}),M.dd(2),M.wc(3,"translate"),M.gc(),M.ec()}2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"Disagree")," "))}function Mt(e,t){1&e&&(M.fc(0),M.hc(1,"a",190),M.cc(2,"img",191),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function kt(e,t){if(1&e){var n=M.ic();M.hc(0,"button",193),M.rc("click",function(){return M.Uc(n),M.vc(5).submissionChange(0)}),M.dd(1),M.wc(2,"translate"),M.gc()}2&e&&(M.Nb(1),M.fd(" ",M.xc(2,1,"Save")," "))}function Et(e,t){if(1&e&&(M.fc(0),M.bd(1,kt,3,3,"button",192),M.ec()),2&e){var n=M.vc(4);M.Nb(1),M.Dc("ngIf",!n.isSave)}}function Ct(e,t){1&e&&M.dc(0)}function It(e,t){1&e&&(M.fc(0),M.hc(1,"a",194),M.cc(2,"img",191),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function Rt(e,t){if(1&e){var n=M.ic();M.hc(0,"button",196),M.rc("click",function(){M.Uc(n);var e=M.vc(5);return e.approvedByUser(e.entity.is_active,1)}),M.dd(1),M.wc(2,"translate"),M.gc()}2&e&&(M.Nb(1),M.fd(" ",M.xc(2,1,"Sign")," "))}function Pt(e,t){if(1&e&&(M.fc(0),M.bd(1,Rt,3,3,"button",195),M.ec()),2&e){var n=M.vc(4);M.Nb(1),M.Dc("ngIf",!n.isSaveSigned)}}function Ut(e,t){if(1&e&&(M.hc(0,"ng-contatiner"),M.bd(1,xt,4,3,"ng-container",27),M.bd(2,Mt,5,3,"ng-container",27),M.bd(3,Et,2,1,"ng-container",27),M.bd(4,Ct,1,0,"ng-container",27),M.bd(5,It,5,3,"ng-container",27),M.bd(6,Pt,2,1,"ng-container",27),M.gc()),2&e){var n=M.vc(3);M.Nb(1),M.Dc("ngIf",n._flagShow),M.Nb(1),M.Dc("ngIf",n.isSave),M.Nb(1),M.Dc("ngIf","ADD"==n._flagModal),M.Nb(1),M.Dc("ngIf","ADD"!=n._flagModal&&0!=n.entity.is_active),M.Nb(1),M.Dc("ngIf",n.isSaveSigned),M.Nb(1),M.Dc("ngIf","ADD"!=n._flagModal&&n._flagShow)}}function Gt(e,t){if(1&e){var n=M.ic();M.hc(0,"button",189),M.rc("click",function(){return M.Uc(n),M.vc(5).submissionRecall()}),M.dd(1),M.wc(2,"translate"),M.gc()}2&e&&(M.Nb(1),M.fd(" ",M.xc(2,1,"Recall")," "))}function At(e,t){if(1&e&&(M.fc(0),M.bd(1,Gt,3,3,"button",197),M.ec()),2&e){var n=M.vc(4);M.Nb(1),M.Dc("ngIf",!n.isSaveSigned)}}function Ot(e,t){if(1&e){var n=M.ic();M.hc(0,"button",196),M.rc("click",function(){return M.Uc(n),M.vc(5).submissionChange(1)}),M.dd(1),M.wc(2,"translate"),M.gc()}if(2&e){var c=M.vc(5);M.Nb(1),M.fd(" ",M.xc(2,1,0==c.entity.is_active?"Sign":"Resign")," ")}}function Tt(e,t){if(1&e&&(M.fc(0),M.bd(1,Ot,3,3,"button",195),M.ec()),2&e){var n=M.vc(4);M.Nb(1),M.Dc("ngIf",!n.isSaveSigned)}}function jt(e,t){if(1&e){var n=M.ic();M.hc(0,"button",196),M.rc("click",function(){return M.Uc(n),M.vc(5).submissionChange(1)}),M.dd(1),M.wc(2,"translate"),M.gc()}2&e&&(M.Nb(1),M.fd(" ",M.xc(2,1,"Sign")," "))}function Ft(e,t){if(1&e&&(M.fc(0),M.bd(1,jt,3,3,"button",195),M.ec()),2&e){var n=M.vc(4);M.Nb(1),M.Dc("ngIf",!n.isSaveSigned)}}function zt(e,t){if(1&e&&(M.fc(0),M.bd(1,At,2,1,"ng-container",27),M.bd(2,Tt,2,1,"ng-container",27),M.bd(3,Ft,2,1,"ng-container",27),M.ec()),2&e){var n=M.vc(3);M.Nb(1),M.Dc("ngIf",1==n.entity.is_active&&null!=n.entity.id),M.Nb(1),M.Dc("ngIf",0==n.entity.is_active&&null==n.entity.id||2==n.entity.is_active),M.Nb(1),M.Dc("ngIf",0==n.entity.is_active&&"ADD"!=n._flagModal&&null==n.entity.logs)}}function $t(e,t){if(1&e){var n=M.ic();M.hc(0,"div",186),M.hc(1,"button",187),M.rc("click",function(){return M.Uc(n),M.vc().$implicit.dismiss("Cross click")}),M.dd(2),M.wc(3,"translate"),M.gc(),M.bd(4,wt,4,3,"ng-container",27),M.bd(5,Ut,7,6,"ng-contatiner",27),M.bd(6,zt,4,3,"ng-container",27),M.gc()}if(2&e){var c=M.vc(2);M.Nb(2),M.fd(" ",M.xc(3,4,"Close")," "),M.Nb(2),M.Dc("ngIf",0==c.entity.is_active&&null!=c.entity.id),M.Nb(1),M.Dc("ngIf",2!=c.entity.is_active),M.Nb(1),M.Dc("ngIf",c.entity.created_by==c.user.id)}}var Bt=function(){return{"max-height":"calc(100vh - 300px)"}},qt=function(){return{"max-height":"calc(100vh - 300px)","overflow-y":"auto"}};function Lt(e,t){if(1&e){var n=M.ic();M.hc(0,"form",66),M.hc(1,"div",67),M.hc(2,"h4",68),M.dd(3),M.wc(4,"translate"),M.wc(5,"translate"),M.wc(6,"translate"),M.gc(),M.hc(7,"button",69),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(8,"span",70),M.dd(9,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(10,"div",71),M.hc(11,"div",72),M.hc(12,"div",73),M.hc(13,"div",7),M.hc(14,"button",74),M.rc("click",function(){return M.Uc(n),M.vc()._chooseButton(1)}),M.dd(15),M.wc(16,"translate"),M.gc(),M.bd(17,ye,3,4,"button",75),M.bd(18,Se,4,4,"button",75),M.bd(19,Ne,4,4,"button",75),M.gc(),M.gc(),M.gc(),M.hc(20,"div",76),M.bd(21,nt,118,118,"ng-container",27),M.bd(22,lt,7,2,"div",77),M.bd(23,ht,7,2,"div",78),M.bd(24,Dt,17,6,"div",78),M.gc(),M.gc(),M.bd(25,$t,7,6,"div",79),M.gc()}if(2&e){var c=M.vc();M.Nb(3),M.gd(" ","ADD"==c._flagModal?M.xc(4,13,"Add new"):M.xc(5,15,"Update")," ",M.xc(6,17,c._title)," "),M.Nb(11),M.Dc("ngClass",1==c._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),M.Nb(1),M.fd(" ",M.xc(16,19,"General information")," "),M.Nb(2),M.Dc("ngIf","ADD"!=c._flagModal),M.Nb(1),M.Dc("ngIf","ADD"!=c._flagModal&&c._authenService.hasPermission("USERS","read")),M.Nb(1),M.Dc("ngIf","ADD"!=c._flagModal),M.Nb(1),M.Dc("ngStyle",4==c._flagButton?M.Hc(21,Bt):M.Hc(22,qt)),M.Nb(1),M.Dc("ngIf",1==c._flagButton),M.Nb(1),M.Dc("ngIf",2==c._flagButton&&"ADD"!=c._flagModal),M.Nb(1),M.Dc("ngIf",3==c._flagButton&&"ADD"!=c._flagModal),M.Nb(1),M.Dc("ngIf",4==c._flagButton&&"ADD"!=c._flagModal),M.Nb(1),M.Dc("ngIf",1==c._flagButton)}}function Kt(e,t){if(1&e&&(M.hc(0,"option",230),M.dd(1),M.gc()),2&e){var n=t.$implicit,c=M.vc(2);M.Ec("value",n.id),M.Nb(1),M.gd(" ",n.code," - ","en"==c.user.lang?n.name_e:n.name_l," ")}}function Ht(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.ed(n.order)}}function Vt(e,t){if(1&e){var n=M.ic();M.hc(0,"input",234),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().$implicit.order=e}),M.gc()}if(2&e){var c=M.vc(),i=c.$implicit;M.Fc("name","or",c.index+1,""),M.Dc("ngModel",i.order)}}function Yt(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.ed(n.user.title)}}function Wt(e,t){if(1&e){var n=M.ic();M.hc(0,"nz-tree-select",142),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(3)._selectDept=e})("ngModelChange",function(){M.Uc(n);var e=M.vc().$implicit,t=M.vc(2);return t._getUser(e,t._selectDept)}),M.wc(1,"translate"),M.gc()}if(2&e){var c=M.vc(3);M.Ec("nzPlaceHolder",M.xc(1,4,"Please choose")),M.Dc("nzExpandedKeys",c.expandKeys)("nzNodes",c._departments)("ngModel",c._selectDept)}}function Qt(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Only view")))}function Xt(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Passed signature")))}function Jt(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Reviewed signature")))}function Zt(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Approved signature")))}function en(e,t){if(1&e&&(M.hc(0,"span"),M.bd(1,Qt,3,3,"span",27),M.bd(2,Xt,3,3,"span",27),M.bd(3,Jt,3,3,"span",27),M.bd(4,Zt,3,3,"span",27),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.Dc("ngIf",0==n.role),M.Nb(1),M.Dc("ngIf",1==n.role),M.Nb(1),M.Dc("ngIf",2==n.role),M.Nb(1),M.Dc("ngIf",3==n.role)}}function tn(e,t){if(1&e){var n=M.ic();M.hc(0,"select",143),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().$implicit.role=e})("change",function(){M.Uc(n);var e=M.vc().$implicit,t=M.vc(2);return t._getUser(e,t._selectDept)}),M.hc(1,"option",91),M.dd(2),M.wc(3,"translate"),M.gc(),M.hc(4,"option",92),M.dd(5),M.wc(6,"translate"),M.gc(),M.hc(7,"option",93),M.dd(8),M.wc(9,"translate"),M.gc(),M.hc(10,"option",94),M.dd(11),M.wc(12,"translate"),M.gc(),M.gc()}if(2&e){var c=M.vc(),i=c.$implicit;M.Fc("name","r",c.index+1,""),M.Dc("ngModel",i.role),M.Nb(2),M.ed(M.xc(3,6,"Only view")),M.Nb(3),M.fd(" ",M.xc(6,8,"Passed signature")," "),M.Nb(3),M.fd(" ",M.xc(9,10,"Reviewed signature")," "),M.Nb(3),M.fd(" ",M.xc(12,12,"Approved signature")," ")}}function nn(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.ed(n.time)}}function cn(e,t){if(1&e){var n=M.ic();M.hc(0,"input",235),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().$implicit.time=e}),M.gc()}if(2&e){var c=M.vc(),i=c.$implicit;M.Fc("name","timer",c.index+1,""),M.Dc("ngModel",i.time)}}function an(e,t){if(1&e){var n=M.ic();M.hc(0,"tr"),M.hc(1,"td",26),M.bd(2,Ht,2,1,"span",27),M.bd(3,Vt,1,2,"input",231),M.gc(),M.hc(4,"td",26),M.bd(5,Yt,2,1,"span",27),M.bd(6,Wt,2,6,"nz-tree-select",232),M.gc(),M.hc(7,"td",26),M.bd(8,en,5,4,"span",27),M.bd(9,tn,13,14,"select",139),M.gc(),M.hc(10,"td",26),M.bd(11,nn,2,1,"span",27),M.bd(12,cn,1,2,"input",233),M.gc(),M.hc(13,"td",26),M.hc(14,"a",144),M.rc("click",function(){M.Uc(n);var e=t.$implicit;return M.vc(2)._removeItemHandle(e)}),M.cc(15,"i",145),M.gc(),M.gc(),M.gc()}if(2&e){var c=t.$implicit;M.Nb(2),M.Dc("ngIf",c.flag),M.Nb(1),M.Dc("ngIf",!c.flag),M.Nb(2),M.Dc("ngIf",c.flag),M.Nb(1),M.Dc("ngIf",!c.flag),M.Nb(2),M.Dc("ngIf",c.flag),M.Nb(1),M.Dc("ngIf",!c.flag),M.Nb(2),M.Dc("ngIf",c.flag),M.Nb(1),M.Dc("ngIf",!c.flag)}}function rn(e,t){1&e&&(M.fc(0),M.hc(1,"a",190),M.cc(2,"img",191),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function ln(e,t){if(1&e&&(M.hc(0,"button",236),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function on(e,t){if(1&e){var n=M.ic();M.hc(0,"form",198,199),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChangeP()}),M.hc(2,"div",67),M.hc(3,"h4",68),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.wc(7,"translate"),M.gc(),M.hc(8,"button",69),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(9,"span",70),M.dd(10,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(11,"div",200),M.hc(12,"div",72),M.hc(13,"div",201),M.hc(14,"label",202),M.dd(15),M.wc(16,"translate"),M.hc(17,"span",50),M.dd(18,"(*)"),M.gc(),M.dd(19," - "),M.hc(20,"a",116),M.rc("click",function(){M.Uc(n);var e=M.vc(),t=M.Rc(87);return e._popupCategory(t,null)}),M.cc(21,"i",15),M.gc(),M.gc(),M.hc(22,"select",203),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.profile_group_id=e}),M.hc(23,"option",204),M.dd(24),M.wc(25,"translate"),M.gc(),M.bd(26,Kt,2,3,"option",205),M.gc(),M.gc(),M.hc(27,"div",201),M.hc(28,"label",206),M.dd(29),M.wc(30,"translate"),M.hc(31,"span",50),M.dd(32,"(*)"),M.gc(),M.gc(),M.hc(33,"input",207),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.code=e})("keyup",function(){return M.Uc(n),M.vc().removeBlankTypeProfile()}),M.gc(),M.gc(),M.hc(34,"div",201),M.hc(35,"label",208),M.dd(36),M.wc(37,"translate"),M.hc(38,"span",50),M.dd(39,"(*)"),M.gc(),M.gc(),M.hc(40,"input",209),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.title=e}),M.gc(),M.gc(),M.hc(41,"div",201),M.hc(42,"label",210),M.dd(43),M.wc(44,"translate"),M.hc(45,"span",50),M.dd(46,"(*)"),M.gc(),M.dd(47," - "),M.hc(48,"a",116),M.rc("click",function(){M.Uc(n);var e=M.vc(),t=M.Rc(89);return e._popupCategory1(t,null)}),M.cc(49,"i",15),M.gc(),M.gc(),M.hc(50,"ng-select",211),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.document_id=e}),M.wc(51,"translate"),M.wc(52,"translate"),M.gc(),M.gc(),M.hc(53,"div",73),M.hc(54,"label",212),M.dd(55),M.wc(56,"translate"),M.hc(57,"span",50),M.dd(58,"(*)"),M.gc(),M.gc(),M.hc(59,"div",23),M.hc(60,"table",115),M.hc(61,"thead"),M.hc(62,"th",26),M.dd(63),M.wc(64,"translate"),M.gc(),M.hc(65,"th",26),M.dd(66),M.wc(67,"translate"),M.hc(68,"a",116),M.rc("click",function(){M.Uc(n);var e=M.vc(),t=M.Rc(93);return e._popupDepartment(t,null)}),M.cc(69,"i",15),M.gc(),M.gc(),M.hc(70,"th",26),M.dd(71),M.wc(72,"translate"),M.gc(),M.hc(73,"th",26),M.dd(74),M.wc(75,"translate"),M.wc(76,"translate"),M.gc(),M.hc(77,"th",26),M.dd(78),M.wc(79,"translate"),M.gc(),M.gc(),M.hc(80,"tbody"),M.bd(81,an,16,8,"tr",28),M.gc(),M.hc(82,"tfoot"),M.hc(83,"tr"),M.cc(84,"td",213),M.hc(85,"td",26),M.hc(86,"a",147),M.rc("click",function(){return M.Uc(n),M.vc()._addItemHandle(null)}),M.cc(87,"i",15),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(88,"div",73),M.hc(89,"label",214),M.dd(90),M.wc(91,"translate"),M.gc(),M.hc(92,"ck-editor",215,216),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.description=e}),M.gc(),M.gc(),M.hc(94,"div",88),M.hc(95,"label",217),M.dd(96),M.wc(97,"translate"),M.gc(),M.hc(98,"div",218),M.hc(99,"input",219),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.is_active=e}),M.gc(),M.hc(100,"label",220),M.dd(101),M.wc(102,"translate"),M.gc(),M.gc(),M.gc(),M.hc(103,"div",82),M.hc(104,"label",221),M.dd(105),M.wc(106,"translate"),M.gc(),M.hc(107,"input",222),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.estimated_cost=e}),M.gc(),M.gc(),M.hc(108,"div",223),M.hc(109,"label",224),M.dd(110),M.wc(111,"translate"),M.gc(),M.hc(112,"input",225,226),M.rc("change",function(e){M.Uc(n);var t=M.Rc(113);return M.vc().fileEvent1(e,t)}),M.gc(),M.hc(114,"input",227),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entityUpload1.fileUpload=e}),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(115,"div",186),M.hc(116,"button",228),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(117),M.wc(118,"translate"),M.gc(),M.bd(119,rn,5,3,"ng-container",27),M.bd(120,ln,3,4,"button",229),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ","ADD"==c._flagSubModal?M.xc(5,41,"Add new"):M.xc(6,43,"Update")," ",M.xc(7,45,c._subTitle)," "),M.Nb(11),M.fd("",M.xc(16,47,"Profile group")," "),M.Nb(7),M.Dc("ngModel",c.entitySub.profile_group_id),M.Nb(2),M.ed(M.xc(25,49,"Please choose")),M.Nb(2),M.Dc("ngForOf",c._catprofiles),M.Nb(3),M.fd("",M.xc(30,51,"Profile code")," "),M.Nb(4),M.Dc("ngModel",c.entitySub.code),M.Nb(3),M.fd("",M.xc(37,53,"Profile name")," "),M.Nb(4),M.Dc("ngModel",c.entitySub.title),M.Nb(3),M.fd("",M.xc(44,55,"Type of document")," "),M.Nb(7),M.Dc("items",c._catdocuments)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("bindLabel","en"==c.user.lang?"name_e":"name_l")("ngModel",c.entitySub.document_id)("placeholder",M.xc(51,57,"Please choose"))("notFoundText",M.xc(52,59,"Not found item")),M.Nb(5),M.fd("",M.xc(56,61,"Configure handling users")," "),M.Nb(8),M.fd(" ",M.xc(64,63,"Processing no.")," "),M.Nb(3),M.fd(" ",M.xc(67,65,"Manager Unit")," - "),M.Nb(5),M.ed(M.xc(72,67,"Roles")),M.Nb(3),M.gd(" ",M.xc(75,69,"Time")," (",M.xc(76,71,"hours"),") "),M.Nb(4),M.ed(M.xc(79,73,"Actions")),M.Nb(3),M.Dc("ngForOf",c.entitySub.handle_users.data),M.Nb(9),M.ed(M.xc(91,75,"Description")),M.Nb(2),M.Dc("ngModel",c.entitySub.description)("fullPage",!0)("config",c.ckEditorConfig),M.Nb(4),M.ed(M.xc(97,77,"Status")),M.Nb(3),M.Dc("ngModel",c.entitySub.is_active),M.Nb(2),M.ed(M.xc(102,79,c.entitySub.is_active?"activated":"not activated")),M.Nb(4),M.fd("",M.xc(106,81,"Estimated cost")," (VND)"),M.Nb(2),M.Dc("ngModel",c.entitySub.estimated_cost),M.Nb(3),M.fd("",M.xc(111,83,"Attachment (if any)")," (.doc,.docx,.pdf)"),M.Nb(4),M.Dc("ngModel",c.entityUpload1.fileUpload),M.Nb(3),M.fd(" ",M.xc(118,85,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSaveSub),M.Nb(1),M.Dc("ngIf",!c.isSaveSub)}}function sn(e,t){1&e&&(M.fc(0),M.hc(1,"a",190),M.cc(2,"img",191),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function dn(e,t){if(1&e&&(M.hc(0,"button",236),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function un(e,t){if(1&e){var n=M.ic();M.hc(0,"form",198,237),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChangeProfileGroup()}),M.hc(2,"div",67),M.hc(3,"h4",68),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.wc(7,"translate"),M.gc(),M.hc(8,"button",69),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(9,"span",70),M.dd(10,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(11,"div",71),M.hc(12,"div",72),M.hc(13,"div",223),M.hc(14,"div",238),M.hc(15,"label",239),M.dd(16),M.wc(17,"translate"),M.hc(18,"span",50),M.dd(19,"(*)"),M.gc(),M.gc(),M.hc(20,"input",240),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.code=e})("keyup",function(){return M.Uc(n),M.vc().removeBlank()}),M.wc(21,"translate"),M.gc(),M.gc(),M.gc(),M.hc(22,"div",73),M.hc(23,"div",238),M.hc(24,"label",241),M.dd(25),M.wc(26,"translate"),M.hc(27,"span",50),M.dd(28,"(*)"),M.gc(),M.gc(),M.hc(29,"input",242),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.name_l=e}),M.wc(30,"translate"),M.wc(31,"translate"),M.gc(),M.gc(),M.gc(),M.hc(32,"div",73),M.hc(33,"div",238),M.hc(34,"input",243),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.name_e=e}),M.wc(35,"translate"),M.wc(36,"translate"),M.gc(),M.gc(),M.gc(),M.hc(37,"div",223),M.hc(38,"label",244),M.dd(39),M.wc(40,"translate"),M.gc(),M.hc(41,"div",218),M.hc(42,"input",245),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.is_active=e}),M.gc(),M.hc(43,"label",246),M.dd(44),M.wc(45,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(46,"div",186),M.hc(47,"button",228),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(48),M.wc(49,"translate"),M.gc(),M.bd(50,sn,5,3,"ng-container",27),M.bd(51,dn,3,4,"button",229),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ",null==c.entitySubIn.id?M.xc(5,18,"Add new"):M.xc(6,20,"Update")," ",M.xc(7,22,"Profile group")," "),M.Nb(12),M.fd("",M.xc(17,24,"Profile code")," "),M.Nb(4),M.Ec("placeholder",M.xc(21,26,"Profile code")),M.Dc("ngModel",c.entitySubIn.code),M.Nb(5),M.fd("",M.xc(26,28,"Group name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(30,30,"Group name")," (",M.xc(31,32,"Vietnamese"),")"),M.Dc("ngModel",c.entitySubIn.name_l),M.Nb(5),M.Gc("placeholder","",M.xc(35,34,"Group name")," (",M.xc(36,36,"English"),")"),M.Dc("ngModel",c.entitySubIn.name_e),M.Nb(5),M.ed(M.xc(40,38,"Status")),M.Nb(3),M.Dc("ngModel",c.entitySubIn.is_active),M.Nb(2),M.ed(M.xc(45,40,c.entitySubIn.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(49,42,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSaveSub1),M.Nb(1),M.Dc("ngIf",!c.isSaveSub1)}}function gn(e,t){1&e&&(M.fc(0),M.hc(1,"a",190),M.cc(2,"img",191),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function hn(e,t){if(1&e&&(M.hc(0,"button",236),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function fn(e,t){if(1&e){var n=M.ic();M.hc(0,"form",198,247),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChangeProfileGroup1()}),M.hc(2,"div",67),M.hc(3,"h4",68),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.wc(7,"translate"),M.gc(),M.hc(8,"button",69),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(9,"span",70),M.dd(10,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(11,"div",71),M.hc(12,"div",72),M.hc(13,"div",223),M.hc(14,"div",238),M.hc(15,"label",248),M.dd(16),M.wc(17,"translate"),M.hc(18,"span",50),M.dd(19,"(*)"),M.gc(),M.gc(),M.hc(20,"input",249),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.code=e})("keyup",function(){return M.Uc(n),M.vc().removeBlank()}),M.wc(21,"translate"),M.gc(),M.gc(),M.gc(),M.hc(22,"div",73),M.hc(23,"div",238),M.hc(24,"label",250),M.dd(25),M.wc(26,"translate"),M.hc(27,"span",50),M.dd(28,"(*)"),M.gc(),M.gc(),M.hc(29,"input",251),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.name_l=e}),M.wc(30,"translate"),M.wc(31,"translate"),M.gc(),M.gc(),M.gc(),M.hc(32,"div",73),M.hc(33,"div",238),M.hc(34,"input",252),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.name_e=e}),M.wc(35,"translate"),M.wc(36,"translate"),M.gc(),M.gc(),M.gc(),M.hc(37,"div",223),M.hc(38,"label",253),M.dd(39),M.wc(40,"translate"),M.gc(),M.hc(41,"div",218),M.hc(42,"input",254),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.is_active=e}),M.gc(),M.hc(43,"label",255),M.dd(44),M.wc(45,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(46,"div",186),M.hc(47,"button",228),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(48),M.wc(49,"translate"),M.gc(),M.bd(50,gn,5,3,"ng-container",27),M.bd(51,hn,3,4,"button",229),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ",null==c.entitySubIn.id?M.xc(5,18,"Add new"):M.xc(6,20,"Update")," ",M.xc(7,22,"Type of document")," "),M.Nb(12),M.fd("",M.xc(17,24,"Document code")," "),M.Nb(4),M.Ec("placeholder",M.xc(21,26,"Document code")),M.Dc("ngModel",c.entitySubIn.code),M.Nb(5),M.fd("",M.xc(26,28,"Document name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(30,30,"Document name")," (",M.xc(31,32,"Vietnamese"),")"),M.Dc("ngModel",c.entitySubIn.name_l),M.Nb(5),M.Gc("placeholder","",M.xc(35,34,"Document name")," (",M.xc(36,36,"English"),")"),M.Dc("ngModel",c.entitySubIn.name_e),M.Nb(5),M.ed(M.xc(40,38,"Status")),M.Nb(3),M.Dc("ngModel",c.entitySubIn.is_active),M.Nb(2),M.ed(M.xc(45,40,c.entitySubIn.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(49,42,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSaveSub1),M.Nb(1),M.Dc("ngIf",!c.isSaveSub1)}}function bn(e,t){1&e&&(M.fc(0),M.hc(1,"a",190),M.cc(2,"img",191),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function vn(e,t){if(1&e&&(M.hc(0,"button",236),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function pn(e,t){if(1&e){var n=M.ic();M.hc(0,"form",198,256),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChangeTitle()}),M.hc(2,"div",67),M.hc(3,"h4",68),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.gc(),M.hc(7,"button",69),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(8,"span",70),M.dd(9,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(10,"div",71),M.hc(11,"div",72),M.hc(12,"div",223),M.hc(13,"div",238),M.hc(14,"label",257),M.dd(15),M.wc(16,"translate"),M.hc(17,"span",50),M.dd(18,"(*)"),M.gc(),M.gc(),M.hc(19,"input",258),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.code=e})("keyup",function(){return M.Uc(n),M.vc().removeBlank()}),M.wc(20,"translate"),M.gc(),M.gc(),M.gc(),M.hc(21,"div",73),M.hc(22,"div",238),M.hc(23,"label",259),M.dd(24),M.wc(25,"translate"),M.hc(26,"span",50),M.dd(27,"(*)"),M.gc(),M.gc(),M.hc(28,"input",260),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.name_l=e}),M.wc(29,"translate"),M.wc(30,"translate"),M.gc(),M.gc(),M.gc(),M.hc(31,"div",73),M.hc(32,"div",238),M.hc(33,"input",261),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.name_e=e}),M.wc(34,"translate"),M.wc(35,"translate"),M.gc(),M.gc(),M.gc(),M.hc(36,"div",223),M.hc(37,"label",262),M.dd(38),M.wc(39,"translate"),M.gc(),M.hc(40,"div",218),M.hc(41,"input",263),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.is_active=e}),M.gc(),M.hc(42,"label",264),M.dd(43),M.wc(44,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(45,"div",186),M.hc(46,"button",228),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(47),M.wc(48,"translate"),M.gc(),M.bd(49,bn,5,3,"ng-container",27),M.bd(50,vn,3,4,"button",229),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ",M.xc(5,18,"Add new")," ",M.xc(6,20,"Title1")," "),M.Nb(11),M.fd("",M.xc(16,22,"Code")," "),M.Nb(4),M.Ec("placeholder",M.xc(20,24,"Code")),M.Dc("ngModel",c.entitySubIn.code),M.Nb(5),M.fd("",M.xc(25,26,"Name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(29,28,"Name")," (",M.xc(30,30,"Vietnamese"),")"),M.Dc("ngModel",c.entitySubIn.name_l),M.Nb(5),M.Gc("placeholder","",M.xc(34,32,"Name")," (",M.xc(35,34,"English"),")"),M.Dc("ngModel",c.entitySubIn.name_e),M.Nb(5),M.ed(M.xc(39,36,"Status")),M.Nb(3),M.Dc("ngModel",c.entitySubIn.is_active),M.Nb(2),M.ed(M.xc(44,38,c.entitySubIn.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(48,40,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSaveSub1),M.Nb(1),M.Dc("ngIf",!c.isSaveSub1)}}function _n(e,t){1&e&&(M.fc(0),M.hc(1,"a",190),M.cc(2,"img",191),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function mn(e,t){if(1&e&&(M.hc(0,"button",236),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function yn(e,t){if(1&e){var n=M.ic();M.hc(0,"form",198,265),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChangeDepartment()}),M.hc(2,"div",67),M.hc(3,"h4",68),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.gc(),M.hc(7,"button",69),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(8,"span",70),M.dd(9,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(10,"div",71),M.hc(11,"div",72),M.hc(12,"div",73),M.hc(13,"div",238),M.hc(14,"label",266),M.dd(15),M.wc(16,"translate"),M.hc(17,"span",50),M.dd(18,"(*)"),M.gc(),M.gc(),M.hc(19,"input",267),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.dept_name_l=e}),M.wc(20,"translate"),M.wc(21,"translate"),M.gc(),M.gc(),M.gc(),M.hc(22,"div",73),M.hc(23,"div",238),M.hc(24,"input",268),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.dept_name_e=e}),M.wc(25,"translate"),M.wc(26,"translate"),M.gc(),M.gc(),M.gc(),M.hc(27,"div",223),M.hc(28,"label",269),M.dd(29),M.wc(30,"translate"),M.gc(),M.hc(31,"div",218),M.hc(32,"input",270),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySubIn.is_active=e}),M.gc(),M.hc(33,"label",271),M.dd(34),M.wc(35,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(36,"div",186),M.hc(37,"button",228),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(38),M.wc(39,"translate"),M.gc(),M.bd(40,_n,5,3,"ng-container",27),M.bd(41,mn,3,4,"button",229),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ",M.xc(5,15,"Add new")," ",M.xc(6,17,"Department")," "),M.Nb(11),M.fd("",M.xc(16,19,"Name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(20,21,"Name")," (",M.xc(21,23,"Vietnamese"),")"),M.Dc("ngModel",c.entitySubIn.dept_name_l),M.Nb(5),M.Gc("placeholder","",M.xc(25,25,"Name")," (",M.xc(26,27,"English"),")"),M.Dc("ngModel",c.entitySubIn.dept_name_e),M.Nb(5),M.ed(M.xc(30,29,"Status")),M.Nb(3),M.Dc("ngModel",c.entitySubIn.is_active),M.Nb(2),M.ed(M.xc(35,31,c.entitySubIn.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(39,33,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSaveSub1),M.Nb(1),M.Dc("ngIf",!c.isSaveSub1)}}var Sn=function(e,t){return{url:e,password:t}};function Nn(e,t){if(1&e&&M.cc(0,"pdf-viewer",276),2&e){var n=M.vc(2);M.Dc("src",M.Jc(6,Sn,n._originFile,n._password))("stick-to-page",!0)("original-size",!1)("show-all",!0)("autoresize",!0)("render-text",!1)}}function Dn(e,t){1&e&&(M.hc(0,"h3"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Processing")))}function wn(e,t){if(1&e){var n=M.ic();M.hc(0,"div",67),M.hc(1,"h4",68),M.dd(2),M.gc(),M.hc(3,"button",69),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(4,"span",70),M.dd(5,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(6,"div",71),M.hc(7,"div",272),M.bd(8,Nn,1,9,"pdf-viewer",273),M.bd(9,Dn,3,3,"h3",27),M.gc(),M.gc(),M.hc(10,"div",186),M.hc(11,"button",274),M.rc("click",function(){return M.Uc(n),M.vc().print()}),M.cc(12,"i",275),M.dd(13),M.wc(14,"translate"),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(2),M.fd(" ",c.entity.title," "),M.Nb(6),M.Dc("ngIf",!c.isLoadingView),M.Nb(1),M.Dc("ngIf",c.isLoadingView),M.Nb(4),M.fd(" ",M.xc(14,4,"Print")," ")}}function xn(e,t){1&e&&(M.fc(0),M.hc(1,"a",190),M.cc(2,"img",191),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function Mn(e,t){if(1&e){var n=M.ic();M.hc(0,"a",285),M.rc("click",function(){return M.Uc(n),M.vc(2)._submitRefused()}),M.dd(1),M.wc(2,"translate"),M.gc()}2&e&&(M.Nb(1),M.fd(" ",M.xc(2,1,"Save")," "))}function kn(e,t){if(1&e){var n=M.ic();M.hc(0,"div",67),M.hc(1,"h4",68),M.dd(2),M.wc(3,"translate"),M.gc(),M.hc(4,"button",69),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(5,"span",70),M.dd(6,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(7,"div",71),M.hc(8,"div",238),M.hc(9,"div",73),M.hc(10,"label",277),M.dd(11),M.wc(12,"translate"),M.gc(),M.hc(13,"textarea",278),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entityApprove.content=e}),M.gc(),M.gc(),M.hc(14,"div",73),M.hc(15,"label",279),M.dd(16),M.wc(17,"translate"),M.gc(),M.hc(18,"input",280),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entityApprove.approved_cost=e}),M.gc(),M.gc(),M.hc(19,"div",73),M.hc(20,"label",279),M.dd(21),M.wc(22,"translate"),M.gc(),M.hc(23,"input",281,282),M.rc("change",function(e){M.Uc(n);var t=M.Rc(24);return M.vc().fileEventApproved(e,t)}),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(25,"div",186),M.hc(26,"a",283),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(27),M.wc(28,"translate"),M.gc(),M.bd(29,xn,5,3,"ng-container",27),M.bd(30,Mn,3,3,"a",284),M.gc()}if(2&e){var c=M.vc();M.Nb(2),M.fd(" ",M.xc(3,9,"Agree"==c._flagModalApprove?"Agree":"Disagree")," "),M.Nb(9),M.ed(M.xc(12,11,"Reason")),M.Nb(2),M.Dc("ngModel",c.entityApprove.content),M.Nb(3),M.ed(M.xc(17,13,"Approved cost")),M.Nb(2),M.Dc("ngModel",c.entityApprove.approved_cost),M.Nb(3),M.fd("",M.xc(22,15,"Attachment (if any)")," (.doc,.docx,.pdf)"),M.Nb(6),M.fd(" ",M.xc(28,17,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSaveApprove),M.Nb(1),M.Dc("ngIf",!c.isSaveApprove)}}Y.a.vfs=Q.a.pdfMake.vfs;var En,Cn=((En=function(){function n(e,t,c,a,r,l,o,s,d,u){i(this,n),this._authenService=e,this._dataService=t,this._route=c,this._notifyService=a,this._uploadService=r,this._excelService=l,this._numberFormat=o,this.modalService=s,this._utilyService=d,this.sanitizer=u,this._secret="j@s0n1980!!!",this._current=9,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this._subTitle="",this._flagModal="ADD",this.entity={},this._flagButton=1,this._profiles=[],this._catprofiles=[],this.related_requests=[],this.checkAllIDs=!1,this.entityUpload={},this.entityUploadMore={},this.entityUpload1={},this.filesToUpload=[],this.selectedFileNames=[],this.jfile=null,this.jfile1=null,this.jfileProposed=null,this.jfileMoreProposed=[],this.formData=new FormData,this._flagSubModal="ADD",this.entitySub={},this.isSaveSub=!1,this._documents=[],this._catdocuments=[],this.entitySubIn={},this.isSaveSub1=!1,this._selectUser=null,this._selectDept=null,this._getusers=[],this._titles=[],this._departments=[],this.expandKeys=[],this.expandKeys1=[],this._urlMicrosoft="https://view.officeapps.live.com/op/embed.aspx?src=",this._originFile=null,this.other_attached_files=[],this.handling_users=[],this._displayContent=null,this.isSaveSigned=!1,this._flagActive=!1,this._histories=[],this._diagrams=[],this._flagShow=!1,this._flagModalApprove="Agree",this.entityApprove={},this.isSaveApprove=!1,this.filesToUploadApprove=[],this.chats=[],this._contents="",this.baseFolder=H.a.BASE_API,this.isLoadingView=!1,this._password="ciphertext",this.socket=K()(H.a.BASE_API)}return r(n,[{key:"ngOnInit",value:function(){var e=this;this.user=this._authenService.getLoggedInUser(),this.loadData(),this.socket.on("refreshPage",function(t){e.loadData(),null!=e.entity.id&&(e.loadProposedProfileDetailById(e.entity.id),e.loadChat(e.entity.id))})}},{key:"ngOnDestroy",value:function(){var e=window.CKEDITOR;if(e.instances)for(var t in e.instances)e.instances[t].destroy()}},{key:"loadData",value:function(){var e=this;this._isLoading=!0;var n={};n.page=this.pageIndex,n.limit=this.pageSize,n.filter=this._keyword,n.createdby=this.user.id,n.current=this._current,this._dataService.post("/cat-submission/getall",n).subscribe(function(n){var c,i=[],a=t(n.data);try{for(a.s();!(c=a.n()).done;){var r,l=c.value,o=t(l.handle_users.data);try{for(o.s();!(r=o.n()).done;)r.value.show=!1}catch(f){o.e(f)}finally{o.f()}var s,d,u,g=t(l.handle_users.data);try{var h=function(){var e=s.value,n=!1;if(l.handle_users.data.filter(function(t){return t.order==e.order&&null==t.timestamp}).length>=1){var c,i=t(l.handle_users.data.filter(function(t){return t.order==e.order&&null==t.timestamp}));try{for(i.s();!(c=i.n()).done;)c.value.show=!0}catch(f){i.e(f)}finally{i.f()}n=!0}if(n)return"break"};for(g.s();!(s=g.n()).done&&"break"!==h(););}catch(f){g.e(f)}finally{g.f()}d=l.handle_users.data.filter(function(e){return 3!=e.role}),u=0==l.handle_users.data.filter(function(e){return 3==e.role}).length?null:l.handle_users.data.filter(function(e){return 3==e.role})[0],l.reviews=d,l.approve=u,i.push(l)}}catch(f){a.e(f)}finally{a.f()}e._requestslist=i,e.totalRow=n.rowCount,e.totalPage=n.totalPages,e._isLoading=!1})}},{key:"loadChat",value:function(e){var t=this,n={};n.join_room=e,this._dataService.post("/chat/getallnp",n).subscribe(function(e){t.chats=e.data,console.log("chats",t.chats)})}},{key:"_addChat",value:function(){var e=this;if(""!=this._contents&&null!=this.entity.id){var t={};t.text=this._contents,t.join_room=this.entity.id,t.depended_id=this.user.id,this._dataService.post("/chat/add",t).subscribe(function(t){e.socket.emit("refresh",{}),e._flagModal="UPDATE",e._flagButton=4,e._contents=""})}}},{key:"_switch",value:function(e){this._current=e,this.socket.emit("refresh",{})}},{key:"_pageSizeChange",value:function(e){this.pageSize=e.target.value,this.socket.emit("refresh",{})}},{key:"pageChanged",value:function(e){this.pageIndex=e.page,this.socket.emit("refresh",{})}},{key:"loadUsersWithDept",value:function(){var e=this,n={};n.short_code=this.user.short_code,this._dataService.post("/cat-submission/getallUsersNP",n).subscribe(function(n){var c,i=[],a=t(n.data);try{for(a.s();!(c=a.n()).done;){var r=c.value;i.push({key:r.id,title:r.name,parent_id:null,value:r.id,jtitle:"en"==e.user.lang?r.title_name_e:r.title_name_l,jdept:r.department_ids.data})}}catch(o){a.e(o)}finally{a.f()}var l=e._utilyService.UnflattenFunc(i);e._getusers=l})}},{key:"addItemNew",value:function(){if(this._selectUser=null,0==this.handling_users.length)this.handling_users.push({flag:!1,id:1,order:1,role:"1",time:1,timestamp:null,user:null,allow:!1});else{var e,n=0,c=t(this.handling_users);try{for(c.s();!(e=c.n()).done;){var i=e.value;null!=i.user&&null!=i.role||(n+=1)}}catch(l){c.e(l)}finally{c.f()}if(0!=n)return void this._notifyService.showWarning("e"==this.user.lang?D.a.MSG_ERROR_EMPTY_EN:D.a.MSG_ERROR_EMPTY,"e"==this.user.lang?D.a.error_title_en:D.a.error_title);var a,r=t(this.handling_users.filter(function(e){return!e.flag}));try{for(r.s();!(a=r.n()).done;)a.value.flag=!0}catch(l){r.e(l)}finally{r.f()}0==this.handling_users.filter(function(e){return!e.flag}).length&&this.handling_users.push({id:this.handling_users.length+1,flag:!1,order:1,role:"1",time:1,timestamp:null,user:null,allow:!1})}this.handling_users.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users}},{key:"removeItemNew",value:function(e){var n,c=[],i=1,a=t(this.handling_users.filter(function(t){return t.id!=e.id}));try{for(a.s();!(n=a.n()).done;){var r=n.value;c.push({id:i,order:r.order,user:r.user,role:r.role,time:r.time,flag:r.flag,allow:r.allow}),i+=1}}catch(l){a.e(l)}finally{a.f()}c.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users=c}},{key:"_getUserNew",value:function(e,n){console.log(e,n);var c,i=this._getusers.filter(function(e){return e.key==n})[0],a="",r=t(i.jdept);try{for(r.s();!(c=r.n()).done;){var l=c.value;a+=("en"==this.user.lang?l.dept_name_e:l.dept_name_l)+","}}catch(o){r.e(o)}finally{r.f()}this.handling_users.filter(function(t){return t.id==e.id})[0].user={dept_name_e:""==a?"":a.substr(0,a.length-1),dept_name_l:""==a?"":a.substr(0,a.length-1),id:n,key:"",name:i.title,title:"",title_name_e:i.jtitle,title_name_l:i.jtitle,value:""},this.handling_users.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users}},{key:"_openModal",value:function(e,t){this._flagActive=!1,this.loadProfilesNP(),this.loadUsersWithDept(),null==t?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.entity.is_active=0,this.entity.created_by=this.user.id,this.handling_users=[],this.other_attached_files=[]):(this._flagModal="UPDATE",this._title="- "+t.title+" (#: "+t.code+")",this.loadChat(t.id),this.loadProposedProfileDetailById(t.id)),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}},{key:"_diagramChange",value:function(e){null==e?(this.entity.handle_users={data:[]},this.handling_users=[],this._originFile=null):(this.handling_users=[],this.loadDetailProfileById(e))}},{key:"submissionChange",value:function(e){var t=this;if(this.entity.is_active=0==e?0:1,"ADD"==this._flagModal){if(0==this.entity.handle_users.data.length||null==this.entity.title)return void this._notifyService.showError("en"==this.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==this.user.lang?D.a.error_title_en:D.a.error_title);null==this.attached_file&&0==this.filesToUpload.length?(this.isSave=!0,console.log("No file"),this._addProposed(this.entity)):this._dataService.post("/cat-submission/addProposed",this.entity).subscribe(function(e){console.log(e),"failed"===e.result?t._notifyService.showError("en"==t.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==t.user.lang?D.a.error_title_en:D.a.error_title):t._processUploadProposed(t.jfileProposed,t.filesToUpload,e.data)},function(){t.isSave=!1,t._notifyService.showError("en"==t.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==t.user.lang?D.a.error_title_en:D.a.error_title)})}else this.updateSubmissionChanges()}},{key:"submissionChangeForSign",value:function(){this.entity.is_active=1,this.updateSubmissionChanges()}},{key:"updateSubmissionChanges",value:function(){var e=this;this.handling_users.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users,this.handling_users.filter(function(e){return null==e.order||null==e.user||null==e.role||null==e.time}).length>0?this._notifyService.showError("en"==this.user.lang?D.a.MSG_ERROR_EMPTY_EN:D.a.MSG_ERROR_EMPTY,"en"==this.user.lang?D.a.error_title_en:D.a.error_title):this._dataService.post("/cat-submission/updateProposed",this.entity).subscribe(function(t){0!=e.entity.is_active&&(e.socket.emit("refresh",{}),e.modalService.dismissAll(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_UPDATE_EN:D.a.MSG_UPDATE,"OK"))})}},{key:"_addProposed",value:function(e){var t=this;this._dataService.post("/cat-submission/addProposed",e).subscribe(function(e){t.isSave=!1,"failed"===e.result?t._notifyService.showError("en"==t.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==t.user.lang?D.a.error_title_en:D.a.error_title):(t._flagModal="ADD",t.entity={},t.entity.id=null,t.entity.title=null,t.entity.profile_cat_id=null,t.entity.estimated_cost=null,t.entity.content=null,t.entity.critical_level=0,t.entity.priority_level=0,t.entity.related_ids={data:[]},t.entity.attached_files=null,t.entity.handle_users={data:[]},t.entity.is_active=0,t.socket.emit("refresh",{}),t.modalService.dismissAll(),t._notifyService.showSuccess("en"==t.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){t.isSave=!1,t._notifyService.showError("en"==t.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==t.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"loadDetailProfileById",value:function(e){var n=this,c={};c.id=e,c.userid=this.user.id,this._dataService.post("/cat-submission/detailByUser",c).subscribe(function(e){console.log("Detail of Profile",e);var c=[];if("failed"==e.result)n.entity.handle_users.data=[],n.handling_users=[],n._notifyService.showError("en"==n.user.lang?D.a.MSG_ERROR_NOT_FOUND_EN:D.a.MSG_ERROR_NOT_FOUND,"en"==n.user.lang?D.a.error_title_en:D.a.error_title);else{var i,a=t(e.data.handle_users.data);try{for(a.s();!(i=a.n()).done;){var r=i.value;c.push({id:r.id,order:r.order,user:r.user,role:r.role,time:r.time,flag:!0,timestamp:null,allow:!0})}}catch(l){a.e(l)}finally{a.f()}c.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),n.entity.handle_users.data=c,n.handling_users=c,n._originFile=null!=e.data.attached_file?"https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf":null,null!=n.entity.id&&n.updateSubmissionChanges()}})}},{key:"loadDetailProfileByIdWithFile",value:function(e){var t=this,n={};n.id=e,n.userid=this.user.id,this._dataService.post("/cat-submission/detailByUser",n).subscribe(function(e){t._originFile=null!=e.data.attached_file?"https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf":null})}},{key:"_chooseButton",value:function(e){this._flagButton=e}},{key:"removeAttachment",value:function(e,t,n){var c=this;x.a.fire({title:"en"==this.user.lang?D.a.are_you_sure_en:D.a.are_you_sure,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?D.a.cancel_en:D.a.cancel,confirmButtonText:"en"==this.user.lang?D.a.confirmtext_en:D.a.confirmtext}).then(function(i){if(i.value){var a={};a.id=e,a.path=t,a.stat=n,c._dataService.post("/cat-submission/removeAttachment",a).subscribe(function(e){console.log(e),c._notifyService.showSuccess("en"==c.user.lang?D.a.MSG_DELETE_EN:D.a.MSG_DELETE,"OK"),c.socket.emit("refresh",{})},function(){c._notifyService.showError("en"==c.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==c.user.lang?D.a.error_title_en:D.a.error_title)})}})}},{key:"loadProposedProfileDetailById",value:function(e){var n=this;this._flagButton=4==this._flagButton?4:1,this._diagrams=[],this._histories=[];var c={};c.id=e,this._dataService.post("/cat-submission/detailProposed",c).subscribe(function(e){n.entity=e.data,n._displayContent=null==e.data.content?"":n.sanitizer.bypassSecurityTrustHtml(e.data.content);var c,i=[],a=t(e.data.handle_users.data);try{for(a.s();!(c=a.n()).done;){var r=c.value;i.push({id:r.id,order:r.order,user:r.user,role:r.role,time:r.time,flag:!0,timestamp:r.timestamp,allow:!0})}}catch(p){a.e(p)}finally{a.f()}if(n.handling_users=i,0==n.entity.is_active)n.handling_users.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1});else{var l,o=t(n.handling_users);try{for(o.s();!(l=o.n()).done;)l.value.show=!1}catch(p){o.e(p)}finally{o.f()}var s,d=t(n.handling_users);try{var u=function(){var e=s.value,c=!1;if(n.handling_users.filter(function(t){return t.order==e.order&&null==t.timestamp}).length>=1){var i,a=t(n.handling_users.filter(function(t){return t.order==e.order&&null==t.timestamp}));try{for(a.s();!(i=a.n()).done;)i.value.show=!0}catch(p){a.e(p)}finally{a.f()}c=!0}if(c)return"break"};for(d.s();!(s=d.n()).done&&"break"!==u(););}catch(p){d.e(p)}finally{d.f()}n.handling_users.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1})}if(n.entity.handle_users.data=i,n.other_attached_files=null==e.data.other_attached_files?[]:e.data.other_attached_files.data,4==n.entity.is_active)n._flagActive=!1;else if(0==i.filter(function(e){return e.user.id==n.user.id}).length)null!=e.data.logs&&null!=e.data.logs.timestamp&&(n._flagActive=!0);else for(var g=0;g<i.filter(function(e){return e.user.id==n.user.id}).length;g++)n._flagActive=null!=i.filter(function(e){return e.user.id==n.user.id})[g].timestamp;if(null!=e.data.logs){n._diagrams=e.data.logs.diagrams,n._diagrams.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1}),n._histories=e.data.logs.history,n._histories.sort(function(e,t){return t.id>e.id||t.id==e.id&&t.id>e.id?1:-1});var h,f=1,b=t(n._diagrams.filter(function(e){return e.flag&&null==e.timestamp}));try{var v=function(){var e=h.value;if(!(f<=n._diagrams.filter(function(t){return t.order==e.order}).length))return"break";e.flag=!1,f+=1};for(b.s();!(h=b.n()).done&&"break"!==v(););}catch(p){b.e(p)}finally{b.f()}null==e.data.logs?n._flagShow=!1:n._diagrams.filter(function(e){return e.user.id==n.user.id&&!e.flag}).length>0?(console.log("test here"),n._flagShow=!0):n._flagShow=!1,console.log("Flag",n._flagShow)}n.loadDetailProfileByIdWithFile(e.data.profile_cat_id)})}},{key:"toggleCheckAll",value:function(e){e.currentTarget.checked?this.selectAllItems():this.unselectAllItems()}},{key:"onTouched",value:function(){}},{key:"onSelectionChange",value:function(t){if(Array.isArray(t)){var n=t.map(function(e){return e.id});this.entity.organizations=e(n),this.onChange(e(n))}this.onTouched()}},{key:"onChange",value:function(e){}},{key:"writeValue",value:function(t){this.combo.select(e(t))}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"selectAllItems",value:function(){var t=this.related_requests.map(function(e){return e.id});this.onChange(e(t))}},{key:"unselectAllItems",value:function(){this.entity.related_ids=[],this.checkAllIDs=!1,this.onChange([])}},{key:"_processUploadProposed",value:function(e,t,n){var c=this,i=0;if(null!=e){t.length>0&&(i=1);var a,r=[];if(a=e.files,i>0&&r.push(t),console.log(a),console.log(r),i>0){var l={folder_name:"submissions"};l.id=n.id,console.log("Testing",e.files),this._uploadService.uploadFile("/services/uploads/"+l.id+"/"+l.folder_name,e.files).subscribe(function(e){var i={folder_name:"submissions"};i.id=n.id,c._uploadService.uploadFileMulti("/services/multi-uploads/"+i.id+"/"+i.folder_name,t).subscribe(function(t){c._updateSubmission12(n.id,e.data,t.data)})})}else{var o={folder_name:"submissions"};o.id=n.id,this._uploadService.uploadFile("/services/uploads/"+o.id+"/"+o.folder_name,e.files).subscribe(function(e){c._updateSubmission1(n.id,e.data)})}}else this._notifyService.showError("en"==this.user.lang?D.a.recheck_file_en:D.a.recheck_file,"en"==this.user.lang?D.a.error_title_en:D.a.error_title)}},{key:"_updateSubmission1",value:function(e,t){var n=this,c={};c.id=e,c.path=t,this._dataService.post("/cat-submission/updateSubmission1",c).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("ADD"==n._flagModal?"en"==n.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO:"en"==n.user.lang?D.a.MSG_UPDATENO_EN:D.a.MSG_UPDATENO,"en"==n.user.lang?D.a.error_title_en:D.a.error_title):"ADD"==n._flagModal?(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.title=null,n.entity.profile_cat_id=null,n.entity.estimated_cost=null,n.entity.content=null,n.entity.critical_level=0,n.entity.priority_level=0,n.entity.related_ids={data:[]},n.entity.attached_files=null,n.entity.handle_users={data:[]},n.handling_users=[],n.entity.is_active=0,n.socket.emit("refresh",{}),n.modalService.dismissAll(),n._notifyService.showSuccess("en"==n.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK")):(n._flagModal="UPDATE",n.socket.emit("refresh",{}),n._notifyService.showSuccess("en"==n.user.lang?D.a.MSG_UPDATE_EN:D.a.MSG_UPDATE,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==n.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"_updateSubmission2",value:function(e,t){var n=this;this.filesToUpload=[];var c={};c.id=e,c.paths=t,this._dataService.post("/cat-submission/updateSubmission2",c).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==n.user.lang?D.a.error_title_en:D.a.error_title):"ADD"==n._flagModal?(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.title=null,n.entity.profile_cat_id=null,n.entity.estimated_cost=null,n.entity.content=null,n.entity.critical_level=0,n.entity.priority_level=0,n.entity.related_ids={data:[]},n.entity.attached_files=null,n.entity.handle_users={data:[]},n.handling_users=[],n.entity.is_active=0,n.socket.emit("refresh",{}),n.modalService.dismissAll(),n._notifyService.showSuccess("en"==n.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK")):(n._flagModal="UPDATE",n.socket.emit("refresh",{}),n._notifyService.showSuccess("en"==n.user.lang?D.a.MSG_UPDATE_EN:D.a.MSG_UPDATE,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==n.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"_updateSubmission12",value:function(e,t,n){var c=this;this.filesToUpload=[];var i={};i.id=e,i.path=t,i.paths=n,this._dataService.post("/cat-submission/updateSubmission12",i).subscribe(function(e){c.isSave=!1,"failed"===e.result?c._notifyService.showError("en"==c.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==c.user.lang?D.a.error_title_en:D.a.error_title):(c._flagModal="ADD",c.entity={},c.entity.id=null,c.entity.title=null,c.entity.profile_cat_id=null,c.entity.estimated_cost=null,c.entity.content=null,c.entity.critical_level=0,c.entity.priority_level=0,c.entity.related_ids={data:[]},c.entity.attached_files=null,c.entity.handle_users={data:[]},c.handling_users=[],c.entity.is_active=0,c.socket.emit("refresh",{}),c.modalService.dismissAll(),c._notifyService.showSuccess("en"==c.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){c.isSave=!1,c._notifyService.showError("en"==c.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==c.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"fileEvent",value:function(e,t){var n=e.target.files[0];if(void 0===n||void 0===n.name)this.attached_file=null,this.entityUpload.fileUpload=null,this._notifyService.showError("en"==this.user.lang?D.a.recheck_file_en:D.a.recheck_file,"en"==this.user.lang?D.a.error_title_en:D.a.error_title);else{this.attached_file=n.name;var c=this.attached_file.split(".").pop();"doc"===c||"docx"===c||"pdf"===c?(this.jfileProposed=e.target,null!=this.entity.id&&(this._processUpload(this.jfileProposed,this.entity),this.attached_file=null,this.entityUpload.fileUpload=null,t.value="")):(this._notifyService.showError("en"==this.user.lang?D.a.format_incorrect_en:D.a.format_incorrect,"en"==this.user.lang?D.a.error_title_en:D.a.error_title),this.attached_file=null,this.entityUpload.fileUpload=null,t.value="")}}},{key:"_processUpload",value:function(e,t){var n=this;if(null==e)this._notifyService.showError("en"==this.user.lang?D.a.recheck_file_en:D.a.recheck_file,"en"==this.user.lang?D.a.error_title_en:D.a.error_title);else{console.log("Executed",e.files);var c={folder_name:"submissions"};c.id=t.id,this._uploadService.uploadFile("/services/uploads/"+c.id+"/"+c.folder_name,e.files).subscribe(function(e){n._updateSubmission1(t.id,e.data)})}}},{key:"_updateSubmissionById",value:function(e,t){var n=this,c={};c.id=e,c.pathFile=t,this._dataService.post("/cat-submission/updateSubmissionById",c).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==n.user.lang?D.a.error_title_en:D.a.error_title):(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.title=null,n.entity.profile_cat_id=null,n.entity.estimated_cost=null,n.entity.content=null,n.entity.critical_level=0,n.entity.priority_level=0,n.entity.related_ids={data:[]},n.entity.attached_files=null,n.entity.handle_users={data:[]},n.entity.is_active=0,n.jfile=null,n.socket.emit("refresh",{}),n._notifyService.showSuccess("en"==n.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==n.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"fileEventMore",value:function(e,t){this.filesToUpload=e.target.files;for(var n=[],c=0;c<e.target.files.length;c++)n.push(e.target.files[c]);null!=this.entity.id&&(this._processUploadProposedAfter(this.filesToUpload,this.entity),this.filesToUpload=[],t.value=[])}},{key:"_processUploadProposedAfter",value:function(e,t){var n=this,c={folder_name:"submissions"};c.id=t.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+c.id+"/"+c.folder_name,e).subscribe(function(e){n._updateSubmission2(t.id,e.data)})}},{key:"_addItemHandle",value:function(e){if(console.log(this.entitySub,this.isSaveSub),this.loadDeptNP(),this._selectDept="all",null==e)if(0==this.entitySub.handle_users.data.length)this.entitySub.handle_users.data.push({id:1,order:1,user:null,role:null,time:1,flag:!1});else{var n,c=0,i=t(this.entitySub.handle_users.data);try{for(i.s();!(n=i.n()).done;){var a=n.value;null==a.user?(a.user={title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"},null==a.role&&(c+=1)):null==a.role&&(c+=1)}}catch(o){i.e(o)}finally{i.f()}if(0!=c)return void this._notifyService.showWarning("e"==this.user.lang?D.a.MSG_ERROR_EMPTY_EN:D.a.MSG_ERROR_EMPTY,"e"==this.user.lang?D.a.error_title_en:D.a.error_title);var r,l=t(this.entitySub.handle_users.data.filter(function(e){return!e.flag}));try{for(l.s();!(r=l.n()).done;)r.value.flag=!0}catch(o){l.e(o)}finally{l.f()}0==this.entitySub.handle_users.data.filter(function(e){return!e.flag}).length&&this.entitySub.handle_users.data.push({id:this.entitySub.handle_users.data.length+1,order:1,user:null,role:null,time:1,flag:!1})}console.log(this.entitySub)}},{key:"_getUser",value:function(e,n){if(console.log(e,n),null!=n&&null!=e.role){var c,i=t(this.entitySub.handle_users.data);try{for(i.s();!(c=i.n()).done;){var a=c.value;a.id==e.id&&(a.user="all"!=n?{title:this._departments.filter(function(e){return e.key==n})[0].title,key:this._departments.filter(function(e){return e.key==n})[0].key,value:this._departments.filter(function(e){return e.key==n})[0].value}:{title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"})}}catch(r){i.e(r)}finally{i.f()}console.log("Get change",this.entitySub)}else this._notifyService.showWarning("e"==this.user.lang?D.a.MSG_ERROR_EMPTY_EN:D.a.MSG_ERROR_EMPTY,"e"==this.user.lang?D.a.error_title_en:D.a.error_title)}},{key:"_popupTitle",value:function(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeTitle",value:function(){var e=this;this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),this._dataService.post("/cat-submission/addTitle",this.entitySubIn).subscribe(function(t){console.log(t),e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.entitySubIn={},e.entitySubIn.name_l=null,e.entitySubIn.name_e=null,e.entitySubIn.is_active=!0,e.entitySubIn.short_code=e.user.short_code,e.loadTitleNP(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"loadTitleNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallTitlesNP",null).subscribe(function(t){e._titles=t.data})}},{key:"_popupDepartment",value:function(e,t){this.entitySubIn={},this.entitySubIn.dept_name_l=null,this.entitySubIn.dept_name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeDepartment",value:function(){var e=this;this.isSaveSub1=!0,this._dataService.post("/dept/add",this.entitySubIn).subscribe(function(t){e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.entitySubIn={},e.entitySubIn.dept_name_l=null,e.entitySubIn.dept_name_e=null,e.entitySubIn.is_active=!0,e.entitySubIn.short_code=e.user.short_code,e.loadDeptNP(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"loadDeptNP",value:function(){var e=this,n={};n.short_code=this.user.short_code,this._dataService.post("/dept/getallnopaging",n).subscribe(function(n){var c=[];c.push({key:"all",title:"en"==e.user.lang?"All":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",is_active:!1,parent_id:null,value:"all"});var i,a=t(n.data);try{for(a.s();!(i=a.n()).done;){var r=i.value;c.push({key:r.id,title:"en"==e.user.lang?r.dept_name_e:r.dept_name_l,parent_id:r.parent_id,value:r.id})}}catch(o){a.e(o)}finally{a.f()}var l=e._utilyService.UnflattenFunc(c);e._departments=l})}},{key:"loadProfilesNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallMainProfileNP",{short_code:this.user.short_code}).subscribe(function(t){e._profiles=t.data})}},{key:"_removeItemHandle",value:function(e){var n,c=[],i=1,a=t(this.entitySub.handle_users.data.filter(function(t){return t.id!=e.id}));try{for(a.s();!(n=a.n()).done;){var r=n.value;c.push({id:i,order:r.order,user:r.user,role:r.role,time:r.time,flag:r.flag}),i+=1}}catch(l){a.e(l)}finally{a.f()}this.entitySub.handle_users.data=c,console.log(this.entitySub)}},{key:"_popupProfile",value:function(e,t){this.loadCatDocNP(),this.loadCatProfileNP(),null==t?(this._flagSubModal="ADD",this._subTitle="en"==this.user.lang?"Type of profile":"Lo\u1ea1i h\u1ed3 s\u01a1",this.entitySub={},this.entitySub.id=null,this.entitySub.profile_group_id=null,this.entitySub.code=null,this.entitySub.title=null,this.entitySub.document_id=null,this.entitySub.description=null,this.entitySub.handle_users={data:[]},this.entitySub.estimated_cost=null,this.entitySub.attached_file=null,this.entitySub.is_active=!0,this.jfile1=null):(this._flagSubModal="UPDATE",this.entitySub=t),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}},{key:"saveChangeP",value:function(){var e=this;console.log(this.entitySub),0!=this.entitySub.handle_users.data.length?null==this.attached_file1?(this.isSaveSub=!0,this._dataService.post("/cat-submission/add",this.entitySub).subscribe(function(t){console.log(t),e.isSaveSub=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.entitySub={},e.entitySub.id=null,e.entitySub.profile_group_id=null,e.entitySub.code=null,e.entitySub.title=null,e.entitySub.document_id=null,e.entitySub.description=null,e.entitySub.handle_users={data:[]},e.entitySub.estimated_cost=null,e.entitySub.attached_file=null,e.entitySub.is_active=!0,e.jfile1=null,e.loadProfilesNP(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})):this._dataService.post("/cat-submission/add",this.entitySub).subscribe(function(t){"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):e._processUpload1(e.jfile1,t.data)},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)}):this._notifyService.showError("en"==this.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==this.user.lang?D.a.error_title_en:D.a.error_title)}},{key:"fileEvent1",value:function(e,t){var n=e.target.files[0];if(void 0===n||void 0===n.name)this.attached_file1=null,this.entityUpload1.fileUpload=null,this._notifyService.showError("en"==this.user.lang?D.a.recheck_file_en:D.a.recheck_file,"en"==this.user.lang?D.a.error_title_en:D.a.error_title);else{this.attached_file1=n.name;var c=this.attached_file1.split(".").pop();"doc"===c||"docx"===c||"pdf"===c?(console.log("ok"),this.jfile1=e.target):(this._notifyService.showError("en"==this.user.lang?D.a.format_incorrect_en:D.a.format_incorrect,"en"==this.user.lang?D.a.error_title_en:D.a.error_title),this.attached_file1=null,this.entityUpload1.fileUpload=null,t.value="")}}},{key:"_processUpload1",value:function(e,t){var n=this;if(null==e)this._notifyService.showError("en"==this.user.lang?D.a.recheck_file_en:D.a.recheck_file,"en"==this.user.lang?D.a.error_title_en:D.a.error_title);else{var c={folder_name:"submissions"};c.id=t.id,this._uploadService.uploadFile("/services/uploads/"+c.id+"/"+c.folder_name,e.files).subscribe(function(e){n._updateProfileById(t.id,e.data)})}}},{key:"_updateProfileById",value:function(e,t){var n=this,c={};c.id=e,c.pathFile=t,this._dataService.post("/cat-submission/updateProfileById",c).subscribe(function(e){n.isSaveSub=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==n.user.lang?D.a.error_title_en:D.a.error_title):(n.entitySub={},n.entitySub.id=null,n.entitySub.profile_group_id=null,n.entitySub.code=null,n.entitySub.title=null,n.entitySub.document_id=null,n.entitySub.description=null,n.entitySub.handle_users={data:[]},n.entitySub.estimated_cost=null,n.entitySub.attached_file=null,n.entitySub.is_active=!0,n.jfile1=null,n.loadProfilesNP(),n._notifyService.showSuccess("en"==n.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){n.isSaveSub=!1,n._notifyService.showError("en"==n.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==n.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"_popupCategory",value:function(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"loadCatProfileNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallProfileNP",{short_code:this.user.short_code}).subscribe(function(t){e._catprofiles=t.data})}},{key:"removeBlank",value:function(){this.entitySubIn.code=null==this.entitySubIn.code?null:this.entitySubIn.code.replace(" ","")}},{key:"removeBlankTypeProfile",value:function(){this.entitySub.code=null==this.entitySub.code?null:this.entitySub.code.replace(" ","")}},{key:"saveChangeProfileGroup",value:function(){var e=this;this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),console.log(this.entitySubIn),this._dataService.post("/cat-submission/addProfile",this.entitySubIn).subscribe(function(t){e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.entitySubIn={},e.entitySubIn.name_l=null,e.entitySubIn.name_e=null,e.entitySubIn.is_active=!0,e.loadCatProfileNP(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"_popupCategory1",value:function(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeProfileGroup1",value:function(){var e=this;this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entitySubIn).subscribe(function(t){e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.entitySubIn={},e.entitySubIn.name_l=null,e.entitySubIn.name_e=null,e.entitySubIn.is_active=!0,e.loadCatDocNP(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"loadCatDocNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallDocumentsNP",{short_code:this.user.short_code}).subscribe(function(t){e._catdocuments=t.data})}},{key:"openViewDoc",value:function(e,t){this.processPDF(this.entity),this.modalService.open(e,{size:"lg",centered:!0})}},{key:"processPDF",value:function(e){var t=this;this.isLoadingView=!0,this._dataService.post("/cat-submission/convertPDF",{id:e.id}).subscribe(function(e){console.log("Final",e),console.log(t._password),t._originFile=null,setTimeout(function(){t._originFile=H.a.BASE_API+e.data,t.isLoadingView=!1},2e3)})}},{key:"print",value:function(){Y.a.createPdf({content:"html"}).open()}},{key:"cancelSubmission",value:function(){var e=this;x.a.fire({title:"en"==this.user.lang?D.a.are_you_sure_cancel_en:D.a.are_you_sure_cancel,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?D.a.cancel_en:D.a.cancel,confirmButtonText:"en"==this.user.lang?D.a.confirmtext_en:D.a.confirmtext}).then(function(t){t.value&&(e.entity.is_active=4,e._dataService.post("/cat-submission/updateProposed",e.entity).subscribe(function(t){console.log(t),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_CANCEL_EN:D.a.MSG_CANCEL,"en"==e.user.lang?D.a.cancel_en:D.a.cancel),e.modalService.dismissAll(),e.socket.emit("refresh",{})},function(){e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)}))})}},{key:"approvedByUser",value:function(e,t){var n=this;if(this.isSaveSigned=!0,console.log(e,t),0==e)this.entity.is_active=1,this.updateSubmissionChanges();else{console.log("Signed");var c={};c.id=this.entity.id,c.userid=this.user.id,c.status=t,c.content=null,c.approved_cost=null,this._dataService.post("/cat-submission/approvedByUserId",c).subscribe(function(e){n.isSaveSigned=!1,"failed"!=e.result&&(n._notifyService.showSuccess("en"==n.user.lang?D.a.MSG_UPDATE_EN:D.a.MSG_UPDATE,"OK"),n.modalService.dismissAll(),n.socket.emit("refresh",{}))},function(){n.isSaveSigned=!1,n._notifyService.showError("en"==n.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==n.user.lang?D.a.error_title_en:D.a.error_title)})}}},{key:"disagreeSubmission",value:function(e,t){var n=this;x.a.fire({title:"en"==this.user.lang?D.a.are_you_sure_disagree_en:D.a.are_you_sure_disagree,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?D.a.cancel_en:D.a.cancel,confirmButtonText:"en"==this.user.lang?D.a.confirmtext_en:D.a.confirmtext}).then(function(c){c.value&&n.popupApprove(e,t)})}},{key:"popupApprove",value:function(e,t){this.entityApprove.content=null,this.entityApprove.approved_cost=null,this._flagModalApprove=null==t?"Agree":"Disagree",this.modalService.open(e,{size:"md",centered:!0,backdrop:!1})}},{key:"_submitRefused",value:function(){var e=this;if(console.log(this.entityApprove,this.filesToUploadApprove),this.filesToUploadApprove.length>0)console.log("Got files"),this.isSaveApprove=!0,this._processUploadDisagreeAfter(this.filesToUploadApprove);else{this.isSaveApprove=!0;var t={};t.id=this.entity.id,t.userid=this.user.id,t.status="Agree"==this._flagModalApprove?1:0,t.content=this.entityApprove.content,t.approved_cost=this.entityApprove.approved_cost,t.files=[],this._dataService.post("/cat-submission/approvedByUserId",t).subscribe(function(t){console.log("Why",t),e.isSaveApprove=!1,"failed"!=t.result&&(e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_UPDATE_EN:D.a.MSG_UPDATE,"OK"),e.modalService.dismissAll(),e.socket.emit("refresh",{}))},function(){e.isSaveApprove=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})}}},{key:"fileEventApproved",value:function(e,t){this.filesToUploadApprove=e.target.files}},{key:"_processUploadDisagreeAfter",value:function(e){var t=this,n={folder_name:"submissions"};n.id=this.entity.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+n.id+"/"+n.folder_name,e).subscribe(function(e){var n={};n.id=t.entity.id,n.userid=t.user.id,n.status=0,n.content=t.entityApprove.content,n.approved_cost=t.entityApprove.approved_cost,n.files=e.data,t._dataService.post("/cat-submission/approvedByUserId",n).subscribe(function(e){t.isSaveApprove=!1,"failed"!=e.result&&(t._notifyService.showSuccess("en"==t.user.lang?D.a.MSG_UPDATE_EN:D.a.MSG_UPDATE,"OK"),t.modalService.dismissAll(),t.socket.emit("refresh",{}))},function(){t.isSaveApprove=!1,t._notifyService.showError("en"==t.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==t.user.lang?D.a.error_title_en:D.a.error_title)})},function(){t.isSaveApprove=!1,t._notifyService.showError("en"==t.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==t.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"submissionRecall",value:function(){var e=this;x.a.fire({title:"en"==this.user.lang?D.a.are_you_sure_recall_en:D.a.are_you_sure_recall,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?D.a.cancel_en:D.a.cancel,confirmButtonText:"en"==this.user.lang?D.a.confirmtext_en:D.a.confirmtext}).then(function(t){if(t.value){if(e.entity.logs.diagrams.filter(function(e){return 0!=e.id&&null!=e.timestamp}).length>0)return e._notifyService.showError("en"==e.user.lang?D.a.MSG_UPDATENO_EN:D.a.MSG_UPDATENO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title),void e.modalService.dismissAll();e.entity.is_active=2,e.updateSubmissionChanges()}})}}]),n}()).\u0275fac=function(e){return new(e||En)(M.bc(u.a),M.bc(d.a),M.bc(N.d),M.bc(k.a),M.bc(s.a),M.bc(o.a),M.bc(E.a),M.bc(C.s),M.bc(I.a),M.bc(X.b))},En.\u0275cmp=M.Vb({type:En,selectors:[["app-subm-requests"]],viewQuery:function(e,t){var n;1&e&&(M.jd(ce,1),M.jd(ie,1),M.jd(ae,3),M.jd(re,1),M.jd(le,1)),2&e&&(M.Qc(n=M.sc())&&(t.ckeEditor=n.first),M.Qc(n=M.sc())&&(t.ckeEditor1=n.first),M.Qc(n=M.sc())&&(t.combo=n.first),M.Qc(n=M.sc())&&(t.attached_file=n.first),M.Qc(n=M.sc())&&(t.attached_file1=n.first))},decls:98,vars:79,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-body"],[1,"btn-group","flex-wrap"],["type","button",3,"ngClass","click"],[1,"fa","fa-clone"],[1,"fa","fa-eye"],[1,"fa","fa-eye-slash"],["type","button",1,"btn","btn-sm","btn-warning"],[1,"fa","fa-search"],["type","button",1,"btn","btn-sm","btn-warning",3,"click"],[1,"fa","fa-plus"],["ngbDropdown","","class","btn-group","role","group",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],["contentModal",""],["popupNewProfile",""],["categoryModal",""],["categoryModal1",""],["titleModal",""],["deptModal",""],["popupViewModal",""],["popupApprovedModal",""],["ngbDropdown","","role","group",1,"btn-group"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-primary","dropdown-toggle"],[1,"fa","fa-object-group"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["routerLink","/submissions/type-of-profile","target","_blank",1,"dropdown-item"],[1,"fa","fa-tags"],["routerLink","/submissions/profile-group","target","_blank",1,"dropdown-item"],[1,"fa","fa-map-signs"],["routerLink","/submissions/type-of-document","target","_blank",1,"dropdown-item"],[1,"fa","fa-file-text-o"],["routerLink","/system/departments","target","_blank",1,"dropdown-item"],[1,"fa","fa-users"],["colspan","7",2,"text-align","center"],[1,"text-danger"],[2,"cursor","pointer",3,"click"],[1,"mute"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-dark",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary",4,"ngIf"],[1,"badge","badge-pill","badge-danger"],[1,"fa","fa-flag"],[1,"badge","badge-dark"],[1,"badge","badge-warning"],[1,"badge","badge-danger"],[1,"badge","badge-success"],[1,"badge","badge-secondary"],[1,"form","theme-form"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-12"],[3,"ngClass","click"],[3,"ngClass","click",4,"ngIf"],[1,"form-group","row",3,"ngStyle"],["class","col-md-12","style","max-height: calc(100vh - 300px); overflow-y: auto",4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"fa","fa-clock-o"],[1,"fa","fa-comments"],[1,"col-md-4"],["for","title"],["type","text","id","title","name","title","autocomplete","off","required","",3,"ngModel","ngClass","disabled","ngModelChange","change"],["for","profile_id"],["id","profile_id","name","profile_id","bindValue","id","bindLabel","title","required","",3,"items","multiple","closeOnSelect","searchable","ngModel","placeholder","notFoundText","disabled","ngModelChange","change"],["ng-option-tmp",""],[1,"col-md-2"],["for","critical_level"],["id","critical_level","name","critical_level",3,"ngModel","ngClass","disabled","ngModelChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["for","priority_level"],["id","priority_level","name","priority_level",3,"ngModel","ngClass","disabled","ngModelChange","change"],[1,"col-md-8"],["for","related_requests"],["bindLabel","name","bindValue","id",3,"multiple","items","closeOnSelect","placeholder","notFoundText","ngModel","disabled","blur","change"],["combo",""],["ng-header-tmp",""],["ng-multi-label-tmp",""],["for","estimated_cost"],["id","estimated_cost","name","estimated_cost","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",3,"ngClass","ngModel","disabled","change","ngModelChange"],["for","content",1,"jbold"],[3,"innerHtml",4,"ngIf"],["for","attached_file",1,"jbold"],["name","attached_file","type","file","id","attached_file","accept",".pdf,.doc,.docx","class","form-control",3,"change",4,"ngIf"],["type","hidden","name","attached_file0",3,"ngModel","ngModelChange"],["class","card-body btn-showcase",4,"ngIf"],["for","filesToUpload",1,"jbold"],["name","filesToUpload","type","file","multiple","","id","filesToUpload","class","form-control","accept",".pdf,.doc,.docx",3,"change",4,"ngIf"],[1,"card-body","btn-showcase"],["for","diagrams",1,"jbold"],[1,"table"],["href","javascript:;",1,"btn","btn-outline-info","btn-pill","btn-xs",3,"click"],["container","body",3,"ngbTooltip"],["type","checkbox",3,"ngModel","change"],["class","ng-value",4,"ngFor","ngForOf"],["class","ng-value",4,"ngIf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["type","checkbox",3,"id","checked"],["id","content","name","content","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange","change"],["ckeEditor",""],[3,"innerHtml"],["href","javascript:;",3,"click"],["name","attached_file","type","file","id","attached_file","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["attached_file",""],["src","../../../../assets/files/ico_file.png","width","25px",1,"mr-sm-1",2,"cursor","pointer",3,"click"],["class","fa fa-trash","style","cursor: pointer",3,"click",4,"ngIf"],[1,"fa","fa-trash",2,"cursor","pointer",3,"click"],["name","filesToUpload","type","file","multiple","","id","filesToUpload","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["filesToUpload",""],["class","badge badge-pill badge-danger mr-sm-3",4,"ngIf"],[1,"badge","badge-pill","badge-danger","mr-sm-3"],["type","number","min","1","class","form-control","style","width: 70px",3,"name","id","ngModel","ngModelChange","change",4,"ngIf"],["class","form-control","required","",3,"name","ngModel","ngModelChange","change",4,"ngIf"],["href","javascript:;","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["type","number","min","1",1,"form-control",2,"width","70px",3,"name","id","ngModel","ngModelChange","change"],["nzShowSearch","",2,"width","100%",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange"],["required","",1,"form-control",3,"name","ngModel","ngModelChange","change"],["href","javascript:;",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-trash"],["colspan","5",1,"text-truncate"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-md-12",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"timeline-small"],["class","media",4,"ngIf"],["class","media",4,"ngFor","ngForOf"],[1,"media"],["src","../../../../assets/img/avatars/logo-icon-web.png","width","53px",4,"ngIf"],[1,"media-body"],[1,"pull-right","f-14"],["src","../../../../assets/img/avatars/logo-icon-web.png","width","53px"],[1,"timeline-round","m-r-30","timeline-line-1"],["class","mute",4,"ngIf"],[1,"row","chat-box"],[1,"col","pr-0","chat-right-aside"],[1,"chat"],[1,"chat-header","clearfix"],["type","text","name","_contents","id","_contents","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","change"],[1,"list-inline","float-left","float-sm-right","chat-menu-icons"],[1,"list-inline-item"],["href","javascript:void(0)"],[1,"icon-clip"],[1,"chat-history","chat-msg-box","custom-scrollbar",2,"max-height","300px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","message my-message mb-0",4,"ngIf","ngIfElse"],["myChat",""],[1,"message","my-message","mb-0"],[1,"message-data","text-right"],[1,"mute","mr-sm-1"],[1,"message-data-time"],["alt","",1,"rounded-circle","float-left","chat-user-img","img-30",3,"src"],["src","../../../../assets/img/icon.png","alt","",1,"rounded-circle","float-left","chat-user-img","img-30"],[1,"message","other-message","pull-right"],[1,"message-data"],["alt","",1,"rounded-circle","float-right","chat-user-img","img-30",3,"src"],["src","../../../../assets/img/icon.png","alt","",1,"rounded-circle","float-right","chat-user-img","img-30"],[1,"image-not-found"],[1,"d-block","start-conversion"],["src","assets/images/start-conversion.jpg"],[1,"modal-footer"],["type","button",1,"btn","btn-light","mr-sm-1",3,"click"],["type","button",1,"btn","btn-secondary","mr-sm-1",3,"click"],["type","button",1,"btn","btn-danger","mr-sm-1",3,"click"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","button","class","btn btn-primary mr-sm-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mr-sm-1",3,"click"],["href","javascript:;",1,"btn","btn-warning","mr-sm-1"],["type","button","class","btn btn-warning mr-sm-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning","mr-sm-1",3,"click"],["type","button","class","btn btn-danger mr-sm-1",3,"click",4,"ngIf"],[1,"form","theme-form",3,"ngSubmit"],["f","ngForm"],[1,"modal-body",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"col-md-3"],["for","profile_group",1,"jbold"],["id","profile_group","name","profile_group","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","profile_code",1,"jbold"],["type","text","id","profile_code","name","profile_code","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],["for","profile_name",1,"jbold"],["type","text","id","profile_name","name","profile_name","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","type_document",1,"jbold"],["name","type_document","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["for","handling_users",1,"jbold"],["colspan","4",1,"text-truncate"],["for","desc",1,"jbold"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange"],["ckeEditor1",""],["for","Status11",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","Status11","type","checkbox","name","Status11",3,"ngModel","ngModelChange"],["for","Status11"],["for","estimated_cost1",1,"jbold"],["id","estimated_cost1","name","estimated_cost1","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],["for","attached_file1",1,"jbold"],["name","attached_file1","type","file","id","attached_file1",1,"form-control",3,"change"],["attached_file1",""],["type","hidden","name","attached_file11","accept",".pdf,.doc,.docx",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[3,"value"],["type","number","class","form-control","required","","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["style","width: 100%","nzShowSearch","",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange",4,"ngIf"],["type","number","class","form-control","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["type","number","required","","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["type","number","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],["formPG","ngForm"],[1,"form-group"],["for","CodePG",1,"jbold"],["type","text","id","CodePG","name","CodePG","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name1",1,"jbold"],["type","text","id","Name1","name","Name1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name1a","name","Name1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG",1,"jbold"],["id","StatusPG","type","checkbox","name","StatusPG",3,"ngModel","ngModelChange"],["for","StatusPG"],["formPG1","ngForm"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],["formTitle","ngForm"],["for","CodeTitle",1,"jbold"],["type","text","id","CodeTitle","name","CodeTitle","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","NameTitle1",1,"jbold"],["type","text","id","NameTitle1","name","NameTitle1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","NameTitle1a","name","NameTitle1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusTitle",1,"jbold"],["id","StatusTitle","type","checkbox","name","StatusTitle",3,"ngModel","ngModelChange"],["for","StatusTitle"],["formDept","ngForm"],["for","Department1",1,"jbold"],["type","text","id","Department1","name","Department1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Department1a","name","Department1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusDept",1,"jbold"],["id","StatusDept","type","checkbox","name","StatusDept",3,"ngModel","ngModelChange"],["for","StatusDept"],[1,"col-md-12",2,"height","590px"],[3,"src","stick-to-page","original-size","show-all","autoresize","render-text",4,"ngIf"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fa","fa-print"],[3,"src","stick-to-page","original-size","show-all","autoresize","render-text"],["for","contentApprove"],["id","contentApprove","rows","3","name","contentApprove",1,"form-control",3,"ngModel","ngModelChange"],["for","approved_cost"],["id","approved_cost","type","text","name","approved_cost","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","filesToUploadApprove","type","file","multiple","","id","filesToUploadApprove","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["filesToUploadApprove",""],["href","javascript:;",1,"btn","btn-light",3,"click"],["href","javascript:;","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){var n=M.ic();M.hc(0,"div",0),M.hc(1,"div",1),M.hc(2,"div",2),M.hc(3,"div",3),M.hc(4,"div",4),M.hc(5,"div",5),M.hc(6,"div",6),M.hc(7,"div",7),M.hc(8,"button",8),M.rc("click",function(){return t._switch(9)}),M.cc(9,"i",9),M.dd(10),M.wc(11,"translate"),M.gc(),M.hc(12,"button",8),M.rc("click",function(){return t._switch(1)}),M.cc(13,"i",10),M.dd(14),M.wc(15,"translate"),M.gc(),M.hc(16,"button",8),M.rc("click",function(){return t._switch(3)}),M.cc(17,"i",11),M.dd(18),M.wc(19,"translate"),M.gc(),M.hc(20,"button",12),M.cc(21,"i",13),M.dd(22),M.wc(23,"translate"),M.gc(),M.hc(24,"button",14),M.rc("click",function(){M.Uc(n);var e=M.Rc(83);return t._openModal(e,null)}),M.cc(25,"i",15),M.dd(26),M.wc(27,"translate"),M.gc(),M.bd(28,oe,22,15,"div",16),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(29,"div",2),M.hc(30,"div",3),M.hc(31,"div",4),M.hc(32,"div",5),M.hc(33,"div",6),M.hc(34,"div",17),M.hc(35,"div",18),M.hc(36,"div",19),M.hc(37,"pagination",20),M.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),M.gc(),M.gc(),M.hc(38,"div",21),M.hc(39,"a",22),M.dd(40),M.wc(41,"translate"),M.wc(42,"translate"),M.wc(43,"translate"),M.wc(44,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(45,"div",23),M.hc(46,"table",24),M.hc(47,"thead"),M.hc(48,"th",25),M.dd(49,"#"),M.gc(),M.hc(50,"th",26),M.dd(51),M.wc(52,"translate"),M.gc(),M.hc(53,"th",26),M.dd(54),M.wc(55,"translate"),M.gc(),M.hc(56,"th",26),M.dd(57),M.wc(58,"translate"),M.gc(),M.hc(59,"th",26),M.dd(60),M.wc(61,"translate"),M.gc(),M.hc(62,"th",26),M.dd(63),M.wc(64,"translate"),M.gc(),M.hc(65,"th",26),M.dd(66),M.wc(67,"translate"),M.gc(),M.gc(),M.hc(68,"tbody"),M.bd(69,se,6,3,"ng-container",27),M.bd(70,me,34,24,"ng-container",28),M.gc(),M.gc(),M.gc(),M.hc(71,"div",17),M.hc(72,"div",18),M.hc(73,"div",19),M.hc(74,"pagination",20),M.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),M.gc(),M.gc(),M.hc(75,"div",21),M.hc(76,"a",22),M.dd(77),M.wc(78,"translate"),M.wc(79,"translate"),M.wc(80,"translate"),M.wc(81,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.bd(82,Lt,26,23,"ng-template",null,29,M.cd),M.bd(84,on,121,87,"ng-template",null,30,M.cd),M.bd(86,un,52,44,"ng-template",null,31,M.cd),M.bd(88,fn,52,44,"ng-template",null,32,M.cd),M.bd(90,pn,51,42,"ng-template",null,33,M.cd),M.bd(92,yn,42,35,"ng-template",null,34,M.cd),M.bd(94,wn,15,6,"ng-template",null,35,M.cd),M.bd(96,kn,31,19,"ng-template",null,36,M.cd)}2&e&&(M.Nb(8),M.Dc("ngClass",9==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),M.Nb(2),M.fd(" ",M.xc(11,41,"All my requests")," "),M.Nb(2),M.Dc("ngClass",1==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),M.Nb(2),M.fd(" ",M.xc(15,43,"Processing requests")," "),M.Nb(2),M.Dc("ngClass",3==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),M.Nb(2),M.fd(" ",M.xc(19,45,"Closed requests")," "),M.Nb(4),M.fd(" ",M.xc(23,47,"Search")," "),M.Nb(4),M.fd(" ",M.xc(27,49,"Add new")," "),M.Nb(2),M.Dc("ngIf",t._authenService.hasPermission("DEPT","read")),M.Nb(9),M.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),M.Nb(3),M.id("",M.xc(41,51,"Total of records"),": ",t.totalRow," - ",M.xc(42,53,"Page")," ",t.pageIndex," ",M.xc(43,55,"of")," ",t.totalPage," ",M.xc(44,57,"page"),""),M.Nb(11),M.ed(M.xc(52,59,"Title")),M.Nb(3),M.fd(" ",M.xc(55,61,"Proposed date")," "),M.Nb(3),M.fd(" ",M.xc(58,63,"Reviewed by")," "),M.Nb(3),M.fd(" ",M.xc(61,65,"Approved by")," "),M.Nb(3),M.fd(" ",M.xc(64,67,"Updated date")," "),M.Nb(3),M.ed(M.xc(67,69,"Status")),M.Nb(3),M.Dc("ngIf",0==t._requestslist.length),M.Nb(1),M.Dc("ngForOf",t._requestslist),M.Nb(4),M.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),M.Nb(3),M.id("",M.xc(78,71,"Total of records"),": ",t.totalRow," - ",M.xc(79,73,"Page")," ",t.pageIndex," ",M.xc(80,75,"of")," ",t.totalPage," ",M.xc(81,77,"page"),""))},directives:[l.o,l.q,v.a,S.n,S.q,l.p,C.l,C.p,C.o,N.g,S.z,S.o,S.p,l.r,S.c,S.w,J.a,J.c,S.x,S.r,S.A,J.e,J.d,Z.a,C.N,S.b,ee.a,S.s,te.a,ne.a],pipes:[R.c,l.f,l.y],styles:[""]}),En);function In(e,t){if(1&e){var n=M.ic();M.hc(0,"a",34),M.rc("click",function(){M.Uc(n);var e=M.vc(),t=M.Rc(64);return e._openModal(t,null)}),M.cc(1,"i",35),M.dd(2),M.wc(3,"translate"),M.gc()}2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"Add new")," "))}function Rn(e,t){1&e&&(M.hc(0,"a",36),M.cc(1,"i",37),M.dd(2),M.wc(3,"translate"),M.gc()),2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"Submissions")," "))}function Pn(e,t){1&e&&M.cc(0,"i",38)}function Un(e,t){1&e&&(M.fc(0),M.hc(1,"tr"),M.hc(2,"td",39),M.hc(3,"h3",40),M.dd(4),M.wc(5,"translate"),M.gc(),M.gc(),M.gc(),M.ec()),2&e&&(M.Nb(4),M.fd(" ",M.xc(5,1,"No records now!!!")," "))}function Gn(e,t){1&e&&M.cc(0,"img",47)}function An(e,t){1&e&&M.cc(0,"img",48)}function On(e,t){if(1&e){var n=M.ic();M.fc(0),M.hc(1,"tr"),M.hc(2,"td",24),M.dd(3),M.gc(),M.hc(4,"td",24),M.dd(5),M.gc(),M.hc(6,"td",24),M.dd(7),M.gc(),M.hc(8,"td",24),M.dd(9),M.gc(),M.hc(10,"td",24),M.bd(11,Gn,1,0,"img",41),M.bd(12,An,1,0,"img",42),M.gc(),M.hc(13,"td",24),M.hc(14,"a",43),M.rc("click",function(){M.Uc(n);var e=t.$implicit,c=M.vc(),i=M.Rc(64);return c._openModal(i,e)}),M.wc(15,"translate"),M.cc(16,"i",44),M.gc(),M.hc(17,"a",45),M.rc("click",function(){M.Uc(n);var e=t.$implicit;return M.vc().deleteItem(e)}),M.wc(18,"translate"),M.cc(19,"i",46),M.gc(),M.gc(),M.gc(),M.ec()}if(2&e){var c=t.$implicit,i=t.index,a=M.vc();M.Nb(3),M.fd(" ",i+1," "),M.Nb(2),M.fd(" ",c.code," "),M.Nb(2),M.fd(" ",c.name_l," "),M.Nb(2),M.fd(" ",c.name_e," "),M.Nb(2),M.Dc("ngIf",!c.is_active),M.Nb(1),M.Dc("ngIf",c.is_active),M.Nb(2),M.Ec("ngbTooltip",M.xc(15,10,"Edit")),M.Dc("disabled","Admin"===c.name_e||!a._authenService.hasPermission("DEPT","update")),M.Nb(3),M.Ec("ngbTooltip",M.xc(18,12,"Delete")),M.Dc("disabled","Admin"===c.name_e||!a._authenService.hasPermission("DEPT","delete"))}}function Tn(e,t){1&e&&(M.fc(0),M.hc(1,"a",72),M.cc(2,"img",73),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function jn(e,t){if(1&e&&(M.hc(0,"button",74),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function Fn(e,t){if(1&e){var n=M.ic();M.hc(0,"form",49,50),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChange()}),M.hc(2,"div",51),M.hc(3,"h4",52),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.gc(),M.hc(7,"button",53),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(8,"span",54),M.dd(9,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(10,"div",55),M.hc(11,"div",56),M.hc(12,"div",57),M.hc(13,"div",58),M.hc(14,"label",59),M.dd(15),M.wc(16,"translate"),M.hc(17,"span",40),M.dd(18,"(*)"),M.gc(),M.gc(),M.hc(19,"input",60),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.code=e})("keyup",function(){return M.Uc(n),M.vc().removeBlank()}),M.wc(20,"translate"),M.gc(),M.gc(),M.gc(),M.hc(21,"div",61),M.hc(22,"div",58),M.hc(23,"label",62),M.dd(24),M.wc(25,"translate"),M.hc(26,"span",40),M.dd(27,"(*)"),M.gc(),M.gc(),M.hc(28,"input",63),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.name_l=e}),M.wc(29,"translate"),M.wc(30,"translate"),M.gc(),M.gc(),M.gc(),M.hc(31,"div",61),M.hc(32,"div",58),M.hc(33,"input",64),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.name_e=e}),M.wc(34,"translate"),M.wc(35,"translate"),M.gc(),M.gc(),M.gc(),M.hc(36,"div",57),M.hc(37,"label",65),M.dd(38),M.wc(39,"translate"),M.gc(),M.hc(40,"div",66),M.hc(41,"input",67),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.is_active=e}),M.gc(),M.hc(42,"label",68),M.dd(43),M.wc(44,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(45,"div",69),M.hc(46,"button",70),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(47),M.wc(48,"translate"),M.gc(),M.bd(49,Tn,5,3,"ng-container",25),M.bd(50,jn,3,4,"button",71),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ",null==c.entity.id?M.xc(5,20,"Add new"):M.xc(6,22,"Update")," ",c._title," "),M.Nb(11),M.fd("",M.xc(16,24,"Document code")," "),M.Nb(4),M.Ec("placeholder",M.xc(20,26,"Document code")),M.Dc("ngClass",null==c.entity.id?"form-control":"form-control jdisabled")("ngModel",c.entity.code)("disabled",null!=c.entity.id),M.Nb(5),M.fd("",M.xc(25,28,"Document name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(29,30,"Document name")," (",M.xc(30,32,"Vietnamese"),")"),M.Dc("ngModel",c.entity.name_l),M.Nb(5),M.Gc("placeholder","",M.xc(34,34,"Document name")," (",M.xc(35,36,"English"),")"),M.Dc("ngModel",c.entity.name_e),M.Nb(5),M.ed(M.xc(39,38,"Status")),M.Nb(3),M.Dc("ngModel",c.entity.is_active),M.Nb(2),M.ed(M.xc(44,40,c.entity.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(48,42,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSave),M.Nb(1),M.Dc("ngIf",!c.isSave)}}var zn,$n=((zn=function(){function e(t,n,c,a,r,l,o,s,d){i(this,e),this._authenService=t,this._dataService=n,this._route=c,this._notifyService=a,this._uploadService=r,this._excelService=l,this._numberFormat=o,this.modalService=s,this._utilyService=d,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this.entity={}}return r(e,[{key:"ngOnInit",value:function(){this.user=this._authenService.getLoggedInUser(),this.loadData()}},{key:"loadData",value:function(){var e=this;this._isLoading=!0,this._dataService.post("/cat-submission/getallDocuments",{page:this.pageIndex,limit:this.pageSize,filter:this._keyword,short_code:this.user.short_code}).subscribe(function(t){e._isLoading=!1,e._requestslist=t.data,e.totalRow=t.rowCount,e.totalPage=t.totalPages},function(){return e._isLoading=!1})}},{key:"_pageSizeChange",value:function(e){this.pageSize=e.target.value,this.loadData()}},{key:"pageChanged",value:function(e){this.pageIndex=e.page,this.loadData()}},{key:"removeBlank",value:function(){this.entity.code=null==this.entity.code?null:this.entity.code.replace(" ","")}},{key:"_openModal",value:function(e,t){null==t?(this.entity={},this.entity.name_l=null,this.entity.name_e=null,this.entity.is_active=!0,this.entity.short_code=this.user.short_code,this._title=""):(this.entity=t,this._title=t.code),this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChange",value:function(){var e=this;this.isSave=!0,null==this.entity.id?(this.entity.code=this.entity.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.entity={},e.entity.name_l=null,e.entity.name_e=null,e.entity.is_active=!0,e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})):this._dataService.post("/cat-submission/updateDocument",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_UPDATENO_EN:D.a.MSG_UPDATENO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"),e.modalService.dismissAll())},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"deleteItem",value:function(e){var t=this;x.a.fire({title:"en"==this.user.lang?D.a.are_you_sure_en:D.a.are_you_sure,text:"en"==this.user.lang?e.name_e:e.name_l,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?D.a.cancel_en:D.a.cancel,confirmButtonText:"en"==this.user.lang?D.a.confirmtext_en:D.a.confirmtext}).then(function(n){if(n.value){var c={};c.id=e.id,t._dataService.post("/cat-submission/deleteDocument",c).subscribe(function(e){"failed"!=e.result?(t._notifyService.showSuccess("en"==t.user.lang?D.a.MSG_DELETE_EN:D.a.MSG_DELETE,"OK"),t.loadData()):t._notifyService.showError("en"==t.user.lang?D.a.MSG_DELETENO_EN:D.a.MSG_DELETENO,"en"==t.user.lang?D.a.error_title_en:D.a.error_title)},function(){t._notifyService.showError("en"==t.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==t.user.lang?D.a.error_title_en:D.a.error_title)})}})}}]),e}()).\u0275fac=function(e){return new(e||zn)(M.bc(u.a),M.bc(d.a),M.bc(N.d),M.bc(k.a),M.bc(s.a),M.bc(o.a),M.bc(E.a),M.bc(C.s),M.bc(I.a))},zn.\u0275cmp=M.Vb({type:zn,selectors:[["app-subm-typedocument"]],decls:65,vars:51,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],["class","btn btn-sm btn-info mr-sm-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-secondary mr-sm-2","routerLink","/submissions/requests",4,"ngIf"],["class","fa fa-spinner fa-spin text-primary","style","font-size: 16pt",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"custom-select","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],["content",""],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],[1,"fa","fa-plus"],["routerLink","/submissions/requests",1,"btn","btn-sm","btn-secondary","mr-sm-2"],[1,"fa","fa-clipboard"],[1,"fa","fa-spinner","fa-spin","text-primary",2,"font-size","16pt"],["colspan","6",2,"text-align","center"],[1,"text-danger"],["src","../../../../assets/img/icon-no.svg",4,"ngIf"],["src","../../../../assets/img/icon-yes.svg",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-sm-1",3,"ngbTooltip","disabled","click"],[1,"fa","fa-pencil"],[1,"btn","btn-sm","btn-danger",3,"ngbTooltip","disabled","click"],[1,"fa","fa-trash"],["src","../../../../assets/img/icon-no.svg"],["src","../../../../assets/img/icon-yes.svg"],[1,"form","theme-form",3,"ngSubmit"],["formPG1","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-6"],[1,"form-group"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",3,"ngClass","placeholder","ngModel","disabled","ngModelChange","keyup"],[1,"col-md-12"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,t){1&e&&(M.hc(0,"div",0),M.hc(1,"div",1),M.hc(2,"div",2),M.hc(3,"div",3),M.hc(4,"div",4),M.hc(5,"div",5),M.hc(6,"div",6),M.hc(7,"div",2),M.hc(8,"div",7),M.hc(9,"div",8),M.hc(10,"input",9),M.rc("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),M.wc(11,"translate"),M.gc(),M.bd(12,In,4,3,"a",10),M.bd(13,Rn,4,3,"a",11),M.bd(14,Pn,1,0,"i",12),M.gc(),M.gc(),M.hc(15,"div",13),M.hc(16,"div",14),M.hc(17,"select",15),M.rc("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),M.hc(18,"option",16),M.dd(19,"#10"),M.gc(),M.hc(20,"option",17),M.dd(21,"#25"),M.gc(),M.hc(22,"option",18),M.dd(23,"#50"),M.gc(),M.hc(24,"option",19),M.dd(25,"#100"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(26,"div",20),M.hc(27,"div",21),M.hc(28,"table",22),M.hc(29,"thead"),M.hc(30,"th",23),M.dd(31,"#"),M.gc(),M.hc(32,"th",24),M.dd(33),M.wc(34,"translate"),M.gc(),M.hc(35,"th",24),M.dd(36),M.wc(37,"translate"),M.wc(38,"translate"),M.gc(),M.hc(39,"th",24),M.dd(40),M.wc(41,"translate"),M.wc(42,"translate"),M.gc(),M.hc(43,"th",24),M.dd(44),M.wc(45,"translate"),M.gc(),M.hc(46,"th",24),M.dd(47),M.wc(48,"translate"),M.gc(),M.gc(),M.hc(49,"tbody"),M.bd(50,Un,6,3,"ng-container",25),M.bd(51,On,20,14,"ng-container",26),M.gc(),M.gc(),M.gc(),M.hc(52,"div",27),M.hc(53,"div",28),M.hc(54,"div",29),M.hc(55,"pagination",30),M.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),M.gc(),M.gc(),M.hc(56,"div",31),M.hc(57,"a",32),M.dd(58),M.wc(59,"translate"),M.wc(60,"translate"),M.wc(61,"translate"),M.wc(62,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.bd(63,Fn,51,44,"ng-template",null,33,M.cd)),2&e&&(M.Nb(10),M.Dc("placeholder",M.xc(11,27,"Search"))("ngModel",t._keyword),M.Nb(2),M.Dc("ngIf",t._authenService.hasPermission("DEPT","read")),M.Nb(1),M.Dc("ngIf",t._authenService.hasPermission("DEPT","read")),M.Nb(1),M.Dc("ngIf",t._isLoading),M.Nb(3),M.Dc("ngModel",t.pageSize),M.Nb(16),M.fd(" ",M.xc(34,29,"Code")," "),M.Nb(3),M.gd(" ",M.xc(37,31,"Document name")," (",M.xc(38,33,"Vietnamese"),") "),M.Nb(4),M.gd(" ",M.xc(41,35,"Document name")," (",M.xc(42,37,"English"),") "),M.Nb(4),M.fd(" ",M.xc(45,39,"Status")," "),M.Nb(3),M.fd(" ",M.xc(48,41,"Actions")," "),M.Nb(3),M.Dc("ngIf",0==t._requestslist.length),M.Nb(1),M.Dc("ngForOf",t._requestslist),M.Nb(4),M.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),M.Nb(3),M.id("",M.xc(59,43,"Total of records"),": ",t.totalRow," - ",M.xc(60,45,"Page")," ",t.pageIndex," ",M.xc(61,47,"of")," ",t.totalPage," ",M.xc(62,49,"page"),""))},directives:[S.c,S.n,S.q,l.q,S.x,S.r,S.A,l.p,v.a,N.g,C.N,S.z,S.o,S.p,S.w,l.o,S.b],pipes:[R.c],styles:[""]}),zn),Bn=["attached_file1"];function qn(e,t){if(1&e){var n=M.ic();M.hc(0,"a",37),M.rc("click",function(){M.Uc(n);var e=M.vc(),t=M.Rc(68);return e._openModal(t,null)}),M.cc(1,"i",38),M.dd(2),M.wc(3,"translate"),M.gc()}2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"Add new")," "))}function Ln(e,t){1&e&&(M.hc(0,"a",39),M.cc(1,"i",40),M.dd(2),M.wc(3,"translate"),M.gc()),2&e&&(M.Nb(2),M.fd(" ",M.xc(3,1,"Submissions")," "))}function Kn(e,t){1&e&&M.cc(0,"i",41)}function Hn(e,t){1&e&&(M.fc(0),M.hc(1,"tr"),M.hc(2,"td",42),M.hc(3,"h3",43),M.dd(4),M.wc(5,"translate"),M.gc(),M.gc(),M.gc(),M.ec()),2&e&&(M.Nb(4),M.fd(" ",M.xc(5,1,"No records now!!!")," "))}function Vn(e,t){if(1&e&&(M.hc(0,"li"),M.dd(1),M.gc()),2&e){var n=t.$implicit,c=t.index,i=M.vc(2);M.Nb(1),M.gd(" ",c+1,". ","en"==i.user.lang?n.user.title_e:n.user.title_l," ")}}function Yn(e,t){1&e&&M.cc(0,"img",50)}function Wn(e,t){1&e&&M.cc(0,"img",51)}function Qn(e,t){if(1&e){var n=M.ic();M.fc(0),M.hc(1,"tr"),M.hc(2,"td",24),M.dd(3),M.gc(),M.hc(4,"td",24),M.dd(5),M.gc(),M.hc(6,"td",24),M.dd(7),M.gc(),M.hc(8,"td",24),M.dd(9),M.gc(),M.hc(10,"td",24),M.dd(11),M.gc(),M.hc(12,"td",24),M.hc(13,"ul"),M.bd(14,Vn,2,2,"li",26),M.gc(),M.gc(),M.hc(15,"td",24),M.bd(16,Yn,1,0,"img",44),M.bd(17,Wn,1,0,"img",45),M.gc(),M.hc(18,"td",24),M.hc(19,"a",46),M.rc("click",function(){M.Uc(n);var e=t.$implicit,c=M.vc(),i=M.Rc(68);return c._openModal(i,e)}),M.wc(20,"translate"),M.cc(21,"i",47),M.gc(),M.hc(22,"a",48),M.rc("click",function(){M.Uc(n);var e=t.$implicit;return M.vc().deleteItem(e)}),M.wc(23,"translate"),M.cc(24,"i",49),M.gc(),M.gc(),M.gc(),M.ec()}if(2&e){var c=t.$implicit,i=t.index,a=M.vc();M.Nb(3),M.fd(" ",i+1," "),M.Nb(2),M.fd(" ","en"==a.user.lang?a.group_name_e:c.group_name_l," "),M.Nb(2),M.fd(" ","en"==a.user.lang?a.document_name_e:c.document_name_l," "),M.Nb(2),M.fd(" ",c.code," "),M.Nb(2),M.fd(" ",c.title," "),M.Nb(3),M.Dc("ngForOf",c.handle_users.data),M.Nb(2),M.Dc("ngIf",!c.is_active),M.Nb(1),M.Dc("ngIf",c.is_active),M.Nb(2),M.Ec("ngbTooltip",M.xc(20,12,"Edit")),M.Dc("disabled","Admin"===c.name_e||!a._authenService.hasPermission("DEPT","update")),M.Nb(3),M.Ec("ngbTooltip",M.xc(23,14,"Delete")),M.Dc("disabled","Admin"===c.name_e||!a._authenService.hasPermission("DEPT","delete"))}}function Xn(e,t){if(1&e&&(M.hc(0,"option",96),M.dd(1),M.gc()),2&e){var n=t.$implicit,c=M.vc(2);M.Ec("value",n.id),M.Nb(1),M.gd(" ",n.code," - ","en"==c.user.lang?n.name_e:n.name_l," ")}}function Jn(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.ed(n.order)}}function Zn(e,t){if(1&e){var n=M.ic();M.hc(0,"input",102),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().$implicit.order=e}),M.gc()}if(2&e){var c=M.vc(),i=c.$implicit;M.Fc("name","or",c.index+1,""),M.Dc("ngModel",i.order)}}function ec(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.ed(n.user.title)}}function tc(e,t){if(1&e){var n=M.ic();M.hc(0,"nz-tree-select",103),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(3)._selectDept=e})("ngModelChange",function(){M.Uc(n);var e=M.vc().$implicit,t=M.vc(2);return t._getUser(e,t._selectDept)}),M.wc(1,"translate"),M.gc()}if(2&e){var c=M.vc(3);M.Ec("nzPlaceHolder",M.xc(1,4,"Please choose")),M.Dc("nzExpandedKeys",c.expandKeys)("nzNodes",c._departments)("ngModel",c._selectDept)}}function nc(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Only view")))}function cc(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Passed signature")))}function ic(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Reviewed signature")))}function ac(e,t){1&e&&(M.hc(0,"span"),M.dd(1),M.wc(2,"translate"),M.gc()),2&e&&(M.Nb(1),M.ed(M.xc(2,1,"Approved signature")))}function rc(e,t){if(1&e&&(M.hc(0,"span"),M.bd(1,nc,3,3,"span",25),M.bd(2,cc,3,3,"span",25),M.bd(3,ic,3,3,"span",25),M.bd(4,ac,3,3,"span",25),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.Dc("ngIf",0==n.role),M.Nb(1),M.Dc("ngIf",1==n.role),M.Nb(1),M.Dc("ngIf",2==n.role),M.Nb(1),M.Dc("ngIf",3==n.role)}}function lc(e,t){if(1&e){var n=M.ic();M.hc(0,"select",104),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().$implicit.role=e})("change",function(){M.Uc(n);var e=M.vc().$implicit,t=M.vc(2);return t._getUser(e,t._selectDept)}),M.hc(1,"option",105),M.dd(2),M.wc(3,"translate"),M.gc(),M.hc(4,"option",106),M.dd(5),M.wc(6,"translate"),M.gc(),M.hc(7,"option",107),M.dd(8),M.wc(9,"translate"),M.gc(),M.hc(10,"option",108),M.dd(11),M.wc(12,"translate"),M.gc(),M.gc()}if(2&e){var c=M.vc(),i=c.$implicit;M.Fc("name","r",c.index+1,""),M.Dc("ngModel",i.role),M.Nb(2),M.ed(M.xc(3,6,"Only view")),M.Nb(3),M.fd(" ",M.xc(6,8,"Passed signature")," "),M.Nb(3),M.fd(" ",M.xc(9,10,"Reviewed signature")," "),M.Nb(3),M.fd(" ",M.xc(12,12,"Approved signature")," ")}}function oc(e,t){if(1&e&&(M.hc(0,"span"),M.dd(1),M.gc()),2&e){var n=M.vc().$implicit;M.Nb(1),M.ed(n.time)}}function sc(e,t){if(1&e){var n=M.ic();M.hc(0,"input",109),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().$implicit.time=e}),M.gc()}if(2&e){var c=M.vc(),i=c.$implicit;M.Fc("name","timer",c.index+1,""),M.Dc("ngModel",i.time)}}function dc(e,t){if(1&e){var n=M.ic();M.hc(0,"a",110),M.rc("click",function(){M.Uc(n);var e=M.vc().$implicit;return M.vc(2)._removeItemHandle(e)}),M.cc(1,"i",49),M.gc()}}function uc(e,t){if(1&e&&(M.hc(0,"tr"),M.hc(1,"td",24),M.bd(2,Jn,2,1,"span",25),M.bd(3,Zn,1,2,"input",97),M.gc(),M.hc(4,"td",24),M.bd(5,ec,2,1,"span",25),M.bd(6,tc,2,6,"nz-tree-select",98),M.gc(),M.hc(7,"td",24),M.bd(8,rc,5,4,"span",25),M.bd(9,lc,13,14,"select",99),M.gc(),M.hc(10,"td",24),M.bd(11,oc,2,1,"span",25),M.bd(12,sc,1,2,"input",100),M.gc(),M.hc(13,"td",24),M.bd(14,dc,2,0,"a",101),M.gc(),M.gc()),2&e){var n=t.$implicit,c=M.vc(2);M.Nb(2),M.Dc("ngIf",n.flag),M.Nb(1),M.Dc("ngIf",!n.flag),M.Nb(2),M.Dc("ngIf",n.flag),M.Nb(1),M.Dc("ngIf",!n.flag),M.Nb(2),M.Dc("ngIf",n.flag),M.Nb(1),M.Dc("ngIf",!n.flag),M.Nb(2),M.Dc("ngIf",n.flag),M.Nb(1),M.Dc("ngIf",!n.flag),M.Nb(2),M.Dc("ngIf",!c.entity.flag_block)}}function gc(e,t){if(1&e){var n=M.ic();M.hc(0,"tfoot"),M.hc(1,"tr"),M.cc(2,"td",111),M.hc(3,"td",24),M.hc(4,"a",112),M.rc("click",function(){return M.Uc(n),M.vc(2)._addItemHandle(null)}),M.cc(5,"i",38),M.gc(),M.gc(),M.gc(),M.gc()}}function hc(e,t){if(1&e){var n=M.ic();M.hc(0,"ck-editor",113,114),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc(2).entity.description=e}),M.gc()}if(2&e){var c=M.vc(2);M.Dc("ngModel",c.entity.description)("fullPage",!0)("config",c.ckEditorConfig)}}function fc(e,t){if(1&e&&M.cc(0,"p",115),2&e){var n=M.vc(2);M.Dc("innerHtml",n._detailContent,M.Vc)}}function bc(e,t){if(1&e){var n=M.ic();M.hc(0,"a",56),M.rc("click",function(){M.Uc(n);var e=M.vc(3);return e.removeFile(e.entity)}),M.cc(1,"i",49),M.gc()}}function vc(e,t){if(1&e){var n=M.ic();M.fc(0),M.dd(1,"| "),M.hc(2,"a",116),M.rc("click",function(){M.Uc(n);var e=M.vc(2);return e._downloadFileResult(e.entity.attached_file)}),M.dd(3),M.wc(4,"translate"),M.gc(),M.bd(5,bc,2,0,"a",117),M.ec()}if(2&e){var c=M.vc(2);M.Nb(3),M.ed(M.xc(4,2,"Download attachment")),M.Nb(2),M.Dc("ngIf",!c.entity.flag_block)}}function pc(e,t){1&e&&(M.fc(0),M.hc(1,"a",118),M.cc(2,"img",119),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function _c(e,t){if(1&e&&(M.hc(0,"button",120),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function mc(e,t){if(1&e){var n=M.ic();M.hc(0,"form",52,53),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChange()}),M.hc(2,"div",54),M.hc(3,"h4",55),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.wc(7,"translate"),M.hc(8,"a",56),M.rc("click",function(){M.Uc(n);var e=M.vc();return e.entity.flag_block=!e.entity.flag_block}),M.cc(9,"i",57),M.gc(),M.gc(),M.hc(10,"button",58),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(11,"span",59),M.dd(12,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(13,"div",60),M.hc(14,"div",61),M.hc(15,"div",62),M.hc(16,"label",63),M.dd(17),M.wc(18,"translate"),M.hc(19,"span",43),M.dd(20,"(*)"),M.gc(),M.dd(21," - "),M.hc(22,"a",64),M.rc("click",function(){M.Uc(n);var e=M.vc(),t=M.Rc(70);return e._popupCategory(t,null)}),M.cc(23,"i",38),M.gc(),M.gc(),M.hc(24,"select",65),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.profile_group_id=e}),M.hc(25,"option",66),M.dd(26),M.wc(27,"translate"),M.gc(),M.bd(28,Xn,2,3,"option",67),M.gc(),M.gc(),M.hc(29,"div",62),M.hc(30,"label",68),M.dd(31),M.wc(32,"translate"),M.hc(33,"span",43),M.dd(34,"(*)"),M.gc(),M.gc(),M.hc(35,"input",69),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.code=e})("keyup",function(){return M.Uc(n),M.vc().removeBlankTypeProfile()}),M.gc(),M.gc(),M.hc(36,"div",62),M.hc(37,"label",70),M.dd(38),M.wc(39,"translate"),M.hc(40,"span",43),M.dd(41,"(*)"),M.gc(),M.gc(),M.hc(42,"input",71),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.title=e}),M.gc(),M.gc(),M.hc(43,"div",62),M.hc(44,"label",72),M.dd(45),M.wc(46,"translate"),M.hc(47,"span",43),M.dd(48,"(*)"),M.gc(),M.dd(49," - "),M.hc(50,"a",64),M.rc("click",function(){M.Uc(n);var e=M.vc(),t=M.Rc(72);return e._popupCategory1(t,null)}),M.cc(51,"i",38),M.gc(),M.gc(),M.hc(52,"ng-select",73),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.document_id=e}),M.wc(53,"translate"),M.wc(54,"translate"),M.gc(),M.gc(),M.hc(55,"div",74),M.hc(56,"label",75),M.dd(57),M.wc(58,"translate"),M.hc(59,"span",43),M.dd(60,"(*)"),M.gc(),M.gc(),M.hc(61,"div",21),M.hc(62,"table",76),M.hc(63,"thead"),M.hc(64,"th",24),M.dd(65),M.wc(66,"translate"),M.gc(),M.hc(67,"th",24),M.dd(68),M.wc(69,"translate"),M.hc(70,"a",64),M.rc("click",function(){M.Uc(n);var e=M.vc(),t=M.Rc(74);return e._popupDepartment(t,null)}),M.cc(71,"i",38),M.gc(),M.gc(),M.hc(72,"th",24),M.dd(73),M.wc(74,"translate"),M.gc(),M.hc(75,"th",24),M.dd(76),M.wc(77,"translate"),M.wc(78,"translate"),M.gc(),M.hc(79,"th",24),M.dd(80),M.wc(81,"translate"),M.gc(),M.gc(),M.hc(82,"tbody"),M.bd(83,uc,15,9,"tr",26),M.gc(),M.bd(84,gc,6,0,"tfoot",25),M.gc(),M.gc(),M.gc(),M.hc(85,"div",74),M.hc(86,"label",77),M.dd(87),M.wc(88,"translate"),M.gc(),M.bd(89,hc,2,3,"ck-editor",78),M.bd(90,fc,1,1,"p",79),M.gc(),M.hc(91,"div",80),M.hc(92,"label",81),M.dd(93),M.wc(94,"translate"),M.gc(),M.hc(95,"div",82),M.hc(96,"input",83),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.is_active=e}),M.gc(),M.hc(97,"label",84),M.dd(98),M.wc(99,"translate"),M.gc(),M.gc(),M.gc(),M.hc(100,"div",85),M.hc(101,"label",86),M.dd(102),M.wc(103,"translate"),M.gc(),M.hc(104,"input",87),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entity.estimated_cost=e}),M.gc(),M.gc(),M.hc(105,"div",88),M.hc(106,"label",89),M.dd(107),M.wc(108,"translate"),M.bd(109,vc,6,4,"ng-container",25),M.gc(),M.hc(110,"input",90,91),M.rc("change",function(e){M.Uc(n);var t=M.Rc(111);return M.vc().fileEvent1(e,t)}),M.gc(),M.hc(112,"input",92),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entityUpload1.fileUpload=e}),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(113,"div",93),M.hc(114,"button",94),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(115),M.wc(116,"translate"),M.gc(),M.bd(117,pc,5,3,"ng-container",25),M.bd(118,_c,3,4,"button",95),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ","ADD"==c._flagModal?M.xc(5,54,"Add new"):M.xc(6,56,"Update")," ",M.xc(7,58,c._title)," "),M.Nb(5),M.Dc("ngClass",c.entity.flag_block?"fa fa-lock":"fa fa-unlock-alt"),M.Nb(8),M.fd("",M.xc(18,60,"Profile group")," "),M.Nb(7),M.Dc("ngModel",c.entity.profile_group_id)("disabled",!!c.entity.flag_block),M.Nb(2),M.ed(M.xc(27,62,"Please choose")),M.Nb(2),M.Dc("ngForOf",c._catprofiles),M.Nb(3),M.fd("",M.xc(32,64,"Profile code")," "),M.Nb(4),M.Dc("ngClass",c.entity.flag_block?"form-control jdisabled":"form-control")("ngModel",c.entity.code)("disabled",!!c.entity.flag_block),M.Nb(3),M.fd("",M.xc(39,66,"Profile name")," "),M.Nb(4),M.Dc("ngClass",c.entity.flag_block?"form-control jdisabled":"form-control")("ngModel",c.entity.title)("disabled",!!c.entity.flag_block),M.Nb(3),M.fd("",M.xc(46,68,"Type of document")," "),M.Nb(7),M.Dc("items",c._catdocuments)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("bindLabel","en"==c.user.lang?"name_e":"name_l")("ngModel",c.entity.document_id)("placeholder",M.xc(53,70,"Please choose"))("notFoundText",M.xc(54,72,"Not found item"))("disabled",!!c.entity.flag_block),M.Nb(5),M.fd("",M.xc(58,74,"Configure handling users")," "),M.Nb(8),M.fd(" ",M.xc(66,76,"Processing no.")," "),M.Nb(3),M.fd(" ",M.xc(69,78,"Manager Unit")," - "),M.Nb(5),M.ed(M.xc(74,80,"Roles")),M.Nb(3),M.gd(" ",M.xc(77,82,"Time")," (",M.xc(78,84,"hours"),") "),M.Nb(4),M.ed(M.xc(81,86,"Actions")),M.Nb(3),M.Dc("ngForOf",c.entity.handle_users.data),M.Nb(1),M.Dc("ngIf",!c.entity.flag_block),M.Nb(3),M.ed(M.xc(88,88,"Description")),M.Nb(2),M.Dc("ngIf",!c.entity.flag_block),M.Nb(1),M.Dc("ngIf",c.entity.flag_block),M.Nb(3),M.ed(M.xc(94,90,"Status")),M.Nb(3),M.Dc("ngModel",c.entity.is_active)("disabled",!!c.entity.flag_block),M.Nb(2),M.ed(M.xc(99,92,c.entity.is_active?"activated":"not activated")),M.Nb(4),M.fd("",M.xc(103,94,"Estimated cost")," (VND)"),M.Nb(2),M.Dc("ngClass",c.entity.flag_block?"form-control jdisabled":"form-control")("ngModel",c.entity.estimated_cost)("disabled",!!c.entity.flag_block),M.Nb(3),M.fd("",M.xc(108,96,"Attachment (if any)")," (.doc,.docx,.pdf) "),M.Nb(2),M.Dc("ngIf",null!=c.entity.attached_file),M.Nb(1),M.Dc("ngClass",c.entity.flag_block?"form-control jdisabled":"form-control")("disabled",!!c.entity.flag_block),M.Nb(2),M.Dc("ngModel",c.entityUpload1.fileUpload),M.Nb(3),M.fd(" ",M.xc(116,98,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSaveSub),M.Nb(1),M.Dc("ngIf",!c.isSaveSub&&!c.entity.flag_block)}}function yc(e,t){1&e&&(M.fc(0),M.hc(1,"a",118),M.cc(2,"img",119),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function Sc(e,t){if(1&e&&(M.hc(0,"button",120),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function Nc(e,t){if(1&e){var n=M.ic();M.hc(0,"form",52,121),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChangeProfileGroup()}),M.hc(2,"div",54),M.hc(3,"h4",55),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.wc(7,"translate"),M.gc(),M.hc(8,"button",58),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(9,"span",59),M.dd(10,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(11,"div",122),M.hc(12,"div",61),M.hc(13,"div",88),M.hc(14,"div",123),M.hc(15,"label",124),M.dd(16),M.wc(17,"translate"),M.hc(18,"span",43),M.dd(19,"(*)"),M.gc(),M.gc(),M.hc(20,"input",125),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.code=e})("keyup",function(){return M.Uc(n),M.vc().removeBlank()}),M.wc(21,"translate"),M.gc(),M.gc(),M.gc(),M.hc(22,"div",74),M.hc(23,"div",123),M.hc(24,"label",126),M.dd(25),M.wc(26,"translate"),M.hc(27,"span",43),M.dd(28,"(*)"),M.gc(),M.gc(),M.hc(29,"input",127),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.name_l=e}),M.wc(30,"translate"),M.wc(31,"translate"),M.gc(),M.gc(),M.gc(),M.hc(32,"div",74),M.hc(33,"div",123),M.hc(34,"input",128),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.name_e=e}),M.wc(35,"translate"),M.wc(36,"translate"),M.gc(),M.gc(),M.gc(),M.hc(37,"div",88),M.hc(38,"label",129),M.dd(39),M.wc(40,"translate"),M.gc(),M.hc(41,"div",82),M.hc(42,"input",130),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.is_active=e}),M.gc(),M.hc(43,"label",131),M.dd(44),M.wc(45,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(46,"div",93),M.hc(47,"button",94),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(48),M.wc(49,"translate"),M.gc(),M.bd(50,yc,5,3,"ng-container",25),M.bd(51,Sc,3,4,"button",95),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ",null==c.entitySub.id?M.xc(5,18,"Add new"):M.xc(6,20,"Update")," ",M.xc(7,22,"Profile group")," "),M.Nb(12),M.fd("",M.xc(17,24,"Profile code")," "),M.Nb(4),M.Ec("placeholder",M.xc(21,26,"Profile code")),M.Dc("ngModel",c.entitySub.code),M.Nb(5),M.fd("",M.xc(26,28,"Group name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(30,30,"Group name")," (",M.xc(31,32,"Vietnamese"),")"),M.Dc("ngModel",c.entitySub.name_l),M.Nb(5),M.Gc("placeholder","",M.xc(35,34,"Group name")," (",M.xc(36,36,"English"),")"),M.Dc("ngModel",c.entitySub.name_e),M.Nb(5),M.ed(M.xc(40,38,"Status")),M.Nb(3),M.Dc("ngModel",c.entitySub.is_active),M.Nb(2),M.ed(M.xc(45,40,c.entitySub.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(49,42,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSaveSub),M.Nb(1),M.Dc("ngIf",!c.isSaveSub)}}function Dc(e,t){1&e&&(M.fc(0),M.hc(1,"a",118),M.cc(2,"img",119),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function wc(e,t){if(1&e&&(M.hc(0,"button",120),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function xc(e,t){if(1&e){var n=M.ic();M.hc(0,"form",52,132),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChangeProfileGroup1()}),M.hc(2,"div",54),M.hc(3,"h4",55),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.wc(7,"translate"),M.gc(),M.hc(8,"button",58),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(9,"span",59),M.dd(10,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(11,"div",122),M.hc(12,"div",61),M.hc(13,"div",88),M.hc(14,"div",123),M.hc(15,"label",133),M.dd(16),M.wc(17,"translate"),M.hc(18,"span",43),M.dd(19,"(*)"),M.gc(),M.gc(),M.hc(20,"input",134),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.code=e})("keyup",function(){return M.Uc(n),M.vc().removeBlank()}),M.wc(21,"translate"),M.gc(),M.gc(),M.gc(),M.hc(22,"div",74),M.hc(23,"div",123),M.hc(24,"label",135),M.dd(25),M.wc(26,"translate"),M.hc(27,"span",43),M.dd(28,"(*)"),M.gc(),M.gc(),M.hc(29,"input",136),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.name_l=e}),M.wc(30,"translate"),M.wc(31,"translate"),M.gc(),M.gc(),M.gc(),M.hc(32,"div",74),M.hc(33,"div",123),M.hc(34,"input",137),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.name_e=e}),M.wc(35,"translate"),M.wc(36,"translate"),M.gc(),M.gc(),M.gc(),M.hc(37,"div",88),M.hc(38,"label",138),M.dd(39),M.wc(40,"translate"),M.gc(),M.hc(41,"div",82),M.hc(42,"input",139),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.is_active=e}),M.gc(),M.hc(43,"label",140),M.dd(44),M.wc(45,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(46,"div",93),M.hc(47,"button",94),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(48),M.wc(49,"translate"),M.gc(),M.bd(50,Dc,5,3,"ng-container",25),M.bd(51,wc,3,4,"button",95),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ",null==c.entitySub.id?M.xc(5,18,"Add new"):M.xc(6,20,"Update")," ",M.xc(7,22,"Type of document")," "),M.Nb(12),M.fd("",M.xc(17,24,"Document code")," "),M.Nb(4),M.Ec("placeholder",M.xc(21,26,"Document code")),M.Dc("ngModel",c.entitySub.code),M.Nb(5),M.fd("",M.xc(26,28,"Document name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(30,30,"Document name")," (",M.xc(31,32,"Vietnamese"),")"),M.Dc("ngModel",c.entitySub.name_l),M.Nb(5),M.Gc("placeholder","",M.xc(35,34,"Document name")," (",M.xc(36,36,"English"),")"),M.Dc("ngModel",c.entitySub.name_e),M.Nb(5),M.ed(M.xc(40,38,"Status")),M.Nb(3),M.Dc("ngModel",c.entitySub.is_active),M.Nb(2),M.ed(M.xc(45,40,c.entitySub.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(49,42,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSaveSub),M.Nb(1),M.Dc("ngIf",!c.isSaveSub)}}function Mc(e,t){1&e&&(M.fc(0),M.hc(1,"a",118),M.cc(2,"img",119),M.dd(3),M.wc(4,"translate"),M.gc(),M.ec()),2&e&&(M.Nb(3),M.fd(" ",M.xc(4,1,"Processing")," "))}function kc(e,t){if(1&e&&(M.hc(0,"button",120),M.dd(1),M.wc(2,"translate"),M.gc()),2&e){M.vc();var n=M.Rc(1);M.Dc("disabled",!n.valid),M.Nb(1),M.fd(" ",M.xc(2,2,"Save")," ")}}function Ec(e,t){if(1&e){var n=M.ic();M.hc(0,"form",52,141),M.rc("ngSubmit",function(){return M.Uc(n),M.vc().saveChangeDepartment()}),M.hc(2,"div",54),M.hc(3,"h4",55),M.dd(4),M.wc(5,"translate"),M.wc(6,"translate"),M.gc(),M.hc(7,"button",58),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.hc(8,"span",59),M.dd(9,"\xd7"),M.gc(),M.gc(),M.gc(),M.hc(10,"div",122),M.hc(11,"div",61),M.hc(12,"div",74),M.hc(13,"div",123),M.hc(14,"label",142),M.dd(15),M.wc(16,"translate"),M.hc(17,"span",43),M.dd(18,"(*)"),M.gc(),M.gc(),M.hc(19,"input",143),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.dept_name_l=e}),M.wc(20,"translate"),M.wc(21,"translate"),M.gc(),M.gc(),M.gc(),M.hc(22,"div",74),M.hc(23,"div",123),M.hc(24,"input",144),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.dept_name_e=e}),M.wc(25,"translate"),M.wc(26,"translate"),M.gc(),M.gc(),M.gc(),M.hc(27,"div",88),M.hc(28,"label",145),M.dd(29),M.wc(30,"translate"),M.gc(),M.hc(31,"div",82),M.hc(32,"input",146),M.rc("ngModelChange",function(e){return M.Uc(n),M.vc().entitySub.is_active=e}),M.gc(),M.hc(33,"label",147),M.dd(34),M.wc(35,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(36,"div",93),M.hc(37,"button",94),M.rc("click",function(){return t.$implicit.dismiss("Cross click")}),M.dd(38),M.wc(39,"translate"),M.gc(),M.bd(40,Mc,5,3,"ng-container",25),M.bd(41,kc,3,4,"button",95),M.gc(),M.gc()}if(2&e){var c=M.vc();M.Nb(4),M.gd(" ",M.xc(5,15,"Add new")," ",M.xc(6,17,"Department")," "),M.Nb(11),M.fd("",M.xc(16,19,"Name")," "),M.Nb(4),M.Gc("placeholder","",M.xc(20,21,"Name")," (",M.xc(21,23,"Vietnamese"),")"),M.Dc("ngModel",c.entitySub.dept_name_l),M.Nb(5),M.Gc("placeholder","",M.xc(25,25,"Name")," (",M.xc(26,27,"English"),")"),M.Dc("ngModel",c.entitySub.dept_name_e),M.Nb(5),M.ed(M.xc(30,29,"Status")),M.Nb(3),M.Dc("ngModel",c.entitySub.is_active),M.Nb(2),M.ed(M.xc(35,31,c.entitySub.is_active?"activated":"not activated")),M.Nb(4),M.fd(" ",M.xc(39,33,"Close")," "),M.Nb(2),M.Dc("ngIf",c.isSaveSub),M.Nb(1),M.Dc("ngIf",!c.isSaveSub)}}var Cc,Ic,Rc,Pc=[{path:"",children:[{path:"requests",component:Cn,data:{title:"Requests",breadcrumb:"Requests"}},{path:"type-of-profile",component:(Cc=function(){function e(t,n,c,a,r,l,o,s,d,u){i(this,e),this._authenService=t,this._dataService=n,this._route=c,this._notifyService=a,this._uploadService=r,this._excelService=l,this._numberFormat=o,this.modalService=s,this._utilyService=d,this.sanitizer=u,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this.entity={},this._flagModal="ADD",this.jfile=null,this.entityUpload1={},this.formData=new FormData,this._catprofiles=[],this._catdocuments=[],this.entitySub={},this.isSaveSub=!1,this._departments=[],this.expandKeys=[],this._selectDept=null,this._getusers=[]}return r(e,[{key:"ngOnInit",value:function(){this.user=this._authenService.getLoggedInUser(),this.loadData(),this.loadCatProfileNP(),this.loadCatDocNP(),this.loadDeptNP()}},{key:"loadData",value:function(){var e=this;this._isLoading=!0,this._dataService.post("/cat-submission/getallMainProfile",{page:this.pageIndex,limit:this.pageSize,filter:this._keyword,short_code:this.user.short_code}).subscribe(function(t){console.log(t),e._isLoading=!1,e._requestslist=t.data,e.totalRow=t.rowCount,e.totalPage=t.totalPages},function(){return e._isLoading=!1})}},{key:"_pageSizeChange",value:function(e){this.pageSize=e.target.value,this.loadData()}},{key:"pageChanged",value:function(e){this.pageIndex=e.page,this.loadData()}},{key:"removeBlankTypeProfile",value:function(){this.entity.code=null==this.entity.code?null:this.entity.code.replace(" ","")}},{key:"loadCatProfileNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallProfileNP",{short_code:this.user.short_code}).subscribe(function(t){e._catprofiles=t.data})}},{key:"loadCatDocNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallDocumentsNP",{short_code:this.user.short_code}).subscribe(function(t){e._catdocuments=t.data})}},{key:"_openModal",value:function(e,t){null==t?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.profile_group_id=null,this.entity.code=null,this.entity.title=null,this.entity.document_id=null,this.entity.description=null,this.entity.handle_users={data:[]},this.entity.estimated_cost=null,this.entity.attached_file=null,this.entity.is_active=!0,this.jfile=null,this._title=""):(this._flagModal="UPDATE",this.entity.handle_users={data:[]},this.loadDetailById(t.id)),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}},{key:"loadDetailById",value:function(e){var n=this;this._dataService.post("/cat-submission/detail",{id:e}).subscribe(function(e){n.entity=e.data,n._title=e.data.code;var c,i=t(n.entity.handle_users.data);try{for(i.s();!(c=i.n()).done;)c.value.flag=!0}catch(l){i.e(l)}finally{i.f()}if(n._detailContent=null==e.data.description?"":n.sanitizer.bypassSecurityTrustHtml(e.data.description),n.entity.flag_block){var a=window.CKEDITOR;if(a.instances)for(var r in a.instances)a.instances[r].destroy()}})}},{key:"fileEvent1",value:function(e,t){var n=e.target.files[0];if(void 0===n||void 0===n.name)this.attached_file1=null,this.entityUpload1.fileUpload=null,this._notifyService.showError("en"==this.user.lang?D.a.recheck_file_en:D.a.recheck_file,"en"==this.user.lang?D.a.error_title_en:D.a.error_title);else{this.attached_file1=n.name;var c=this.attached_file1.split(".").pop();"doc"===c||"docx"===c||"pdf"===c?this.jfile=e.target:(this._notifyService.showError("en"==this.user.lang?D.a.format_incorrect_en:D.a.format_incorrect,"en"==this.user.lang?D.a.error_title_en:D.a.error_title),this.attached_file1=null,this.entityUpload1.fileUpload=null,t.value="")}}},{key:"_processUpload1",value:function(e,t){var n=this;if(null==e)this._notifyService.showError("en"==this.user.lang?D.a.recheck_file_en:D.a.recheck_file,"en"==this.user.lang?D.a.error_title_en:D.a.error_title);else{var c={folder_name:"submissions"};c.id=t.id,this._uploadService.uploadFile("/services/uploads/"+c.id+"/"+c.folder_name,e.files).subscribe(function(e){n._updateProfileById(t.id,e.data)})}}},{key:"_updateProfileById",value:function(e,t){var n=this,c={};c.id=e,c.pathFile=t,this._dataService.post("/cat-submission/updateProfileById",c).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==n.user.lang?D.a.error_title_en:D.a.error_title):("ADD"==n._flagModal?(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.profile_group_id=null,n.entity.code=null,n.entity.title=null,n.entity.document_id=null,n.entity.description=null,n.entity.handle_users={data:[]},n.entity.estimated_cost=null,n.entity.attached_file=null,n.entity.is_active=!0,n.jfile=null,n._title=""):n.modalService.dismissAll(),n.loadData(),n._notifyService.showSuccess("en"==n.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==n.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"saveChange",value:function(){var e=this;this.isSave=!0,console.log(this.entity),0!=this.entity.handle_users.data.length?"ADD"==this._flagModal?null==this.attached_file1?this._dataService.post("/cat-submission/add",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e._flagModal="ADD",e.entity={},e.entity.id=null,e.entity.profile_group_id=null,e.entity.code=null,e.entity.title=null,e.entity.document_id=null,e.entity.description=null,e.entity.handle_users={data:[]},e.entity.estimated_cost=null,e.entity.attached_file=null,e.entity.is_active=!0,e.jfile=null,e._title="",e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)}):this._dataService.post("/cat-submission/add",this.entity).subscribe(function(t){"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):e._processUpload1(e.jfile,t.data)},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)}):null==this.attached_file1?(console.log("No file",this.entity),this.entity.attached_file=null,this._dataService.post("/cat-submission/update",this.entity).subscribe(function(t){console.log(t),e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.modalService.dismissAll(),e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})):this._dataService.post("/cat-submission/update",this.entity).subscribe(function(t){"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):e._processUpload1(e.jfile,t.data)},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)}):this._notifyService.showError("en"==this.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==this.user.lang?D.a.error_title_en:D.a.error_title)}},{key:"deleteItem",value:function(e){var t=this;x.a.fire({title:"en"==this.user.lang?D.a.are_you_sure_en:D.a.are_you_sure,text:e.code,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?D.a.cancel_en:D.a.cancel,confirmButtonText:"en"==this.user.lang?D.a.confirmtext_en:D.a.confirmtext}).then(function(n){if(n.value){var c={};c.id=e.id,t._dataService.post("/cat-submission/delete",c).subscribe(function(e){"failed"!=e.result?(t._notifyService.showSuccess("en"==t.user.lang?D.a.MSG_DELETE_EN:D.a.MSG_DELETE,"OK"),t.loadData()):t._notifyService.showError("en"==t.user.lang?D.a.MSG_DELETENO_EN:D.a.MSG_DELETENO,"en"==t.user.lang?D.a.error_title_en:D.a.error_title)},function(){t._notifyService.showError("en"==t.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==t.user.lang?D.a.error_title_en:D.a.error_title)})}})}},{key:"_addItemHandle",value:function(e){if(this.loadDeptNP(),this._selectDept="all",null==e)if(0==this.entity.handle_users.data.length)this.entity.handle_users.data.push({id:1,order:1,user:null,role:null,time:1,flag:!1});else{var n,c=0,i=t(this.entity.handle_users.data);try{for(i.s();!(n=i.n()).done;){var a=n.value;null==a.user?(a.user={title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"},null==a.role&&(c+=1)):null==a.role&&(c+=1)}}catch(o){i.e(o)}finally{i.f()}if(0!=c)return void this._notifyService.showWarning("e"==this.user.lang?D.a.MSG_ERROR_EMPTY_EN:D.a.MSG_ERROR_EMPTY,"e"==this.user.lang?D.a.error_title_en:D.a.error_title);var r,l=t(this.entity.handle_users.data.filter(function(e){return!e.flag}));try{for(l.s();!(r=l.n()).done;)r.value.flag=!0}catch(o){l.e(o)}finally{l.f()}0==this.entity.handle_users.data.filter(function(e){return!e.flag}).length&&this.entity.handle_users.data.push({id:this.entity.handle_users.data.length+1,order:1,user:null,role:null,time:1,flag:!1})}}},{key:"_removeItemHandle",value:function(e){var n,c=[],i=1,a=t(this.entity.handle_users.data.filter(function(t){return t.id!=e.id}));try{for(a.s();!(n=a.n()).done;){var r=n.value;c.push({id:i,order:r.order,user:r.user,role:r.role,time:r.time,flag:r.flag}),i+=1}}catch(l){a.e(l)}finally{a.f()}this.entity.handle_users.data=c}},{key:"_getUser",value:function(e,n){if(null!=n&&null!=e.role){var c,i=t(this.entity.handle_users.data);try{for(i.s();!(c=i.n()).done;){var a=c.value;a.id==e.id&&(a.user="all"!=n?{title:this._departments.filter(function(e){return e.key==n})[0].title,key:this._departments.filter(function(e){return e.key==n})[0].key,value:this._departments.filter(function(e){return e.key==n})[0].value}:{title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"})}}catch(r){i.e(r)}finally{i.f()}}else this._notifyService.showWarning("e"==this.user.lang?D.a.MSG_ERROR_EMPTY_EN:D.a.MSG_ERROR_EMPTY,"e"==this.user.lang?D.a.error_title_en:D.a.error_title)}},{key:"removeBlank",value:function(){this.entitySub.code=null==this.entitySub.code?null:this.entitySub.code.replace(" ","")}},{key:"_popupCategory",value:function(e,t){this.entitySub={},this.entitySub.name_l=null,this.entitySub.name_e=null,this.entitySub.is_active=!0,this.entitySub.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeProfileGroup",value:function(){var e=this;this.isSaveSub=!0,this.entitySub.code=this.entitySub.code.toUpperCase(),console.log(this.entitySub),this._dataService.post("/cat-submission/addProfile",this.entitySub).subscribe(function(t){e.isSaveSub=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.entitySub={},e.entitySub.name_l=null,e.entitySub.name_e=null,e.entitySub.is_active=!0,e.loadCatProfileNP(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"_popupCategory1",value:function(e,t){this.entitySub={},this.entitySub.name_l=null,this.entitySub.name_e=null,this.entitySub.is_active=!0,this.entitySub.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeProfileGroup1",value:function(){var e=this;this.isSaveSub=!0,this.entitySub.code=this.entitySub.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entitySub).subscribe(function(t){e.isSaveSub=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.entitySub={},e.entitySub.name_l=null,e.entitySub.name_e=null,e.entitySub.is_active=!0,e.loadCatDocNP(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"_popupDepartment",value:function(e,t){this.entitySub={},this.entitySub.dept_name_l=null,this.entitySub.dept_name_e=null,this.entitySub.is_active=!0,this.entitySub.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeDepartment",value:function(){var e=this;this.isSaveSub=!0,this._dataService.post("/dept/add",this.entitySub).subscribe(function(t){e.isSaveSub=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?D.a.MSG_ADDNO_EN:D.a.MSG_ADDNO,"en"==e.user.lang?D.a.error_title_en:D.a.error_title):(e.entitySub={},e.entitySub.dept_name_l=null,e.entitySub.dept_name_e=null,e.entitySub.is_active=!0,e.entitySub.short_code=e.user.short_code,e.loadDeptNP(),e._notifyService.showSuccess("en"==e.user.lang?D.a.MSG_ADD_EN:D.a.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?D.a.MSG_ERROR_EN:D.a.MSG_ERROR,"en"==e.user.lang?D.a.error_title_en:D.a.error_title)})}},{key:"loadDeptNP",value:function(){var e=this,n={};n.short_code=this.user.short_code,this._dataService.post("/dept/getallnopaging",n).subscribe(function(n){var c=[];c.push({key:"all",title:"en"==e.user.lang?"All":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",is_active:!1,parent_id:null,value:"all"});var i,a=t(n.data);try{for(a.s();!(i=a.n()).done;){var r=i.value;c.push({key:r.id,title:"en"==e.user.lang?r.dept_name_e:r.dept_name_l,parent_id:r.parent_id,value:r.id})}}catch(o){a.e(o)}finally{a.f()}var l=e._utilyService.UnflattenFunc(c);e._departments=l})}},{key:"_downloadFileResult",value:function(e){window.open(H.a.BASE_API+"/"+e,"blank")}},{key:"removeFile",value:function(e){var t=this;this._dataService.post("/cat-submission/deleteProfileFile",{id:e.id,path:e.attached_file}).subscribe(function(n){t.loadDetailById(e.id)})}}]),e}(),Cc.\u0275fac=function(e){return new(e||Cc)(M.bc(u.a),M.bc(d.a),M.bc(N.d),M.bc(k.a),M.bc(s.a),M.bc(o.a),M.bc(E.a),M.bc(C.s),M.bc(I.a),M.bc(X.b))},Cc.\u0275cmp=M.Vb({type:Cc,selectors:[["app-subm-typeprofile"]],viewQuery:function(e,t){var n;1&e&&M.jd(Bn,1),2&e&&M.Qc(n=M.sc())&&(t.attached_file1=n.first)},decls:75,vars:51,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],["class","btn btn-sm btn-info mr-sm-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-secondary mr-sm-2","routerLink","/submissions/requests",4,"ngIf"],["class","fa fa-spinner fa-spin text-primary","style","font-size: 16pt",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"custom-select","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],["content",""],["categoryModal",""],["categoryModal1",""],["deptModal",""],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],[1,"fa","fa-plus"],["routerLink","/submissions/requests",1,"btn","btn-sm","btn-secondary","mr-sm-2"],[1,"fa","fa-clipboard"],[1,"fa","fa-spinner","fa-spin","text-primary",2,"font-size","16pt"],["colspan","8",2,"text-align","center"],[1,"text-danger"],["src","../../../../assets/img/icon-no.svg",4,"ngIf"],["src","../../../../assets/img/icon-yes.svg",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-sm-1",3,"ngbTooltip","disabled","click"],[1,"fa","fa-pencil"],[1,"btn","btn-sm","btn-danger",3,"ngbTooltip","disabled","click"],[1,"fa","fa-trash"],["src","../../../../assets/img/icon-no.svg"],["src","../../../../assets/img/icon-yes.svg"],[1,"form","theme-form",3,"ngSubmit"],["f","ngForm"],[1,"modal-header"],[1,"modal-title"],["href","javascript:;",1,"text-danger",3,"click"],[3,"ngClass"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"form-group","row"],[1,"col-md-3"],["for","profile_group",1,"jbold"],["href","javascript:;",1,"btn","btn-outline-info","btn-pill","btn-xs",3,"click"],["id","profile_group","name","profile_group","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","profile_code",1,"jbold"],["type","text","id","profile_code","name","profile_code","required","","autocomplete","off",3,"ngClass","ngModel","disabled","ngModelChange","keyup"],["for","profile_name",1,"jbold"],["type","text","id","profile_name","name","profile_name","required","","autocomplete","off",3,"ngClass","ngModel","disabled","ngModelChange"],["for","type_document",1,"jbold"],["name","type_document","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","disabled","ngModelChange"],[1,"col-md-12"],["for","handling_users",1,"jbold"],[1,"table"],["for","desc",1,"jbold"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange",4,"ngIf"],[3,"innerHtml",4,"ngIf"],[1,"col-md-2"],["for","Status11",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","Status11","type","checkbox","name","Status11",3,"ngModel","disabled","ngModelChange"],["for","Status11"],[1,"col-md-4"],["for","estimated_cost1",1,"jbold"],["id","estimated_cost1","name","estimated_cost1","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",3,"ngClass","ngModel","disabled","ngModelChange"],[1,"col-md-6"],["for","attached_file1",1,"jbold"],["name","attached_file1","type","file","id","attached_file1",3,"ngClass","disabled","change"],["attached_file1",""],["type","hidden","name","attached_file11","accept",".pdf,.doc,.docx",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[3,"value"],["type","number","class","form-control","required","","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["style","width: 100%","nzShowSearch","",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange",4,"ngIf"],["class","form-control","required","",3,"name","ngModel","ngModelChange","change",4,"ngIf"],["type","number","class","form-control","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["href","javascript:;","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["type","number","required","","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["nzShowSearch","",2,"width","100%",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange"],["required","",1,"form-control",3,"name","ngModel","ngModelChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["type","number","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["href","javascript:;",1,"btn","btn-sm","btn-danger",3,"click"],["colspan","4",1,"text-truncate"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange"],["ckeEditor1",""],[3,"innerHtml"],["href","javascript:;",1,"mr-sm-2",3,"click"],["href","javascript:;","class","text-danger",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","submit",1,"btn","btn-primary",3,"disabled"],["formPG","ngForm"],[1,"modal-body"],[1,"form-group"],["for","CodePG",1,"jbold"],["type","text","id","CodePG","name","CodePG","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name1",1,"jbold"],["type","text","id","Name1","name","Name1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name1a","name","Name1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG",1,"jbold"],["id","StatusPG","type","checkbox","name","StatusPG",3,"ngModel","ngModelChange"],["for","StatusPG"],["formPG1","ngForm"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],["formDept","ngForm"],["for","Department1",1,"jbold"],["type","text","id","Department1","name","Department1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Department1a","name","Department1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusDept",1,"jbold"],["id","StatusDept","type","checkbox","name","StatusDept",3,"ngModel","ngModelChange"],["for","StatusDept"]],template:function(e,t){1&e&&(M.hc(0,"div",0),M.hc(1,"div",1),M.hc(2,"div",2),M.hc(3,"div",3),M.hc(4,"div",4),M.hc(5,"div",5),M.hc(6,"div",6),M.hc(7,"div",2),M.hc(8,"div",7),M.hc(9,"div",8),M.hc(10,"input",9),M.rc("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),M.wc(11,"translate"),M.gc(),M.bd(12,qn,4,3,"a",10),M.bd(13,Ln,4,3,"a",11),M.bd(14,Kn,1,0,"i",12),M.gc(),M.gc(),M.hc(15,"div",13),M.hc(16,"div",14),M.hc(17,"select",15),M.rc("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),M.hc(18,"option",16),M.dd(19,"#10"),M.gc(),M.hc(20,"option",17),M.dd(21,"#25"),M.gc(),M.hc(22,"option",18),M.dd(23,"#50"),M.gc(),M.hc(24,"option",19),M.dd(25,"#100"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.hc(26,"div",20),M.hc(27,"div",21),M.hc(28,"table",22),M.hc(29,"thead"),M.hc(30,"th",23),M.dd(31,"#"),M.gc(),M.hc(32,"th",24),M.dd(33),M.wc(34,"translate"),M.gc(),M.hc(35,"th",24),M.dd(36),M.wc(37,"translate"),M.gc(),M.hc(38,"th",24),M.dd(39),M.wc(40,"translate"),M.gc(),M.hc(41,"th",24),M.dd(42),M.wc(43,"translate"),M.gc(),M.hc(44,"th",24),M.dd(45),M.wc(46,"translate"),M.gc(),M.hc(47,"th",24),M.dd(48),M.wc(49,"translate"),M.gc(),M.hc(50,"th",24),M.dd(51),M.wc(52,"translate"),M.gc(),M.gc(),M.hc(53,"tbody"),M.bd(54,Hn,6,3,"ng-container",25),M.bd(55,Qn,25,16,"ng-container",26),M.gc(),M.gc(),M.gc(),M.hc(56,"div",27),M.hc(57,"div",28),M.hc(58,"div",29),M.hc(59,"pagination",30),M.rc("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),M.gc(),M.gc(),M.hc(60,"div",31),M.hc(61,"a",32),M.dd(62),M.wc(63,"translate"),M.wc(64,"translate"),M.wc(65,"translate"),M.wc(66,"translate"),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.gc(),M.bd(67,mc,119,100,"ng-template",null,33,M.cd),M.bd(69,Nc,52,44,"ng-template",null,34,M.cd),M.bd(71,xc,52,44,"ng-template",null,35,M.cd),M.bd(73,Ec,42,35,"ng-template",null,36,M.cd)),2&e&&(M.Nb(10),M.Dc("placeholder",M.xc(11,27,"Search"))("ngModel",t._keyword),M.Nb(2),M.Dc("ngIf",t._authenService.hasPermission("DEPT","read")),M.Nb(1),M.Dc("ngIf",t._authenService.hasPermission("DEPT","read")),M.Nb(1),M.Dc("ngIf",t._isLoading),M.Nb(3),M.Dc("ngModel",t.pageSize),M.Nb(16),M.fd(" ",M.xc(34,29,"Profile group")," "),M.Nb(3),M.fd(" ",M.xc(37,31,"Type of document")," "),M.Nb(3),M.fd(" ",M.xc(40,33,"Code")," "),M.Nb(3),M.fd(" ",M.xc(43,35,"Title")," "),M.Nb(3),M.fd(" ",M.xc(46,37,"Configure handling users")," "),M.Nb(3),M.fd(" ",M.xc(49,39,"Status")," "),M.Nb(3),M.fd(" ",M.xc(52,41,"Actions")," "),M.Nb(3),M.Dc("ngIf",0==t._requestslist.length),M.Nb(1),M.Dc("ngForOf",t._requestslist),M.Nb(4),M.Dc("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),M.Nb(3),M.id("",M.xc(63,43,"Total of records"),": ",t.totalRow," - ",M.xc(64,45,"Page")," ",t.pageIndex," ",M.xc(65,47,"of")," ",t.totalPage," ",M.xc(66,49,"page"),""))},directives:[S.c,S.n,S.q,l.q,S.x,S.r,S.A,l.p,v.a,N.g,C.N,S.z,S.o,S.p,l.o,S.w,J.a,S.b,Z.a,S.s,te.a,ee.a],pipes:[R.c],styles:[""]}),Cc),data:{title:"Type of profile",breadcrumb:"Type of profile"}},{path:"profile-group",component:q,data:{title:"Profile group",breadcrumb:"Profile group"}},{path:"type-of-document",component:$n,data:{title:"Type of document",breadcrumb:"Type of document"}}]}],Uc=((Ic=function e(){i(this,e)}).\u0275mod=M.Zb({type:Ic}),Ic.\u0275inj=M.Yb({factory:function(e){return new(e||Ic)},imports:[[N.h.forChild(Pc)],N.h]}),Ic),Gc=a("arFO"),Ac=a("Kdsb"),Oc=a("g9iH"),Tc=a("UkRs"),jc=((Rc=function e(){i(this,e)}).\u0275mod=M.Zb({type:Rc}),Rc.\u0275inj=M.Yb({factory:function(e){return new(e||Rc)},providers:[u.a,d.a,s.a,o.a,R.d,E.a],imports:[[l.c,Uc,S.k,y.a,m.b,R.b,_.a,p.c.forRoot(),v.b.forRoot(),b.a.forRoot(),f.a.forRoot(),Oc.b,h.a,g.a,Gc.a,C.u,J.b,Z.b.forRoot(),Ac.c,Tc.c,ee.b,te.b,ne.b]]}),Rc)}}])}();