!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,l=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw l}}}}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(self.webpackChunkendless=self.webpackChunkendless||[]).push([[9556],{79556:function(n,i,o){o.r(i),o.d(i,{SubmissionsModule:function(){return ki}});var r=o(38583),s=o(49690),c=o(90217),u=o(65925),d=o(15483),g=o(58920),f=o(75690),p=o(63301),_=o(70453),h=o(72214),Z=o(81946),m=o(10743),v=o(93184),A=o(72533),y=o(3679),b=o(39895),x=o(29022),S=o(88259),T=o.n(S),q=o(37716),M=o(75208),C=o(59543),N=o(12664),w=o(32579),U=o(29790);function k(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"a",34),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(),t=q.MAs(64);return e._openModal(t,null)}),q._UZ(1,"i",35),q._uU(2),q.ALo(3,"translate"),q.qZA()}2&e&&(q.xp6(2),q.hij(" ",q.lcZ(3,1,"Add new")," "))}function E(e,t){1&e&&(q.TgZ(0,"a",36),q._UZ(1,"i",37),q._uU(2),q.ALo(3,"translate"),q.qZA()),2&e&&(q.xp6(2),q.hij(" ",q.lcZ(3,1,"Submissions")," "))}function J(e,t){1&e&&q._UZ(0,"i",38)}function D(e,t){1&e&&(q.ynx(0),q.TgZ(1,"tr"),q.TgZ(2,"td",39),q.TgZ(3,"h3",40),q._uU(4),q.ALo(5,"translate"),q.qZA(),q.qZA(),q.qZA(),q.BQk()),2&e&&(q.xp6(4),q.hij(" ",q.lcZ(5,1,"No records now!!!")," "))}function W(e,t){1&e&&q._UZ(0,"img",47)}function L(e,t){1&e&&q._UZ(0,"img",48)}function I(e,t){if(1&e){var n=q.EpF();q.ynx(0),q.TgZ(1,"tr"),q.TgZ(2,"td",24),q._uU(3),q.qZA(),q.TgZ(4,"td",24),q._uU(5),q.qZA(),q.TgZ(6,"td",24),q._uU(7),q.qZA(),q.TgZ(8,"td",24),q._uU(9),q.qZA(),q.TgZ(10,"td",24),q.YNc(11,W,1,0,"img",41),q.YNc(12,L,1,0,"img",42),q.qZA(),q.TgZ(13,"td",24),q.TgZ(14,"a",43),q.NdJ("click",function(){var e=q.CHM(n).$implicit,t=q.oxw(),i=q.MAs(64);return t._openModal(i,e)}),q.ALo(15,"translate"),q._UZ(16,"i",44),q.qZA(),q.TgZ(17,"a",45),q.NdJ("click",function(){var e=q.CHM(n).$implicit;return q.oxw().deleteItem(e)}),q.ALo(18,"translate"),q._UZ(19,"i",46),q.qZA(),q.qZA(),q.qZA(),q.BQk()}if(2&e){var i=t.$implicit,a=t.index,o=q.oxw();q.xp6(3),q.hij(" ",a+1," "),q.xp6(2),q.hij(" ",i.code," "),q.xp6(2),q.hij(" ",i.name_l," "),q.xp6(2),q.hij(" ",i.name_e," "),q.xp6(2),q.Q6J("ngIf",!i.is_active),q.xp6(1),q.Q6J("ngIf",i.is_active),q.xp6(2),q.s9C("ngbTooltip",q.lcZ(15,10,"Edit")),q.Q6J("disabled","Admin"===i.name_e||!o._authenService.hasPermission("DEPT","update")),q.xp6(3),q.s9C("ngbTooltip",q.lcZ(18,12,"Delete")),q.Q6J("disabled","Admin"===i.name_e||!o._authenService.hasPermission("DEPT","delete"))}}function Q(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",72),q._UZ(2,"img",73),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function O(e,t){if(1&e&&(q.TgZ(0,"button",74),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function P(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",49,50),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChange()}),q.TgZ(2,"div",51),q.TgZ(3,"h4",52),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.qZA(),q.TgZ(7,"button",53),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(8,"span",54),q._uU(9,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(10,"div",55),q.TgZ(11,"div",56),q.TgZ(12,"div",57),q.TgZ(13,"div",58),q.TgZ(14,"label",59),q._uU(15),q.ALo(16,"translate"),q.TgZ(17,"span",40),q._uU(18,"(*)"),q.qZA(),q.qZA(),q.TgZ(19,"input",60),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.code=e})("keyup",function(){return q.CHM(n),q.oxw().removeBlank()}),q.ALo(20,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(21,"div",61),q.TgZ(22,"div",58),q.TgZ(23,"label",62),q._uU(24),q.ALo(25,"translate"),q.TgZ(26,"span",40),q._uU(27,"(*)"),q.qZA(),q.qZA(),q.TgZ(28,"input",63),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.name_l=e}),q.ALo(29,"translate"),q.ALo(30,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(31,"div",61),q.TgZ(32,"div",58),q.TgZ(33,"input",64),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.name_e=e}),q.ALo(34,"translate"),q.ALo(35,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(36,"div",57),q.TgZ(37,"label",65),q._uU(38),q.ALo(39,"translate"),q.qZA(),q.TgZ(40,"div",66),q.TgZ(41,"input",67),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.is_active=e}),q.qZA(),q.TgZ(42,"label",68),q._uU(43),q.ALo(44,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(45,"div",69),q.TgZ(46,"button",70),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(47),q.ALo(48,"translate"),q.qZA(),q.YNc(49,Q,5,3,"ng-container",25),q.YNc(50,O,3,4,"button",71),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ",null==i.entity.id?q.lcZ(5,20,"Add new"):q.lcZ(6,22,"Update")," ",i._title," "),q.xp6(11),q.hij("",q.lcZ(16,24,"Group code")," "),q.xp6(4),q.s9C("placeholder",q.lcZ(20,26,"Group code")),q.Q6J("ngClass",null==i.entity.id?"form-control":"form-control jdisabled")("ngModel",i.entity.code)("disabled",null!=i.entity.id),q.xp6(5),q.hij("",q.lcZ(25,28,"Group name")," "),q.xp6(4),q.hYB("placeholder","",q.lcZ(29,30,"Group name")," (",q.lcZ(30,32,"Vietnamese"),")"),q.Q6J("ngModel",i.entity.name_l),q.xp6(5),q.hYB("placeholder","",q.lcZ(34,34,"Group name")," (",q.lcZ(35,36,"English"),")"),q.Q6J("ngModel",i.entity.name_e),q.xp6(5),q.Oqu(q.lcZ(39,38,"Status")),q.xp6(3),q.Q6J("ngModel",i.entity.is_active),q.xp6(2),q.Oqu(q.lcZ(44,40,i.entity.is_active?"activated":"not activated")),q.xp6(4),q.hij(" ",q.lcZ(48,42,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSave),q.xp6(1),q.Q6J("ngIf",!i.isSave)}}var R,G=((R=function(){function e(t,n,i,o,l,r,s,c,u){a(this,e),this._authenService=t,this._dataService=n,this._route=i,this._notifyService=o,this._uploadService=l,this._excelService=r,this._numberFormat=s,this.modalService=c,this._utilyService=u,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this.entity={}}return l(e,[{key:"ngOnInit",value:function(){this.user=this._authenService.getLoggedInUser(),this.loadData()}},{key:"loadData",value:function(){var e=this;this._isLoading=!0,this._dataService.post("/cat-submission/getallProfiles",{page:this.pageIndex,limit:this.pageSize,filter:this._keyword,short_code:this.user.short_code}).subscribe(function(t){e._isLoading=!1,e._requestslist=t.data,e.totalRow=t.rowCount,e.totalPage=t.totalPages},function(){return e._isLoading=!1})}},{key:"_pageSizeChange",value:function(e){this.pageSize=e.target.value,this.loadData()}},{key:"pageChanged",value:function(e){this.pageIndex=e.page,this.loadData()}},{key:"removeBlank",value:function(){this.entity.code=null==this.entity.code?null:this.entity.code.replace(" ","")}},{key:"_openModal",value:function(e,t){null==t?(this.entity={},this.entity.name_l=null,this.entity.name_e=null,this.entity.is_active=!0,this.entity.short_code=this.user.short_code,this._title=""):(this.entity=t,this._title=t.code),this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChange",value:function(){var e=this;this.isSave=!0,null==this.entity.id?(this.entity.code=this.entity.code.toUpperCase(),this._dataService.post("/cat-submission/addProfile",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.entity={},e.entity.name_l=null,e.entity.name_e=null,e.entity.is_active=!0,e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})):this._dataService.post("/cat-submission/updateProfile",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_UPDATENO_EN:x.W.MSG_UPDATENO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"),e.modalService.dismissAll())},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"deleteItem",value:function(e){var t=this;T().fire({title:"en"==this.user.lang?x.W.are_you_sure_en:x.W.are_you_sure,text:"en"==this.user.lang?e.name_e:e.name_l,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.W.cancel_en:x.W.cancel,confirmButtonText:"en"==this.user.lang?x.W.confirmtext_en:x.W.confirmtext}).then(function(n){if(n.value){var i={};i.id=e.id,t._dataService.post("/cat-submission/deleteProfile",i).subscribe(function(e){"failed"!=e.result?(t._notifyService.showSuccess("en"==t.user.lang?x.W.MSG_DELETE_EN:x.W.MSG_DELETE,"OK"),t.loadData()):t._notifyService.showError("en"==t.user.lang?x.W.MSG_DELETENO_EN:x.W.MSG_DELETENO,"en"==t.user.lang?x.W.error_title_en:x.W.error_title)},function(){t._notifyService.showError("en"==t.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==t.user.lang?x.W.error_title_en:x.W.error_title)})}})}}]),e}()).\u0275fac=function(e){return new(e||R)(q.Y36(d.e),q.Y36(u.D),q.Y36(b.F0),q.Y36(M.c),q.Y36(c.C),q.Y36(s.x),q.Y36(C.p),q.Y36(N.FF),q.Y36(w.t))},R.\u0275cmp=q.Xpm({type:R,selectors:[["app-subm-profilegroup"]],decls:65,vars:51,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],["class","btn btn-sm btn-info mr-sm-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-secondary mr-sm-2","routerLink","/submissions/requests",4,"ngIf"],["class","fa fa-spinner fa-spin text-primary","style","font-size: 16pt",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"custom-select","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],["content",""],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],[1,"fa","fa-plus"],["routerLink","/submissions/requests",1,"btn","btn-sm","btn-secondary","mr-sm-2"],[1,"fa","fa-clipboard"],[1,"fa","fa-spinner","fa-spin","text-primary",2,"font-size","16pt"],["colspan","6",2,"text-align","center"],[1,"text-danger"],["src","../../../../assets/img/icon-no.svg",4,"ngIf"],["src","../../../../assets/img/icon-yes.svg",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-sm-1",3,"ngbTooltip","disabled","click"],[1,"fa","fa-pencil"],[1,"btn","btn-sm","btn-danger",3,"ngbTooltip","disabled","click"],[1,"fa","fa-trash"],["src","../../../../assets/img/icon-no.svg"],["src","../../../../assets/img/icon-yes.svg"],[1,"form","theme-form",3,"ngSubmit"],["formPG1","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-6"],[1,"form-group"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",3,"ngClass","placeholder","ngModel","disabled","ngModelChange","keyup"],[1,"col-md-12"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,t){1&e&&(q.TgZ(0,"div",0),q.TgZ(1,"div",1),q.TgZ(2,"div",2),q.TgZ(3,"div",3),q.TgZ(4,"div",4),q.TgZ(5,"div",5),q.TgZ(6,"div",6),q.TgZ(7,"div",2),q.TgZ(8,"div",7),q.TgZ(9,"div",8),q.TgZ(10,"input",9),q.NdJ("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),q.ALo(11,"translate"),q.qZA(),q.YNc(12,k,4,3,"a",10),q.YNc(13,E,4,3,"a",11),q.YNc(14,J,1,0,"i",12),q.qZA(),q.qZA(),q.TgZ(15,"div",13),q.TgZ(16,"div",14),q.TgZ(17,"select",15),q.NdJ("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),q.TgZ(18,"option",16),q._uU(19,"#10"),q.qZA(),q.TgZ(20,"option",17),q._uU(21,"#25"),q.qZA(),q.TgZ(22,"option",18),q._uU(23,"#50"),q.qZA(),q.TgZ(24,"option",19),q._uU(25,"#100"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(26,"div",20),q.TgZ(27,"div",21),q.TgZ(28,"table",22),q.TgZ(29,"thead"),q.TgZ(30,"th",23),q._uU(31,"#"),q.qZA(),q.TgZ(32,"th",24),q._uU(33),q.ALo(34,"translate"),q.qZA(),q.TgZ(35,"th",24),q._uU(36),q.ALo(37,"translate"),q.ALo(38,"translate"),q.qZA(),q.TgZ(39,"th",24),q._uU(40),q.ALo(41,"translate"),q.ALo(42,"translate"),q.qZA(),q.TgZ(43,"th",24),q._uU(44),q.ALo(45,"translate"),q.qZA(),q.TgZ(46,"th",24),q._uU(47),q.ALo(48,"translate"),q.qZA(),q.qZA(),q.TgZ(49,"tbody"),q.YNc(50,D,6,3,"ng-container",25),q.YNc(51,I,20,14,"ng-container",26),q.qZA(),q.qZA(),q.qZA(),q.TgZ(52,"div",27),q.TgZ(53,"div",28),q.TgZ(54,"div",29),q.TgZ(55,"pagination",30),q.NdJ("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),q.qZA(),q.qZA(),q.TgZ(56,"div",31),q.TgZ(57,"a",32),q._uU(58),q.ALo(59,"translate"),q.ALo(60,"translate"),q.ALo(61,"translate"),q.ALo(62,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.YNc(63,P,51,44,"ng-template",null,33,q.W1O)),2&e&&(q.xp6(10),q.Q6J("placeholder",q.lcZ(11,27,"Search"))("ngModel",t._keyword),q.xp6(2),q.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),q.xp6(1),q.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),q.xp6(1),q.Q6J("ngIf",t._isLoading),q.xp6(3),q.Q6J("ngModel",t.pageSize),q.xp6(16),q.hij(" ",q.lcZ(34,29,"Code")," "),q.xp6(3),q.AsE(" ",q.lcZ(37,31,"Group name")," (",q.lcZ(38,33,"Vietnamese"),") "),q.xp6(4),q.AsE(" ",q.lcZ(41,35,"Group name")," (",q.lcZ(42,37,"English"),") "),q.xp6(4),q.hij(" ",q.lcZ(45,39,"Status")," "),q.xp6(3),q.hij(" ",q.lcZ(48,41,"Actions")," "),q.xp6(3),q.Q6J("ngIf",0==t._requestslist.length),q.xp6(1),q.Q6J("ngForOf",t._requestslist),q.xp6(4),q.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),q.xp6(3),q.Q0o("",q.lcZ(59,43,"Total of records"),": ",t.totalRow," - ",q.lcZ(60,45,"Page")," ",t.pageIndex," ",q.lcZ(61,47,"of")," ",t.totalPage," ",q.lcZ(62,49,"page"),""))},directives:[y.Fj,y.JJ,y.On,r.O5,y.EJ,y.YN,y.Kr,r.sg,h.Qt,b.yS,N._L,y._Y,y.JL,y.F,y.Q7,r.mk,y.Wl],pipes:[U.X$],styles:[""]}),R),j=o(49962),Y=o.n(j),H=o(65206),F=o(40496),B=o.n(F),z=o(33098),$=o(39075),K=o(86640),V=o(72808),X=o(41365),ee=o(21388),te=o(3621),ne=["ckeEditor"],ie=["ckeEditor1"],ae=["combo"],oe=["attached_file"],le=["attached_file1"];function re(e,t){1&e&&(q.TgZ(0,"div",37),q.TgZ(1,"button",38),q._UZ(2,"i",39),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.TgZ(5,"div",40),q.TgZ(6,"a",41),q._UZ(7,"i",42),q._uU(8),q.ALo(9,"translate"),q.qZA(),q.TgZ(10,"a",43),q._UZ(11,"i",44),q._uU(12),q.ALo(13,"translate"),q.qZA(),q.TgZ(14,"a",45),q._UZ(15,"i",46),q._uU(16),q.ALo(17,"translate"),q.qZA(),q.TgZ(18,"a",47),q._UZ(19,"i",48),q._uU(20),q.ALo(21,"translate"),q.qZA(),q.qZA(),q.qZA()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,5,"Category")," "),q.xp6(5),q.hij(" ",q.lcZ(9,7,"Type of profile")," "),q.xp6(4),q.hij(" ",q.lcZ(13,9,"Profile group")," "),q.xp6(4),q.hij(" ",q.lcZ(17,11,"Type of document")," "),q.xp6(4),q.hij(" ",q.lcZ(21,13,"Manager Unit")," "))}function se(e,t){1&e&&(q.ynx(0),q.TgZ(1,"tr"),q.TgZ(2,"td",49),q.TgZ(3,"h3",50),q._uU(4),q.ALo(5,"translate"),q.qZA(),q.qZA(),q.qZA(),q.BQk()),2&e&&(q.xp6(4),q.hij(" ",q.lcZ(5,1,"No records now!!!")," "))}function ce(e,t){1&e&&(q.TgZ(0,"span",59),q._UZ(1,"i",60),q.qZA())}function ue(e,t){if(1&e&&(q.TgZ(0,"li"),q._uU(1),q.YNc(2,ce,2,0,"span",53),q._UZ(3,"br"),q.TgZ(4,"small",52),q._uU(5),q.qZA(),q.qZA()),2&e){var n=t.$implicit,i=t.index,a=q.oxw(2);q.xp6(1),q.AsE(" ",i+1,".",n.user.name," "),q.xp6(1),q.Q6J("ngIf",n.show),q.xp6(3),q.Oqu("en"==a.user.lang?n.user.dept_name_e:n.user.dept_name_l)}}function de(e,t){1&e&&(q.TgZ(0,"span",59),q._UZ(1,"i",60),q.qZA())}function ge(e,t){if(1&e&&(q.ynx(0),q._uU(1),q.ALo(2,"date"),q.BQk()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.hij("",q.xi3(2,1,n.logs.timestamp,"dd/MM/yyyy HH:mm a")," ")}}function fe(e,t){1&e&&(q.TgZ(0,"span",61),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Draft")))}function pe(e,t){1&e&&(q.TgZ(0,"span",62),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Processing")))}function _e(e,t){1&e&&(q.TgZ(0,"span",63),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Recall")))}function he(e,t){1&e&&(q.TgZ(0,"span",64),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Completed")))}function Ze(e,t){1&e&&(q.TgZ(0,"span",65),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Cancel")))}function me(e,t){if(1&e){var n=q.EpF();q.ynx(0),q.TgZ(1,"tr",51),q.NdJ("click",function(){var e=q.CHM(n).$implicit,t=q.oxw(),i=q.MAs(83);return t._openModal(i,e)}),q.TgZ(2,"td",26),q._uU(3),q.qZA(),q.TgZ(4,"td",26),q._uU(5),q._UZ(6,"br"),q.TgZ(7,"small",52),q._uU(8),q.ALo(9,"translate"),q.qZA(),q.qZA(),q.TgZ(10,"td",26),q._uU(11),q.ALo(12,"date"),q._UZ(13,"br"),q.TgZ(14,"small",52),q._uU(15),q.ALo(16,"translate"),q.qZA(),q.qZA(),q.TgZ(17,"td",26),q.TgZ(18,"ul"),q.YNc(19,ue,6,4,"li",28),q.qZA(),q.qZA(),q.TgZ(20,"td",26),q._uU(21),q.YNc(22,de,2,0,"span",53),q._UZ(23,"br"),q.TgZ(24,"small",52),q._uU(25),q.qZA(),q.qZA(),q.TgZ(26,"td",26),q.YNc(27,ge,3,4,"ng-container",27),q.qZA(),q.TgZ(28,"td",26),q.YNc(29,fe,3,3,"span",54),q.YNc(30,pe,3,3,"span",55),q.YNc(31,_e,3,3,"span",56),q.YNc(32,he,3,3,"span",57),q.YNc(33,Ze,3,3,"span",58),q.qZA(),q.qZA(),q.BQk()}if(2&e){var i=t.$implicit,a=t.index,o=q.oxw();q.xp6(3),q.hij(" ",a+1," "),q.xp6(2),q.hij(" ",i.title,""),q.xp6(3),q.AsE("",q.lcZ(9,17,"Code"),": ",i.code,""),q.xp6(3),q.hij(" ",q.xi3(12,19,i.timestamp,"dd/MM/yyyy HH:mm"),""),q.xp6(4),q.AsE("",q.lcZ(16,22,"Created by"),": ",i.name,""),q.xp6(4),q.Q6J("ngForOf",i.reviews),q.xp6(2),q.hij(" ",i.approve.user.name," "),q.xp6(1),q.Q6J("ngIf",i.approve.show),q.xp6(3),q.Oqu("en"==o.user.lang?i.approve.user.dept_name_e:i.approve.user.dept_name_l),q.xp6(2),q.Q6J("ngIf",null!=i.logs),q.xp6(2),q.Q6J("ngIf",0==i.is_active),q.xp6(1),q.Q6J("ngIf",1==i.is_active),q.xp6(1),q.Q6J("ngIf",2==i.is_active),q.xp6(1),q.Q6J("ngIf",3==i.is_active),q.xp6(1),q.Q6J("ngIf",4==i.is_active)}}function ve(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"button",74),q.NdJ("click",function(){return q.CHM(n),q.oxw(2)._chooseButton(2)}),q._uU(1),q.ALo(2,"translate"),q.qZA()}if(2&e){var i=q.oxw(2);q.Q6J("ngClass",2==i._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Timeline")," ")}}function Ae(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"button",74),q.NdJ("click",function(){return q.CHM(n),q.oxw(2)._chooseButton(3)}),q._UZ(1,"i",80),q._uU(2),q.ALo(3,"translate"),q.qZA()}if(2&e){var i=q.oxw(2);q.Q6J("ngClass",3==i._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),q.xp6(2),q.hij(" ",q.lcZ(3,2,"History")," ")}}function ye(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"button",74),q.NdJ("click",function(){return q.CHM(n),q.oxw(2)._chooseButton(4)}),q._UZ(1,"i",81),q._uU(2),q.ALo(3,"translate"),q.qZA()}if(2&e){var i=q.oxw(2);q.Q6J("ngClass",4==i._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),q.xp6(2),q.hij(" ",q.lcZ(3,2,"Comments")," ")}}function be(e,t){if(1&e){var n=q.EpF();q.ynx(0),q._uU(1,"- "),q.TgZ(2,"a",116),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(3),t=q.MAs(85);return e._popupProfile(t,null)}),q._UZ(3,"i",15),q.qZA(),q.BQk()}}function xe(e,t){if(1&e&&(q.TgZ(0,"div",117),q._uU(1),q.ALo(2,"slice"),q.qZA()),2&e){var n=t.item;q.Q6J("ngbTooltip",n.title.length>25?n.title:""),q.xp6(1),q.hij(" ",n.title.length>25?q.Dn7(2,2,n.title,0,20)+"..":n.title," ")}}function Se(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"input",118),q.NdJ("change",function(e){return q.CHM(n),q.oxw(3).toggleCheckAll(e)}),q.qZA(),q._uU(1),q.ALo(2,"translate")}if(2&e){var i=q.oxw(3);q.Q6J("ngModel",i.checkAllIDs),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Choose all")," ")}}function Te(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"div",121),q.TgZ(1,"span",122),q._uU(2),q.qZA(),q.TgZ(3,"span",123),q.NdJ("click",function(){var e=q.CHM(n).$implicit;return q.oxw().clear(e)}),q._uU(4,"\xd7"),q.qZA(),q.qZA()}if(2&e){var i=t.$implicit;q.xp6(2),q.AsE("",i.name,"",i.login,"")}}function qe(e,t){if(1&e&&(q.TgZ(0,"div",121),q.TgZ(1,"span",122),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.qZA()),2&e){var n=q.oxw().items;q.xp6(2),q.AsE("",n.length-2," ",q.lcZ(3,2,"more"),"...")}}function Me(e,t){if(1&e&&(q.YNc(0,Te,5,2,"div",119),q.ALo(1,"slice"),q.YNc(2,qe,4,4,"div",120)),2&e){var n=t.items;q.Q6J("ngForOf",q.Dn7(1,2,n,0,2)),q.xp6(2),q.Q6J("ngIf",n.length>2)}}function Ce(e,t){if(1&e&&(q._UZ(0,"input",124),q._uU(1)),2&e){var n=t.item,i=t.item$;q.MGl("id","item-",t.index,""),q.Q6J("checked",i.selected),q.xp6(1),q.hij(" ",n.name," ")}}function Ne(e,t){if(1&e){var n=q.EpF();q.ynx(0),q.TgZ(1,"ck-editor",125,126),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(3).entity.content=e})("change",function(){q.CHM(n);var e=q.oxw(3);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),q.qZA(),q.BQk()}if(2&e){var i=q.oxw(3);q.xp6(1),q.Q6J("ngModel",i.entity.content)("fullPage",!0)("config",i.ckEditorConfig)}}function we(e,t){if(1&e&&q._UZ(0,"p",127),2&e){var n=q.oxw(3);q.Q6J("innerHtml",n._displayContent,q.oJD)}}function Ue(e,t){if(1&e){var n=q.EpF();q.ynx(0),q._uU(1,"- "),q.TgZ(2,"a",128),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(3),t=q.MAs(95);return e.openViewDoc(t,e._originFile)}),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()}2&e&&(q.xp6(3),q.Oqu(q.lcZ(4,1,"Download file")))}function ke(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"input",129,130),q.NdJ("change",function(e){q.CHM(n);var t=q.MAs(1);return q.oxw(3).fileEvent(e,t)}),q.qZA()}}function Ee(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"i",133),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(4);return e.removeAttachment(e.entity.id,e.entity.attached_file,0)}),q.qZA()}}function Je(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"div",113),q.TgZ(1,"img",131),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(3),t=q.MAs(95);return e.openViewDoc(t,e._originFile)}),q.qZA(),q.TgZ(2,"span",59),q.YNc(3,Ee,1,0,"i",132),q.qZA(),q.qZA()}if(2&e){var i=q.oxw(3);q.xp6(3),q.Q6J("ngIf",0==i.entity.is_active)}}function De(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"input",134,135),q.NdJ("change",function(e){q.CHM(n);var t=q.MAs(1);return q.oxw(3).fileEventMore(e,t)}),q.qZA()}}function We(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"span",137),q.TgZ(1,"i",133),q.NdJ("click",function(){q.CHM(n);var e=q.oxw().$implicit,t=q.oxw(3);return t.removeAttachment(t.entity.id,e,1)}),q.qZA(),q.qZA()}}function Le(e,t){if(1&e){var n=q.EpF();q.ynx(0),q.TgZ(1,"img",131),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(3),t=q.MAs(95);return e.openViewDoc(t,e._originFile)}),q.qZA(),q.YNc(2,We,2,0,"span",136),q.BQk()}if(2&e){var i=q.oxw(3);q.xp6(2),q.Q6J("ngIf",0==i.entity.is_active)}}function Ie(e,t){if(1&e&&(q.TgZ(0,"span"),q._uU(1),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Oqu(n.order)}}function Qe(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"input",141),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().$implicit.order=e})("change",function(){q.CHM(n);var e=q.oxw(4);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),q.qZA()}if(2&e){var i=q.oxw(),a=i.index,o=i.$implicit;q.MGl("name","orderno",a+1,""),q.MGl("id","orderno",a+1,""),q.Q6J("ngModel",o.order)}}function Oe(e,t){1&e&&(q.TgZ(0,"span",59),q._UZ(1,"i",60),q.qZA())}function Pe(e,t){if(1&e&&(q.TgZ(0,"span"),q._uU(1),q.YNc(2,Oe,2,0,"span",53),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.hij("",n.user.name," "),q.xp6(1),q.Q6J("ngIf",n.show)}}function Re(e,t){if(1&e){var n=q.EpF();q.ynx(0),q.TgZ(1,"nz-tree-select",142),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(4)._selectUser=e})("ngModelChange",function(){q.CHM(n);var e=q.oxw().$implicit,t=q.oxw(3);return t._getUserNew(e,t._selectUser)}),q.ALo(2,"translate"),q.qZA(),q.BQk()}if(2&e){var i=q.oxw(4);q.xp6(1),q.s9C("nzPlaceHolder",q.lcZ(2,4,"Please choose")),q.Q6J("nzExpandedKeys",i.expandKeys1)("nzNodes",i._getusers)("ngModel",i._selectUser)}}function Ge(e,t){if(1&e&&(q.ynx(0),q._uU(1),q._UZ(2,"br"),q.TgZ(3,"small",52),q._uU(4),q.qZA(),q.BQk()),2&e){var n=q.oxw().$implicit,i=q.oxw(3);q.xp6(1),q.hij(" ","en"==i.user.lang?n.user.title_name_e:n.user.title_name_l,""),q.xp6(3),q.Oqu("en"==i.user.lang?n.user.dept_name_e:n.user.dept_name_l)}}function je(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Only view")))}function Ye(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Passed signature")))}function He(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Reviewed signature")))}function Fe(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Approved signature")))}function Be(e,t){if(1&e&&(q.ynx(0),q.YNc(1,je,3,3,"span",27),q.YNc(2,Ye,3,3,"span",27),q.YNc(3,He,3,3,"span",27),q.YNc(4,Fe,3,3,"span",27),q.BQk()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Q6J("ngIf",0==n.role),q.xp6(1),q.Q6J("ngIf",1==n.role),q.xp6(1),q.Q6J("ngIf",2==n.role),q.xp6(1),q.Q6J("ngIf",3==n.role)}}function ze(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"select",143),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().$implicit.role=e})("change",function(){q.CHM(n);var e=q.oxw(4);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),q.TgZ(1,"option",91),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.TgZ(4,"option",92),q._uU(5),q.ALo(6,"translate"),q.qZA(),q.TgZ(7,"option",93),q._uU(8),q.ALo(9,"translate"),q.qZA(),q.TgZ(10,"option",94),q._uU(11),q.ALo(12,"translate"),q.qZA(),q.qZA()}if(2&e){var i=q.oxw(),a=i.$implicit;q.MGl("name","r",i.index+1,""),q.Q6J("ngModel",a.role),q.xp6(2),q.Oqu(q.lcZ(3,6,"Only view")),q.xp6(3),q.hij(" ",q.lcZ(6,8,"Passed signature")," "),q.xp6(3),q.hij(" ",q.lcZ(9,10,"Reviewed signature")," "),q.xp6(3),q.hij(" ",q.lcZ(12,12,"Approved signature")," ")}}function $e(e,t){if(1&e&&(q.TgZ(0,"span"),q._uU(1),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Oqu(n.time)}}function Ke(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"input",141),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().$implicit.time=e})("change",function(){q.CHM(n);var e=q.oxw(4);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),q.qZA()}if(2&e){var i=q.oxw(),a=i.index,o=i.$implicit;q.MGl("name","timer",a+1,""),q.MGl("id","timer",a+1,""),q.Q6J("ngModel",o.time)}}function Ve(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"a",144),q.NdJ("click",function(){q.CHM(n);var e=q.oxw().$implicit;return q.oxw(3).removeItemNew(e)}),q._UZ(1,"i",145),q.qZA()}}function Xe(e,t){if(1&e&&(q.TgZ(0,"tr"),q.TgZ(1,"td",26),q.YNc(2,Ie,2,1,"span",27),q.YNc(3,Qe,1,3,"input",138),q.qZA(),q.TgZ(4,"td",26),q.YNc(5,Pe,3,2,"span",27),q.YNc(6,Re,3,6,"ng-container",27),q.qZA(),q.TgZ(7,"td",26),q.YNc(8,Ge,5,2,"ng-container",27),q.qZA(),q.TgZ(9,"td",26),q.YNc(10,Be,5,4,"ng-container",27),q.YNc(11,ze,13,14,"select",139),q.qZA(),q.TgZ(12,"td",26),q.YNc(13,$e,2,1,"span",27),q.YNc(14,Ke,1,3,"input",138),q.qZA(),q.TgZ(15,"td",26),q.YNc(16,Ve,2,0,"a",140),q.qZA(),q.qZA()),2&e){var n=t.$implicit,i=q.oxw(3);q.xp6(2),q.Q6J("ngIf",0!=i.entity.is_active),q.xp6(1),q.Q6J("ngIf",0==i.entity.is_active),q.xp6(2),q.Q6J("ngIf",n.flag||null!=n.user),q.xp6(1),q.Q6J("ngIf",null==n.user),q.xp6(2),q.Q6J("ngIf",null!=n.user),q.xp6(2),q.Q6J("ngIf",n.flag),q.xp6(1),q.Q6J("ngIf",!n.flag),q.xp6(2),q.Q6J("ngIf",n.flag),q.xp6(1),q.Q6J("ngIf",!n.flag),q.xp6(2),q.Q6J("ngIf",!n.allow)}}function et(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"tfoot"),q.TgZ(1,"tr"),q._UZ(2,"td",146),q.TgZ(3,"td",26),q.TgZ(4,"a",147),q.NdJ("click",function(){return q.CHM(n),q.oxw(3).addItemNew()}),q._UZ(5,"i",15),q.qZA(),q.qZA(),q.qZA(),q.qZA()}}function tt(e,t){if(1&e){var n=q.EpF();q.ynx(0),q.TgZ(1,"div",82),q.TgZ(2,"label",83),q._uU(3),q.ALo(4,"translate"),q.TgZ(5,"span",50),q._uU(6,"(*)"),q.qZA(),q.qZA(),q.TgZ(7,"input",84),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(2).entity.title=e})("change",function(){q.CHM(n);var e=q.oxw(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),q.qZA(),q.qZA(),q.TgZ(8,"div",82),q.TgZ(9,"label",85),q._uU(10),q.ALo(11,"translate"),q.TgZ(12,"span",50),q._uU(13,"(*)"),q.qZA(),q.YNc(14,be,4,0,"ng-container",27),q.qZA(),q.TgZ(15,"ng-select",86),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(2).entity.profile_cat_id=e})("change",function(){q.CHM(n);var e=q.oxw(2);return e._diagramChange(e.entity.profile_cat_id)}),q.ALo(16,"translate"),q.ALo(17,"translate"),q.YNc(18,xe,3,6,"ng-template",87),q.qZA(),q.qZA(),q.TgZ(19,"div",88),q.TgZ(20,"label",89),q._uU(21),q.ALo(22,"translate"),q.qZA(),q.TgZ(23,"select",90),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(2).entity.critical_level=e})("change",function(){q.CHM(n);var e=q.oxw(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),q.TgZ(24,"option",91),q._uU(25),q.ALo(26,"translate"),q.qZA(),q.TgZ(27,"option",92),q._uU(28),q.ALo(29,"translate"),q.qZA(),q.TgZ(30,"option",93),q._uU(31),q.ALo(32,"translate"),q.qZA(),q.TgZ(33,"option",94),q._uU(34),q.ALo(35,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(36,"div",88),q.TgZ(37,"label",95),q._uU(38),q.ALo(39,"translate"),q.qZA(),q.TgZ(40,"select",96),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(2).entity.priority_level=e})("change",function(){q.CHM(n);var e=q.oxw(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),q.TgZ(41,"option",91),q._uU(42),q.ALo(43,"translate"),q.qZA(),q.TgZ(44,"option",92),q._uU(45),q.ALo(46,"translate"),q.qZA(),q.TgZ(47,"option",93),q._uU(48),q.ALo(49,"translate"),q.qZA(),q.TgZ(50,"option",94),q._uU(51),q.ALo(52,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(53,"div",97),q.TgZ(54,"label",98),q._uU(55),q.ALo(56,"translate"),q.qZA(),q.TgZ(57,"ng-select",99,100),q.NdJ("blur",function(){return q.CHM(n),q.oxw(2).onTouched()})("change",function(){q.CHM(n);var e=q.oxw(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null}),q.ALo(59,"translate"),q.ALo(60,"translate"),q.YNc(61,Se,3,4,"ng-template",101),q.YNc(62,Me,3,6,"ng-template",102),q.YNc(63,Ce,2,3,"ng-template",87),q.qZA(),q.qZA(),q.TgZ(64,"div",82),q.TgZ(65,"label",103),q._uU(66),q.ALo(67,"translate"),q.qZA(),q.TgZ(68,"input",104),q.NdJ("change",function(){q.CHM(n);var e=q.oxw(2);return 0==e.entity.is_active&&null!=e.entity.id?e.updateSubmissionChanges():null})("ngModelChange",function(e){return q.CHM(n),q.oxw(2).entity.estimated_cost=e}),q.qZA(),q.qZA(),q.TgZ(69,"div",73),q.TgZ(70,"label",105),q._uU(71),q.ALo(72,"translate"),q.qZA(),q.YNc(73,Ne,3,3,"ng-container",27),q.YNc(74,we,1,1,"p",106),q.qZA(),q.TgZ(75,"div",73),q.TgZ(76,"label",107),q._uU(77),q.ALo(78,"translate"),q.YNc(79,Ue,5,3,"ng-container",27),q.qZA(),q.YNc(80,ke,2,0,"input",108),q.TgZ(81,"input",109),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(2).entityUpload.fileUpload=e}),q.qZA(),q.YNc(82,Je,4,1,"div",110),q.qZA(),q.TgZ(83,"div",73),q.TgZ(84,"label",111),q._uU(85),q.ALo(86,"translate"),q.qZA(),q.YNc(87,De,2,0,"input",112),q.TgZ(88,"div",113),q.YNc(89,Le,3,1,"ng-container",28),q.qZA(),q.qZA(),q.TgZ(90,"div",73),q.TgZ(91,"label",114),q._uU(92),q.ALo(93,"translate"),q.qZA(),q.TgZ(94,"div",23),q.TgZ(95,"table",115),q.TgZ(96,"thead"),q.TgZ(97,"th",26),q._uU(98),q.ALo(99,"translate"),q.qZA(),q.TgZ(100,"th",26),q._uU(101),q.ALo(102,"translate"),q.qZA(),q.TgZ(103,"th",26),q._uU(104),q.ALo(105,"translate"),q.qZA(),q.TgZ(106,"th",26),q._uU(107),q.ALo(108,"translate"),q.qZA(),q.TgZ(109,"th",26),q._uU(110),q.ALo(111,"translate"),q.qZA(),q.TgZ(112,"th",26),q._uU(113),q.ALo(114,"translate"),q.qZA(),q.qZA(),q.TgZ(115,"tbody"),q.YNc(116,Xe,17,10,"tr",28),q.qZA(),q.YNc(117,et,6,0,"tfoot",27),q.qZA(),q.qZA(),q.qZA(),q.BQk()}if(2&e){var i=q.oxw(2);q.xp6(3),q.hij("",q.lcZ(4,62,"Title")," "),q.xp6(4),q.Q6J("ngModel",i.entity.title)("ngClass",0==i.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=i.entity.is_active),q.xp6(3),q.hij("",q.lcZ(11,64,"Type of profile")," "),q.xp6(4),q.Q6J("ngIf",0==i.entity.is_active),q.xp6(1),q.Q6J("items",i._profiles)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("ngModel",i.entity.profile_cat_id)("placeholder",q.lcZ(16,66,"Please choose"))("notFoundText",q.lcZ(17,68,"Not found item"))("disabled",0!=i.entity.is_active),q.xp6(6),q.Oqu(q.lcZ(22,70,"Critical level")),q.xp6(2),q.Q6J("ngModel",i.entity.critical_level)("ngClass",0==i.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=i.entity.is_active),q.xp6(2),q.Oqu(q.lcZ(26,72,"Normal")),q.xp6(3),q.Oqu(q.lcZ(29,74,"Important")),q.xp6(3),q.Oqu(q.lcZ(32,76,"Very important")),q.xp6(3),q.Oqu(q.lcZ(35,78,"Urgent")),q.xp6(4),q.Oqu(q.lcZ(39,80,"Priority level")),q.xp6(2),q.Q6J("ngModel",i.entity.priority_level)("ngClass",0==i.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=i.entity.is_active),q.xp6(2),q.Oqu(q.lcZ(43,82,"Normal")),q.xp6(3),q.Oqu(q.lcZ(46,84,"Hurry up")),q.xp6(3),q.Oqu(q.lcZ(49,86,"Urgent")),q.xp6(3),q.Oqu(q.lcZ(52,88,"Very urgent")),q.xp6(4),q.Oqu(q.lcZ(56,90,"Related requests")),q.xp6(2),q.Q6J("multiple",!0)("items",i.related_requests)("closeOnSelect",!1)("placeholder",q.lcZ(59,92,"Please choose"))("notFoundText",q.lcZ(60,94,"Not found item"))("ngModel",i.entity.related_ids)("disabled",0!=i.entity.is_active),q.xp6(9),q.hij("",q.lcZ(67,96,"Estimated cost")," (VND)"),q.xp6(2),q.Q6J("ngClass",0==i.entity.is_active?"form-control":"form-control jdisabled")("ngModel",i.entity.estimated_cost)("disabled",0!=i.entity.is_active),q.xp6(3),q.Oqu(q.lcZ(72,98,"Content")),q.xp6(2),q.Q6J("ngIf",0==i.entity.is_active),q.xp6(1),q.Q6J("ngIf",0!=i.entity.is_active),q.xp6(3),q.hij("",q.lcZ(78,100,"Attachment (if any)")," (.doc,.docx,.pdf) "),q.xp6(2),q.Q6J("ngIf",null!=i._originFile),q.xp6(1),q.Q6J("ngIf",0==i.entity.is_active&&null==i.entity.attached_file),q.xp6(1),q.Q6J("ngModel",i.entityUpload.fileUpload),q.xp6(1),q.Q6J("ngIf",null!=i.entity.attached_file),q.xp6(3),q.hij("",q.lcZ(86,102,"More attachment (if any)")," (.doc,.docx,.pdf) "),q.xp6(2),q.Q6J("ngIf",0==i.entity.is_active),q.xp6(2),q.Q6J("ngForOf",i.other_attached_files),q.xp6(3),q.Oqu(q.lcZ(93,104,"Handling staff")),q.xp6(6),q.hij(" ",q.lcZ(99,106,"Processing no.")," "),q.xp6(3),q.Oqu(q.lcZ(102,108,"Fullname")),q.xp6(3),q.Oqu(q.lcZ(105,110,"Title1")),q.xp6(3),q.Oqu(q.lcZ(108,112,"Method1")),q.xp6(3),q.Oqu(q.lcZ(111,114,"Time")),q.xp6(3),q.Oqu(q.lcZ(114,116,"Actions")),q.xp6(3),q.Q6J("ngForOf",i.handling_users),q.xp6(1),q.Q6J("ngIf",0==i.entity.is_active)}}function nt(e,t){1&e&&(q.TgZ(0,"div",152),q.TgZ(1,"h4",50),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.qZA()),2&e&&(q.xp6(2),q.hij(" ",q.lcZ(3,1,"No records now!!!")," "))}function it(e,t){1&e&&q._UZ(0,"img",156)}function at(e,t){if(1&e&&(q.ynx(0),q._uU(1),q.ALo(2,"date"),q.ALo(3,"date"),q.BQk()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.AsE(", ",q.xi3(2,2,n.timestamp,"HH:mm a")," - ",q.xi3(3,5,n.timestamp,"dd/MM/yyyy"),"")}}function ot(e,t){if(1&e&&(q.TgZ(0,"div",152),q.TgZ(1,"div"),q.YNc(2,it,1,0,"img",153),q.qZA(),q.TgZ(3,"div",154),q.TgZ(4,"h6"),q._uU(5),q.TgZ(6,"span",155),q._uU(7),q.ALo(8,"date"),q.qZA(),q.qZA(),q._uU(9),q.ALo(10,"translate"),q.YNc(11,at,4,8,"ng-container",27),q.qZA(),q.qZA()),2&e){var n=t.$implicit;q.xp6(1),q.Gre("timeline-round m-r-30 timeline-line-1 ",null!=n.timestamp?"":n.flag?"bg-info":"bg-warning",""),q.xp6(1),q.Q6J("ngIf",null!=n.timestamp),q.xp6(3),q.hij(" ",n.user.name," "),q.xp6(2),q.Oqu(q.xi3(8,8,n.timestamp,"dd/MM/yyyy HH:mm")),q.xp6(2),q.hij(" ",q.lcZ(10,11,n.content),""),q.xp6(2),q.Q6J("ngIf",null!=n.timestamp)}}function lt(e,t){if(1&e&&(q.TgZ(0,"div",148),q._UZ(1,"hr"),q.TgZ(2,"div",2),q.TgZ(3,"div",6),q.TgZ(4,"div",149),q.YNc(5,nt,4,3,"div",150),q.YNc(6,ot,12,13,"div",151),q.qZA(),q.qZA(),q.qZA(),q.qZA()),2&e){var n=q.oxw(2);q.xp6(5),q.Q6J("ngIf",0==n._diagrams.length),q.xp6(1),q.Q6J("ngForOf",n._diagrams)}}function rt(e,t){1&e&&(q.TgZ(0,"div",152),q.TgZ(1,"h4",50),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.qZA()),2&e&&(q.xp6(2),q.hij(" ",q.lcZ(3,1,"No records now!!!")," "))}function st(e,t){if(1&e&&(q.ynx(0),q.TgZ(1,"small",52),q._uU(2),q.ALo(3,"translate"),q.ALo(4,"translate"),q.qZA(),q._UZ(5,"br"),q.BQk()),2&e){var n=q.oxw().$implicit;q.xp6(2),q.AsE("",q.lcZ(3,2,"Messages"),": ",q.lcZ(4,4,n.messages),"")}}function ct(e,t){if(1&e&&(q.ynx(0),q.TgZ(1,"small",52),q._uU(2),q.ALo(3,"translate"),q.qZA(),q._UZ(4,"br"),q.BQk()),2&e){var n=q.oxw().$implicit;q.xp6(2),q.AsE("",q.lcZ(3,2,"Content"),": ",n.content,"")}}function ut(e,t){if(1&e&&(q.TgZ(0,"small",52),q._uU(1),q.ALo(2,"translate"),q.ALo(3,"translate"),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.AsE("",q.lcZ(2,2,"Approved cost"),": ",q.lcZ(3,4,n.approved_cost),"")}}function dt(e,t){if(1&e&&(q.TgZ(0,"div",152),q.TgZ(1,"div",157),q._UZ(2,"img",156),q.qZA(),q.TgZ(3,"div",154),q.TgZ(4,"h6"),q._uU(5),q.TgZ(6,"span",155),q._uU(7),q.ALo(8,"date"),q.qZA(),q.qZA(),q.YNc(9,st,6,6,"ng-container",27),q.YNc(10,ct,5,4,"ng-container",27),q.YNc(11,ut,4,6,"small",158),q.qZA(),q.qZA()),2&e){var n=t.$implicit;q.xp6(5),q.hij(" ",n.user.name," "),q.xp6(2),q.Oqu(q.xi3(8,5,n.timestamp,"dd/MM/yyyy HH:mm")),q.xp6(2),q.Q6J("ngIf",null!=n.messages),q.xp6(1),q.Q6J("ngIf",null!=n.content),q.xp6(1),q.Q6J("ngIf",null!=n.approved_cost)}}function gt(e,t){if(1&e&&(q.TgZ(0,"div",73),q._UZ(1,"hr"),q.TgZ(2,"div",2),q.TgZ(3,"div",6),q.TgZ(4,"div",149),q.YNc(5,rt,4,3,"div",150),q.YNc(6,dt,12,8,"div",151),q.qZA(),q.qZA(),q.qZA(),q.qZA()),2&e){var n=q.oxw(2);q.xp6(5),q.Q6J("ngIf",0==n._histories.length),q.xp6(1),q.Q6J("ngForOf",n._histories)}}function ft(e,t){if(1&e&&(q.ynx(0),q._UZ(1,"img",177),q.BQk()),2&e){var n=q.oxw(2).$implicit,i=q.oxw(3);q.xp6(1),q.Q6J("src",i.baseFolder+"/"+n.avatar,q.LSH)}}function pt(e,t){1&e&&(q.ynx(0),q._UZ(1,"img",178),q.BQk())}function _t(e,t){if(1&e&&(q.TgZ(0,"div",173),q.YNc(1,ft,2,1,"ng-container",27),q.YNc(2,pt,2,0,"ng-container",27),q.TgZ(3,"div",174),q.TgZ(4,"small",175),q._uU(5),q.qZA(),q.TgZ(6,"span",176),q._uU(7),q.ALo(8,"date"),q.qZA(),q.qZA(),q._uU(9),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Q6J("ngIf",null!=n.avatar&&""!=n.avatar),q.xp6(1),q.Q6J("ngIf",null==n.avatar||""==n.avatar),q.xp6(3),q.hij("",n.name,","),q.xp6(2),q.Oqu(q.xi3(8,5,null==n?null:n.timestamp,"dd/MM/yyyy HH:mm a")),q.xp6(2),q.hij(" ",null==n?null:n.messages," ")}}function ht(e,t){if(1&e&&(q.ynx(0),q._UZ(1,"img",181),q.BQk()),2&e){var n=q.oxw(2).$implicit,i=q.oxw(3);q.xp6(1),q.Q6J("src",i.baseFolder+"/"+n.avatar,q.LSH)}}function Zt(e,t){1&e&&(q.ynx(0),q._UZ(1,"img",182),q.BQk())}function mt(e,t){if(1&e&&(q.TgZ(0,"div",179),q.YNc(1,ht,2,1,"ng-container",27),q.YNc(2,Zt,2,0,"ng-container",27),q.TgZ(3,"div",180),q.TgZ(4,"small",175),q._uU(5),q.qZA(),q.TgZ(6,"span",176),q._uU(7),q.ALo(8,"date"),q.qZA(),q.qZA(),q._uU(9),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Q6J("ngIf",null!=n.avatar&&""!=n.avatar),q.xp6(1),q.Q6J("ngIf",null==n.avatar||""==n.avatar),q.xp6(3),q.hij("",n.name,","),q.xp6(2),q.Oqu(q.xi3(8,5,null==n?null:n.timestamp,"dd/MM/yyyy HH:mm a")),q.xp6(2),q.hij(" ",null==n?null:n.messages," ")}}var vt=function(e){return{clearfix:e}};function At(e,t){if(1&e&&(q.TgZ(0,"li",170),q.YNc(1,_t,10,8,"div",171),q.YNc(2,mt,10,8,"ng-template",null,172,q.W1O),q.qZA()),2&e){var n=t.$implicit,i=q.MAs(3),a=q.oxw(3);q.Q6J("ngClass",q.VKq(3,vt,n.depended_id==a.user.id)),q.xp6(1),q.Q6J("ngIf",n.depended_id!=a.user.id)("ngIfElse",i)}}function yt(e,t){1&e&&(q.ynx(0),q.TgZ(1,"div",183),q.TgZ(2,"div",184),q._UZ(3,"img",185),q.qZA(),q.qZA(),q.BQk())}function bt(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"div",73),q.TgZ(1,"div",2),q.TgZ(2,"div",6),q.TgZ(3,"div",159),q.TgZ(4,"div",160),q.TgZ(5,"div",161),q.TgZ(6,"div",162),q.TgZ(7,"input",163),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(2)._contents=e})("change",function(){return q.CHM(n),q.oxw(2)._addChat()}),q.ALo(8,"translate"),q.qZA(),q.TgZ(9,"ul",164),q.TgZ(10,"li",165),q.TgZ(11,"a",166),q._UZ(12,"i",167),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(13,"div",168),q.TgZ(14,"ul"),q.YNc(15,At,4,5,"li",169),q.YNc(16,yt,4,0,"ng-container",27),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA()}if(2&e){var i=q.oxw(2);q.xp6(7),q.MGl("placeholder","",q.lcZ(8,4,"Enter content"),"..."),q.Q6J("ngModel",i._contents),q.xp6(8),q.Q6J("ngForOf",i.chats),q.xp6(1),q.Q6J("ngIf",!(null!=i.chats&&i.chats.length))}}function xt(e,t){if(1&e){var n=q.EpF();q.ynx(0),q.TgZ(1,"button",188),q.NdJ("click",function(){return q.CHM(n),q.oxw(3).cancelSubmission()}),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.BQk()}2&e&&(q.xp6(2),q.hij(" ",q.lcZ(3,1,"Cancel")," "))}function St(e,t){if(1&e){var n=q.EpF();q.ynx(0),q.TgZ(1,"button",189),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(4),t=q.MAs(97);return e.disagreeSubmission(t,"disagree")}),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.BQk()}2&e&&(q.xp6(2),q.hij(" ",q.lcZ(3,1,"Disagree")," "))}function Tt(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",190),q._UZ(2,"img",191),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function qt(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"button",193),q.NdJ("click",function(){return q.CHM(n),q.oxw(5).submissionChange(0)}),q._uU(1),q.ALo(2,"translate"),q.qZA()}2&e&&(q.xp6(1),q.hij(" ",q.lcZ(2,1,"Save")," "))}function Mt(e,t){if(1&e&&(q.ynx(0),q.YNc(1,qt,3,3,"button",192),q.BQk()),2&e){var n=q.oxw(4);q.xp6(1),q.Q6J("ngIf",!n.isSave)}}function Ct(e,t){1&e&&q.GkF(0)}function Nt(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",194),q._UZ(2,"img",191),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function wt(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"button",196),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(5);return e.approvedByUser(e.entity.is_active,1)}),q._uU(1),q.ALo(2,"translate"),q.qZA()}2&e&&(q.xp6(1),q.hij(" ",q.lcZ(2,1,"Sign")," "))}function Ut(e,t){if(1&e&&(q.ynx(0),q.YNc(1,wt,3,3,"button",195),q.BQk()),2&e){var n=q.oxw(4);q.xp6(1),q.Q6J("ngIf",!n.isSaveSigned)}}function kt(e,t){if(1&e&&(q.TgZ(0,"ng-contatiner"),q.YNc(1,St,4,3,"ng-container",27),q.YNc(2,Tt,5,3,"ng-container",27),q.YNc(3,Mt,2,1,"ng-container",27),q.YNc(4,Ct,1,0,"ng-container",27),q.YNc(5,Nt,5,3,"ng-container",27),q.YNc(6,Ut,2,1,"ng-container",27),q.qZA()),2&e){var n=q.oxw(3);q.xp6(1),q.Q6J("ngIf",n._flagShow),q.xp6(1),q.Q6J("ngIf",n.isSave),q.xp6(1),q.Q6J("ngIf","ADD"==n._flagModal),q.xp6(1),q.Q6J("ngIf","ADD"!=n._flagModal&&0!=n.entity.is_active),q.xp6(1),q.Q6J("ngIf",n.isSaveSigned),q.xp6(1),q.Q6J("ngIf","ADD"!=n._flagModal&&n._flagShow)}}function Et(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"button",189),q.NdJ("click",function(){return q.CHM(n),q.oxw(5).submissionRecall()}),q._uU(1),q.ALo(2,"translate"),q.qZA()}2&e&&(q.xp6(1),q.hij(" ",q.lcZ(2,1,"Recall")," "))}function Jt(e,t){if(1&e&&(q.ynx(0),q.YNc(1,Et,3,3,"button",197),q.BQk()),2&e){var n=q.oxw(4);q.xp6(1),q.Q6J("ngIf",!n.isSaveSigned)}}function Dt(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"button",196),q.NdJ("click",function(){return q.CHM(n),q.oxw(5).submissionChange(1)}),q._uU(1),q.ALo(2,"translate"),q.qZA()}if(2&e){var i=q.oxw(5);q.xp6(1),q.hij(" ",q.lcZ(2,1,0==i.entity.is_active?"Sign":"Resign")," ")}}function Wt(e,t){if(1&e&&(q.ynx(0),q.YNc(1,Dt,3,3,"button",195),q.BQk()),2&e){var n=q.oxw(4);q.xp6(1),q.Q6J("ngIf",!n.isSaveSigned)}}function Lt(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"button",196),q.NdJ("click",function(){return q.CHM(n),q.oxw(5).submissionChange(1)}),q._uU(1),q.ALo(2,"translate"),q.qZA()}2&e&&(q.xp6(1),q.hij(" ",q.lcZ(2,1,"Sign")," "))}function It(e,t){if(1&e&&(q.ynx(0),q.YNc(1,Lt,3,3,"button",195),q.BQk()),2&e){var n=q.oxw(4);q.xp6(1),q.Q6J("ngIf",!n.isSaveSigned)}}function Qt(e,t){if(1&e&&(q.ynx(0),q.YNc(1,Jt,2,1,"ng-container",27),q.YNc(2,Wt,2,1,"ng-container",27),q.YNc(3,It,2,1,"ng-container",27),q.BQk()),2&e){var n=q.oxw(3);q.xp6(1),q.Q6J("ngIf",1==n.entity.is_active&&null!=n.entity.id),q.xp6(1),q.Q6J("ngIf",0==n.entity.is_active&&null==n.entity.id||2==n.entity.is_active),q.xp6(1),q.Q6J("ngIf",0==n.entity.is_active&&"ADD"!=n._flagModal&&null==n.entity.logs)}}function Ot(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"div",186),q.TgZ(1,"button",187),q.NdJ("click",function(){return q.CHM(n),q.oxw().$implicit.dismiss("Cross click")}),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.YNc(4,xt,4,3,"ng-container",27),q.YNc(5,kt,7,6,"ng-contatiner",27),q.YNc(6,Qt,4,3,"ng-container",27),q.qZA()}if(2&e){var i=q.oxw(2);q.xp6(2),q.hij(" ",q.lcZ(3,4,"Close")," "),q.xp6(2),q.Q6J("ngIf",0==i.entity.is_active&&null!=i.entity.id),q.xp6(1),q.Q6J("ngIf",2!=i.entity.is_active),q.xp6(1),q.Q6J("ngIf",i.entity.created_by==i.user.id)}}var Pt=function(){return{"max-height":"calc(100vh - 300px)"}},Rt=function(){return{"max-height":"calc(100vh - 300px)","overflow-y":"auto"}};function Gt(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",66),q.TgZ(1,"div",67),q.TgZ(2,"h4",68),q._uU(3),q.ALo(4,"translate"),q.ALo(5,"translate"),q.ALo(6,"translate"),q.qZA(),q.TgZ(7,"button",69),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(8,"span",70),q._uU(9,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(10,"div",71),q.TgZ(11,"div",72),q.TgZ(12,"div",73),q.TgZ(13,"div",7),q.TgZ(14,"button",74),q.NdJ("click",function(){return q.CHM(n),q.oxw()._chooseButton(1)}),q._uU(15),q.ALo(16,"translate"),q.qZA(),q.YNc(17,ve,3,4,"button",75),q.YNc(18,Ae,4,4,"button",75),q.YNc(19,ye,4,4,"button",75),q.qZA(),q.qZA(),q.qZA(),q.TgZ(20,"div",76),q.YNc(21,tt,118,118,"ng-container",27),q.YNc(22,lt,7,2,"div",77),q.YNc(23,gt,7,2,"div",78),q.YNc(24,bt,17,6,"div",78),q.qZA(),q.qZA(),q.YNc(25,Ot,7,6,"div",79),q.qZA()}if(2&e){var i=q.oxw();q.xp6(3),q.AsE(" ","ADD"==i._flagModal?q.lcZ(4,13,"Add new"):q.lcZ(5,15,"Update")," ",q.lcZ(6,17,i._title)," "),q.xp6(11),q.Q6J("ngClass",1==i._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),q.xp6(1),q.hij(" ",q.lcZ(16,19,"General information")," "),q.xp6(2),q.Q6J("ngIf","ADD"!=i._flagModal),q.xp6(1),q.Q6J("ngIf","ADD"!=i._flagModal&&i._authenService.hasPermission("USERS","read")),q.xp6(1),q.Q6J("ngIf","ADD"!=i._flagModal),q.xp6(1),q.Q6J("ngStyle",4==i._flagButton?q.DdM(21,Pt):q.DdM(22,Rt)),q.xp6(1),q.Q6J("ngIf",1==i._flagButton),q.xp6(1),q.Q6J("ngIf",2==i._flagButton&&"ADD"!=i._flagModal),q.xp6(1),q.Q6J("ngIf",3==i._flagButton&&"ADD"!=i._flagModal),q.xp6(1),q.Q6J("ngIf",4==i._flagButton&&"ADD"!=i._flagModal),q.xp6(1),q.Q6J("ngIf",1==i._flagButton)}}function jt(e,t){if(1&e&&(q.TgZ(0,"option",230),q._uU(1),q.qZA()),2&e){var n=t.$implicit,i=q.oxw(2);q.s9C("value",n.id),q.xp6(1),q.AsE(" ",n.code," - ","en"==i.user.lang?n.name_e:n.name_l," ")}}function Yt(e,t){if(1&e&&(q.TgZ(0,"span"),q._uU(1),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Oqu(n.order)}}function Ht(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"input",234),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().$implicit.order=e}),q.qZA()}if(2&e){var i=q.oxw(),a=i.$implicit;q.MGl("name","or",i.index+1,""),q.Q6J("ngModel",a.order)}}function Ft(e,t){if(1&e&&(q.TgZ(0,"span"),q._uU(1),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Oqu(n.user.title)}}function Bt(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"nz-tree-select",142),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(3)._selectDept=e})("ngModelChange",function(){q.CHM(n);var e=q.oxw().$implicit,t=q.oxw(2);return t._getUser(e,t._selectDept)}),q.ALo(1,"translate"),q.qZA()}if(2&e){var i=q.oxw(3);q.s9C("nzPlaceHolder",q.lcZ(1,4,"Please choose")),q.Q6J("nzExpandedKeys",i.expandKeys)("nzNodes",i._departments)("ngModel",i._selectDept)}}function zt(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Only view")))}function $t(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Passed signature")))}function Kt(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Reviewed signature")))}function Vt(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Approved signature")))}function Xt(e,t){if(1&e&&(q.TgZ(0,"span"),q.YNc(1,zt,3,3,"span",27),q.YNc(2,$t,3,3,"span",27),q.YNc(3,Kt,3,3,"span",27),q.YNc(4,Vt,3,3,"span",27),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Q6J("ngIf",0==n.role),q.xp6(1),q.Q6J("ngIf",1==n.role),q.xp6(1),q.Q6J("ngIf",2==n.role),q.xp6(1),q.Q6J("ngIf",3==n.role)}}function en(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"select",143),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().$implicit.role=e})("change",function(){q.CHM(n);var e=q.oxw().$implicit,t=q.oxw(2);return t._getUser(e,t._selectDept)}),q.TgZ(1,"option",91),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.TgZ(4,"option",92),q._uU(5),q.ALo(6,"translate"),q.qZA(),q.TgZ(7,"option",93),q._uU(8),q.ALo(9,"translate"),q.qZA(),q.TgZ(10,"option",94),q._uU(11),q.ALo(12,"translate"),q.qZA(),q.qZA()}if(2&e){var i=q.oxw(),a=i.$implicit;q.MGl("name","r",i.index+1,""),q.Q6J("ngModel",a.role),q.xp6(2),q.Oqu(q.lcZ(3,6,"Only view")),q.xp6(3),q.hij(" ",q.lcZ(6,8,"Passed signature")," "),q.xp6(3),q.hij(" ",q.lcZ(9,10,"Reviewed signature")," "),q.xp6(3),q.hij(" ",q.lcZ(12,12,"Approved signature")," ")}}function tn(e,t){if(1&e&&(q.TgZ(0,"span"),q._uU(1),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Oqu(n.time)}}function nn(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"input",235),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().$implicit.time=e}),q.qZA()}if(2&e){var i=q.oxw(),a=i.$implicit;q.MGl("name","timer",i.index+1,""),q.Q6J("ngModel",a.time)}}function an(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"tr"),q.TgZ(1,"td",26),q.YNc(2,Yt,2,1,"span",27),q.YNc(3,Ht,1,2,"input",231),q.qZA(),q.TgZ(4,"td",26),q.YNc(5,Ft,2,1,"span",27),q.YNc(6,Bt,2,6,"nz-tree-select",232),q.qZA(),q.TgZ(7,"td",26),q.YNc(8,Xt,5,4,"span",27),q.YNc(9,en,13,14,"select",139),q.qZA(),q.TgZ(10,"td",26),q.YNc(11,tn,2,1,"span",27),q.YNc(12,nn,1,2,"input",233),q.qZA(),q.TgZ(13,"td",26),q.TgZ(14,"a",144),q.NdJ("click",function(){var e=q.CHM(n).$implicit;return q.oxw(2)._removeItemHandle(e)}),q._UZ(15,"i",145),q.qZA(),q.qZA(),q.qZA()}if(2&e){var i=t.$implicit;q.xp6(2),q.Q6J("ngIf",i.flag),q.xp6(1),q.Q6J("ngIf",!i.flag),q.xp6(2),q.Q6J("ngIf",i.flag),q.xp6(1),q.Q6J("ngIf",!i.flag),q.xp6(2),q.Q6J("ngIf",i.flag),q.xp6(1),q.Q6J("ngIf",!i.flag),q.xp6(2),q.Q6J("ngIf",i.flag),q.xp6(1),q.Q6J("ngIf",!i.flag)}}function on(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",190),q._UZ(2,"img",191),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function ln(e,t){if(1&e&&(q.TgZ(0,"button",236),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function rn(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",198,199),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChangeP()}),q.TgZ(2,"div",67),q.TgZ(3,"h4",68),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.ALo(7,"translate"),q.qZA(),q.TgZ(8,"button",69),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(9,"span",70),q._uU(10,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(11,"div",200),q.TgZ(12,"div",72),q.TgZ(13,"div",201),q.TgZ(14,"label",202),q._uU(15),q.ALo(16,"translate"),q.TgZ(17,"span",50),q._uU(18,"(*)"),q.qZA(),q._uU(19," - "),q.TgZ(20,"a",116),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(),t=q.MAs(87);return e._popupCategory(t,null)}),q._UZ(21,"i",15),q.qZA(),q.qZA(),q.TgZ(22,"select",203),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.profile_group_id=e}),q.TgZ(23,"option",204),q._uU(24),q.ALo(25,"translate"),q.qZA(),q.YNc(26,jt,2,3,"option",205),q.qZA(),q.qZA(),q.TgZ(27,"div",201),q.TgZ(28,"label",206),q._uU(29),q.ALo(30,"translate"),q.TgZ(31,"span",50),q._uU(32,"(*)"),q.qZA(),q.qZA(),q.TgZ(33,"input",207),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.code=e})("keyup",function(){return q.CHM(n),q.oxw().removeBlankTypeProfile()}),q.qZA(),q.qZA(),q.TgZ(34,"div",201),q.TgZ(35,"label",208),q._uU(36),q.ALo(37,"translate"),q.TgZ(38,"span",50),q._uU(39,"(*)"),q.qZA(),q.qZA(),q.TgZ(40,"input",209),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.title=e}),q.qZA(),q.qZA(),q.TgZ(41,"div",201),q.TgZ(42,"label",210),q._uU(43),q.ALo(44,"translate"),q.TgZ(45,"span",50),q._uU(46,"(*)"),q.qZA(),q._uU(47," - "),q.TgZ(48,"a",116),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(),t=q.MAs(89);return e._popupCategory1(t,null)}),q._UZ(49,"i",15),q.qZA(),q.qZA(),q.TgZ(50,"ng-select",211),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.document_id=e}),q.ALo(51,"translate"),q.ALo(52,"translate"),q.qZA(),q.qZA(),q.TgZ(53,"div",73),q.TgZ(54,"label",212),q._uU(55),q.ALo(56,"translate"),q.TgZ(57,"span",50),q._uU(58,"(*)"),q.qZA(),q.qZA(),q.TgZ(59,"div",23),q.TgZ(60,"table",115),q.TgZ(61,"thead"),q.TgZ(62,"th",26),q._uU(63),q.ALo(64,"translate"),q.qZA(),q.TgZ(65,"th",26),q._uU(66),q.ALo(67,"translate"),q.TgZ(68,"a",116),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(),t=q.MAs(93);return e._popupDepartment(t,null)}),q._UZ(69,"i",15),q.qZA(),q.qZA(),q.TgZ(70,"th",26),q._uU(71),q.ALo(72,"translate"),q.qZA(),q.TgZ(73,"th",26),q._uU(74),q.ALo(75,"translate"),q.ALo(76,"translate"),q.qZA(),q.TgZ(77,"th",26),q._uU(78),q.ALo(79,"translate"),q.qZA(),q.qZA(),q.TgZ(80,"tbody"),q.YNc(81,an,16,8,"tr",28),q.qZA(),q.TgZ(82,"tfoot"),q.TgZ(83,"tr"),q._UZ(84,"td",213),q.TgZ(85,"td",26),q.TgZ(86,"a",147),q.NdJ("click",function(){return q.CHM(n),q.oxw()._addItemHandle(null)}),q._UZ(87,"i",15),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(88,"div",73),q.TgZ(89,"label",214),q._uU(90),q.ALo(91,"translate"),q.qZA(),q.TgZ(92,"ck-editor",215,216),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.description=e}),q.qZA(),q.qZA(),q.TgZ(94,"div",88),q.TgZ(95,"label",217),q._uU(96),q.ALo(97,"translate"),q.qZA(),q.TgZ(98,"div",218),q.TgZ(99,"input",219),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.is_active=e}),q.qZA(),q.TgZ(100,"label",220),q._uU(101),q.ALo(102,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(103,"div",82),q.TgZ(104,"label",221),q._uU(105),q.ALo(106,"translate"),q.qZA(),q.TgZ(107,"input",222),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.estimated_cost=e}),q.qZA(),q.qZA(),q.TgZ(108,"div",223),q.TgZ(109,"label",224),q._uU(110),q.ALo(111,"translate"),q.qZA(),q.TgZ(112,"input",225,226),q.NdJ("change",function(e){q.CHM(n);var t=q.MAs(113);return q.oxw().fileEvent1(e,t)}),q.qZA(),q.TgZ(114,"input",227),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entityUpload1.fileUpload=e}),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(115,"div",186),q.TgZ(116,"button",228),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(117),q.ALo(118,"translate"),q.qZA(),q.YNc(119,on,5,3,"ng-container",27),q.YNc(120,ln,3,4,"button",229),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ","ADD"==i._flagSubModal?q.lcZ(5,41,"Add new"):q.lcZ(6,43,"Update")," ",q.lcZ(7,45,i._subTitle)," "),q.xp6(11),q.hij("",q.lcZ(16,47,"Profile group")," "),q.xp6(7),q.Q6J("ngModel",i.entitySub.profile_group_id),q.xp6(2),q.Oqu(q.lcZ(25,49,"Please choose")),q.xp6(2),q.Q6J("ngForOf",i._catprofiles),q.xp6(3),q.hij("",q.lcZ(30,51,"Profile code")," "),q.xp6(4),q.Q6J("ngModel",i.entitySub.code),q.xp6(3),q.hij("",q.lcZ(37,53,"Profile name")," "),q.xp6(4),q.Q6J("ngModel",i.entitySub.title),q.xp6(3),q.hij("",q.lcZ(44,55,"Type of document")," "),q.xp6(7),q.Q6J("items",i._catdocuments)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("bindLabel","en"==i.user.lang?"name_e":"name_l")("ngModel",i.entitySub.document_id)("placeholder",q.lcZ(51,57,"Please choose"))("notFoundText",q.lcZ(52,59,"Not found item")),q.xp6(5),q.hij("",q.lcZ(56,61,"Configure handling users")," "),q.xp6(8),q.hij(" ",q.lcZ(64,63,"Processing no.")," "),q.xp6(3),q.hij(" ",q.lcZ(67,65,"Manager Unit")," - "),q.xp6(5),q.Oqu(q.lcZ(72,67,"Roles")),q.xp6(3),q.AsE(" ",q.lcZ(75,69,"Time")," (",q.lcZ(76,71,"hours"),") "),q.xp6(4),q.Oqu(q.lcZ(79,73,"Actions")),q.xp6(3),q.Q6J("ngForOf",i.entitySub.handle_users.data),q.xp6(9),q.Oqu(q.lcZ(91,75,"Description")),q.xp6(2),q.Q6J("ngModel",i.entitySub.description)("fullPage",!0)("config",i.ckEditorConfig),q.xp6(4),q.Oqu(q.lcZ(97,77,"Status")),q.xp6(3),q.Q6J("ngModel",i.entitySub.is_active),q.xp6(2),q.Oqu(q.lcZ(102,79,i.entitySub.is_active?"activated":"not activated")),q.xp6(4),q.hij("",q.lcZ(106,81,"Estimated cost")," (VND)"),q.xp6(2),q.Q6J("ngModel",i.entitySub.estimated_cost),q.xp6(3),q.hij("",q.lcZ(111,83,"Attachment (if any)")," (.doc,.docx,.pdf)"),q.xp6(4),q.Q6J("ngModel",i.entityUpload1.fileUpload),q.xp6(3),q.hij(" ",q.lcZ(118,85,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSaveSub),q.xp6(1),q.Q6J("ngIf",!i.isSaveSub)}}function sn(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",190),q._UZ(2,"img",191),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function cn(e,t){if(1&e&&(q.TgZ(0,"button",236),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function un(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",198,237),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChangeProfileGroup()}),q.TgZ(2,"div",67),q.TgZ(3,"h4",68),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.ALo(7,"translate"),q.qZA(),q.TgZ(8,"button",69),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(9,"span",70),q._uU(10,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(11,"div",71),q.TgZ(12,"div",72),q.TgZ(13,"div",223),q.TgZ(14,"div",238),q.TgZ(15,"label",239),q._uU(16),q.ALo(17,"translate"),q.TgZ(18,"span",50),q._uU(19,"(*)"),q.qZA(),q.qZA(),q.TgZ(20,"input",240),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.code=e})("keyup",function(){return q.CHM(n),q.oxw().removeBlank()}),q.ALo(21,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(22,"div",73),q.TgZ(23,"div",238),q.TgZ(24,"label",241),q._uU(25),q.ALo(26,"translate"),q.TgZ(27,"span",50),q._uU(28,"(*)"),q.qZA(),q.qZA(),q.TgZ(29,"input",242),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.name_l=e}),q.ALo(30,"translate"),q.ALo(31,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(32,"div",73),q.TgZ(33,"div",238),q.TgZ(34,"input",243),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.name_e=e}),q.ALo(35,"translate"),q.ALo(36,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(37,"div",223),q.TgZ(38,"label",244),q._uU(39),q.ALo(40,"translate"),q.qZA(),q.TgZ(41,"div",218),q.TgZ(42,"input",245),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.is_active=e}),q.qZA(),q.TgZ(43,"label",246),q._uU(44),q.ALo(45,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(46,"div",186),q.TgZ(47,"button",228),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(48),q.ALo(49,"translate"),q.qZA(),q.YNc(50,sn,5,3,"ng-container",27),q.YNc(51,cn,3,4,"button",229),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ",null==i.entitySubIn.id?q.lcZ(5,18,"Add new"):q.lcZ(6,20,"Update")," ",q.lcZ(7,22,"Profile group")," "),q.xp6(12),q.hij("",q.lcZ(17,24,"Profile code")," "),q.xp6(4),q.s9C("placeholder",q.lcZ(21,26,"Profile code")),q.Q6J("ngModel",i.entitySubIn.code),q.xp6(5),q.hij("",q.lcZ(26,28,"Group name")," "),q.xp6(4),q.hYB("placeholder","",q.lcZ(30,30,"Group name")," (",q.lcZ(31,32,"Vietnamese"),")"),q.Q6J("ngModel",i.entitySubIn.name_l),q.xp6(5),q.hYB("placeholder","",q.lcZ(35,34,"Group name")," (",q.lcZ(36,36,"English"),")"),q.Q6J("ngModel",i.entitySubIn.name_e),q.xp6(5),q.Oqu(q.lcZ(40,38,"Status")),q.xp6(3),q.Q6J("ngModel",i.entitySubIn.is_active),q.xp6(2),q.Oqu(q.lcZ(45,40,i.entitySubIn.is_active?"activated":"not activated")),q.xp6(4),q.hij(" ",q.lcZ(49,42,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSaveSub1),q.xp6(1),q.Q6J("ngIf",!i.isSaveSub1)}}function dn(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",190),q._UZ(2,"img",191),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function gn(e,t){if(1&e&&(q.TgZ(0,"button",236),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function fn(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",198,247),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChangeProfileGroup1()}),q.TgZ(2,"div",67),q.TgZ(3,"h4",68),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.ALo(7,"translate"),q.qZA(),q.TgZ(8,"button",69),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(9,"span",70),q._uU(10,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(11,"div",71),q.TgZ(12,"div",72),q.TgZ(13,"div",223),q.TgZ(14,"div",238),q.TgZ(15,"label",248),q._uU(16),q.ALo(17,"translate"),q.TgZ(18,"span",50),q._uU(19,"(*)"),q.qZA(),q.qZA(),q.TgZ(20,"input",249),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.code=e})("keyup",function(){return q.CHM(n),q.oxw().removeBlank()}),q.ALo(21,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(22,"div",73),q.TgZ(23,"div",238),q.TgZ(24,"label",250),q._uU(25),q.ALo(26,"translate"),q.TgZ(27,"span",50),q._uU(28,"(*)"),q.qZA(),q.qZA(),q.TgZ(29,"input",251),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.name_l=e}),q.ALo(30,"translate"),q.ALo(31,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(32,"div",73),q.TgZ(33,"div",238),q.TgZ(34,"input",252),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.name_e=e}),q.ALo(35,"translate"),q.ALo(36,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(37,"div",223),q.TgZ(38,"label",253),q._uU(39),q.ALo(40,"translate"),q.qZA(),q.TgZ(41,"div",218),q.TgZ(42,"input",254),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.is_active=e}),q.qZA(),q.TgZ(43,"label",255),q._uU(44),q.ALo(45,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(46,"div",186),q.TgZ(47,"button",228),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(48),q.ALo(49,"translate"),q.qZA(),q.YNc(50,dn,5,3,"ng-container",27),q.YNc(51,gn,3,4,"button",229),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ",null==i.entitySubIn.id?q.lcZ(5,18,"Add new"):q.lcZ(6,20,"Update")," ",q.lcZ(7,22,"Type of document")," "),q.xp6(12),q.hij("",q.lcZ(17,24,"Document code")," "),q.xp6(4),q.s9C("placeholder",q.lcZ(21,26,"Document code")),q.Q6J("ngModel",i.entitySubIn.code),q.xp6(5),q.hij("",q.lcZ(26,28,"Document name")," "),q.xp6(4),q.hYB("placeholder","",q.lcZ(30,30,"Document name")," (",q.lcZ(31,32,"Vietnamese"),")"),q.Q6J("ngModel",i.entitySubIn.name_l),q.xp6(5),q.hYB("placeholder","",q.lcZ(35,34,"Document name")," (",q.lcZ(36,36,"English"),")"),q.Q6J("ngModel",i.entitySubIn.name_e),q.xp6(5),q.Oqu(q.lcZ(40,38,"Status")),q.xp6(3),q.Q6J("ngModel",i.entitySubIn.is_active),q.xp6(2),q.Oqu(q.lcZ(45,40,i.entitySubIn.is_active?"activated":"not activated")),q.xp6(4),q.hij(" ",q.lcZ(49,42,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSaveSub1),q.xp6(1),q.Q6J("ngIf",!i.isSaveSub1)}}function pn(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",190),q._UZ(2,"img",191),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function _n(e,t){if(1&e&&(q.TgZ(0,"button",236),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function hn(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",198,256),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChangeTitle()}),q.TgZ(2,"div",67),q.TgZ(3,"h4",68),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.qZA(),q.TgZ(7,"button",69),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(8,"span",70),q._uU(9,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(10,"div",71),q.TgZ(11,"div",72),q.TgZ(12,"div",223),q.TgZ(13,"div",238),q.TgZ(14,"label",257),q._uU(15),q.ALo(16,"translate"),q.TgZ(17,"span",50),q._uU(18,"(*)"),q.qZA(),q.qZA(),q.TgZ(19,"input",258),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.code=e})("keyup",function(){return q.CHM(n),q.oxw().removeBlank()}),q.ALo(20,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(21,"div",73),q.TgZ(22,"div",238),q.TgZ(23,"label",259),q._uU(24),q.ALo(25,"translate"),q.TgZ(26,"span",50),q._uU(27,"(*)"),q.qZA(),q.qZA(),q.TgZ(28,"input",260),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.name_l=e}),q.ALo(29,"translate"),q.ALo(30,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(31,"div",73),q.TgZ(32,"div",238),q.TgZ(33,"input",261),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.name_e=e}),q.ALo(34,"translate"),q.ALo(35,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(36,"div",223),q.TgZ(37,"label",262),q._uU(38),q.ALo(39,"translate"),q.qZA(),q.TgZ(40,"div",218),q.TgZ(41,"input",263),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.is_active=e}),q.qZA(),q.TgZ(42,"label",264),q._uU(43),q.ALo(44,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(45,"div",186),q.TgZ(46,"button",228),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(47),q.ALo(48,"translate"),q.qZA(),q.YNc(49,pn,5,3,"ng-container",27),q.YNc(50,_n,3,4,"button",229),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ",q.lcZ(5,18,"Add new")," ",q.lcZ(6,20,"Title1")," "),q.xp6(11),q.hij("",q.lcZ(16,22,"Code")," "),q.xp6(4),q.s9C("placeholder",q.lcZ(20,24,"Code")),q.Q6J("ngModel",i.entitySubIn.code),q.xp6(5),q.hij("",q.lcZ(25,26,"Name")," "),q.xp6(4),q.hYB("placeholder","",q.lcZ(29,28,"Name")," (",q.lcZ(30,30,"Vietnamese"),")"),q.Q6J("ngModel",i.entitySubIn.name_l),q.xp6(5),q.hYB("placeholder","",q.lcZ(34,32,"Name")," (",q.lcZ(35,34,"English"),")"),q.Q6J("ngModel",i.entitySubIn.name_e),q.xp6(5),q.Oqu(q.lcZ(39,36,"Status")),q.xp6(3),q.Q6J("ngModel",i.entitySubIn.is_active),q.xp6(2),q.Oqu(q.lcZ(44,38,i.entitySubIn.is_active?"activated":"not activated")),q.xp6(4),q.hij(" ",q.lcZ(48,40,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSaveSub1),q.xp6(1),q.Q6J("ngIf",!i.isSaveSub1)}}function Zn(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",190),q._UZ(2,"img",191),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function mn(e,t){if(1&e&&(q.TgZ(0,"button",236),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function vn(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",198,265),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChangeDepartment()}),q.TgZ(2,"div",67),q.TgZ(3,"h4",68),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.qZA(),q.TgZ(7,"button",69),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(8,"span",70),q._uU(9,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(10,"div",71),q.TgZ(11,"div",72),q.TgZ(12,"div",73),q.TgZ(13,"div",238),q.TgZ(14,"label",266),q._uU(15),q.ALo(16,"translate"),q.TgZ(17,"span",50),q._uU(18,"(*)"),q.qZA(),q.qZA(),q.TgZ(19,"input",267),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.dept_name_l=e}),q.ALo(20,"translate"),q.ALo(21,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(22,"div",73),q.TgZ(23,"div",238),q.TgZ(24,"input",268),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.dept_name_e=e}),q.ALo(25,"translate"),q.ALo(26,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(27,"div",223),q.TgZ(28,"label",269),q._uU(29),q.ALo(30,"translate"),q.qZA(),q.TgZ(31,"div",218),q.TgZ(32,"input",270),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySubIn.is_active=e}),q.qZA(),q.TgZ(33,"label",271),q._uU(34),q.ALo(35,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(36,"div",186),q.TgZ(37,"button",228),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(38),q.ALo(39,"translate"),q.qZA(),q.YNc(40,Zn,5,3,"ng-container",27),q.YNc(41,mn,3,4,"button",229),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ",q.lcZ(5,15,"Add new")," ",q.lcZ(6,17,"Department")," "),q.xp6(11),q.hij("",q.lcZ(16,19,"Name")," "),q.xp6(4),q.hYB("placeholder","",q.lcZ(20,21,"Name")," (",q.lcZ(21,23,"Vietnamese"),")"),q.Q6J("ngModel",i.entitySubIn.dept_name_l),q.xp6(5),q.hYB("placeholder","",q.lcZ(25,25,"Name")," (",q.lcZ(26,27,"English"),")"),q.Q6J("ngModel",i.entitySubIn.dept_name_e),q.xp6(5),q.Oqu(q.lcZ(30,29,"Status")),q.xp6(3),q.Q6J("ngModel",i.entitySubIn.is_active),q.xp6(2),q.Oqu(q.lcZ(35,31,i.entitySubIn.is_active?"activated":"not activated")),q.xp6(4),q.hij(" ",q.lcZ(39,33,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSaveSub1),q.xp6(1),q.Q6J("ngIf",!i.isSaveSub1)}}var An=function(e,t){return{url:e,password:t}};function yn(e,t){if(1&e&&q._UZ(0,"pdf-viewer",276),2&e){var n=q.oxw(2);q.Q6J("src",q.WLB(6,An,n._originFile,n._password))("stick-to-page",!0)("original-size",!1)("show-all",!0)("autoresize",!0)("render-text",!1)}}function bn(e,t){1&e&&(q.TgZ(0,"h3"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Processing")))}function xn(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"div",67),q.TgZ(1,"h4",68),q._uU(2),q.qZA(),q.TgZ(3,"button",69),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(4,"span",70),q._uU(5,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(6,"div",71),q.TgZ(7,"div",272),q.YNc(8,yn,1,9,"pdf-viewer",273),q.YNc(9,bn,3,3,"h3",27),q.qZA(),q.qZA(),q.TgZ(10,"div",186),q.TgZ(11,"button",274),q.NdJ("click",function(){return q.CHM(n),q.oxw().print()}),q._UZ(12,"i",275),q._uU(13),q.ALo(14,"translate"),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(2),q.hij(" ",i.entity.title," "),q.xp6(6),q.Q6J("ngIf",!i.isLoadingView),q.xp6(1),q.Q6J("ngIf",i.isLoadingView),q.xp6(4),q.hij(" ",q.lcZ(14,4,"Print")," ")}}function Sn(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",190),q._UZ(2,"img",191),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function Tn(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"a",285),q.NdJ("click",function(){return q.CHM(n),q.oxw(2)._submitRefused()}),q._uU(1),q.ALo(2,"translate"),q.qZA()}2&e&&(q.xp6(1),q.hij(" ",q.lcZ(2,1,"Save")," "))}function qn(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"div",67),q.TgZ(1,"h4",68),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.TgZ(4,"button",69),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(5,"span",70),q._uU(6,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(7,"div",71),q.TgZ(8,"div",238),q.TgZ(9,"div",73),q.TgZ(10,"label",277),q._uU(11),q.ALo(12,"translate"),q.qZA(),q.TgZ(13,"textarea",278),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entityApprove.content=e}),q.qZA(),q.qZA(),q.TgZ(14,"div",73),q.TgZ(15,"label",279),q._uU(16),q.ALo(17,"translate"),q.qZA(),q.TgZ(18,"input",280),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entityApprove.approved_cost=e}),q.qZA(),q.qZA(),q.TgZ(19,"div",73),q.TgZ(20,"label",279),q._uU(21),q.ALo(22,"translate"),q.qZA(),q.TgZ(23,"input",281,282),q.NdJ("change",function(e){q.CHM(n);var t=q.MAs(24);return q.oxw().fileEventApproved(e,t)}),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(25,"div",186),q.TgZ(26,"a",283),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(27),q.ALo(28,"translate"),q.qZA(),q.YNc(29,Sn,5,3,"ng-container",27),q.YNc(30,Tn,3,3,"a",284),q.qZA()}if(2&e){var i=q.oxw();q.xp6(2),q.hij(" ",q.lcZ(3,9,"Agree"==i._flagModalApprove?"Agree":"Disagree")," "),q.xp6(9),q.Oqu(q.lcZ(12,11,"Reason")),q.xp6(2),q.Q6J("ngModel",i.entityApprove.content),q.xp6(3),q.Oqu(q.lcZ(17,13,"Approved cost")),q.xp6(2),q.Q6J("ngModel",i.entityApprove.approved_cost),q.xp6(3),q.hij("",q.lcZ(22,15,"Attachment (if any)")," (.doc,.docx,.pdf)"),q.xp6(6),q.hij(" ",q.lcZ(28,17,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSaveApprove),q.xp6(1),q.Q6J("ngIf",!i.isSaveApprove)}}B().vfs=z.I.vfs;var Mn=function(){var n=function(){function n(e,t,i,o,l,r,s,c,u,d){a(this,n),this._authenService=e,this._dataService=t,this._route=i,this._notifyService=o,this._uploadService=l,this._excelService=r,this._numberFormat=s,this.modalService=c,this._utilyService=u,this.sanitizer=d,this._secret="j@s0n1980!!!",this._current=9,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this._subTitle="",this._flagModal="ADD",this.entity={},this._flagButton=1,this._profiles=[],this._catprofiles=[],this.related_requests=[],this.checkAllIDs=!1,this.entityUpload={},this.entityUploadMore={},this.entityUpload1={},this.filesToUpload=[],this.selectedFileNames=[],this.jfile=null,this.jfile1=null,this.jfileProposed=null,this.jfileMoreProposed=[],this.formData=new FormData,this._flagSubModal="ADD",this.entitySub={},this.isSaveSub=!1,this._documents=[],this._catdocuments=[],this.entitySubIn={},this.isSaveSub1=!1,this._selectUser=null,this._selectDept=null,this._getusers=[],this._titles=[],this._departments=[],this.expandKeys=[],this.expandKeys1=[],this._urlMicrosoft="https://view.officeapps.live.com/op/embed.aspx?src=",this._originFile=null,this.other_attached_files=[],this.handling_users=[],this._displayContent=null,this.isSaveSigned=!1,this._flagActive=!1,this._histories=[],this._diagrams=[],this._flagShow=!1,this._flagModalApprove="Agree",this.entityApprove={},this.isSaveApprove=!1,this.filesToUploadApprove=[],this.chats=[],this._contents="",this.baseFolder=H.h.BASE_API,this.isLoadingView=!1,this._password="ciphertext",this.socket=Y()(H.h.BASE_API)}return l(n,[{key:"ngOnInit",value:function(){var e=this;this.user=this._authenService.getLoggedInUser(),this.loadData(),this.socket.on("refreshPage",function(t){e.loadData(),null!=e.entity.id&&(e.loadProposedProfileDetailById(e.entity.id),e.loadChat(e.entity.id))})}},{key:"ngOnDestroy",value:function(){var e=window.CKEDITOR;if(e.instances)for(var t in e.instances)e.instances[t].destroy()}},{key:"loadData",value:function(){var e=this;this._isLoading=!0;var n={};n.page=this.pageIndex,n.limit=this.pageSize,n.filter=this._keyword,n.createdby=this.user.id,n.current=this._current,this._dataService.post("/cat-submission/getall",n).subscribe(function(n){var i,a=[],o=t(n.data);try{for(o.s();!(i=o.n()).done;){var l,r=i.value,s=t(r.handle_users.data);try{for(s.s();!(l=s.n()).done;){l.value.show=!1}}catch(p){s.e(p)}finally{s.f()}var c,u=t(r.handle_users.data);try{var d=function(){var e=c.value,n=!1;if(r.handle_users.data.filter(function(t){return t.order==e.order&&null==t.timestamp}).length>=1){var i,a=t(r.handle_users.data.filter(function(t){return t.order==e.order&&null==t.timestamp}));try{for(a.s();!(i=a.n()).done;){i.value.show=!0}}catch(p){a.e(p)}finally{a.f()}n=!0}if(n)return"break"};for(u.s();!(c=u.n()).done;){if("break"===d())break}}catch(p){u.e(p)}finally{u.f()}var g,f;g=r.handle_users.data.filter(function(e){return 3!=e.role}),f=0==r.handle_users.data.filter(function(e){return 3==e.role}).length?null:r.handle_users.data.filter(function(e){return 3==e.role})[0],r.reviews=g,r.approve=f,a.push(r)}}catch(p){o.e(p)}finally{o.f()}e._requestslist=a,e.totalRow=n.rowCount,e.totalPage=n.totalPages,e._isLoading=!1})}},{key:"loadChat",value:function(e){var t=this,n={};n.join_room=e,this._dataService.post("/chat/getallnp",n).subscribe(function(e){t.chats=e.data,console.log("chats",t.chats)})}},{key:"_addChat",value:function(){var e=this;if(""!=this._contents&&null!=this.entity.id){var t={};t.text=this._contents,t.join_room=this.entity.id,t.depended_id=this.user.id,this._dataService.post("/chat/add",t).subscribe(function(t){e.socket.emit("refresh",{}),e._flagModal="UPDATE",e._flagButton=4,e._contents=""})}}},{key:"_switch",value:function(e){this._current=e,this.socket.emit("refresh",{})}},{key:"_pageSizeChange",value:function(e){this.pageSize=e.target.value,this.socket.emit("refresh",{})}},{key:"pageChanged",value:function(e){this.pageIndex=e.page,this.socket.emit("refresh",{})}},{key:"loadUsersWithDept",value:function(){var e=this,n={};n.short_code=this.user.short_code,this._dataService.post("/cat-submission/getallUsersNP",n).subscribe(function(n){var i,a=[],o=t(n.data);try{for(o.s();!(i=o.n()).done;){var l=i.value;a.push({key:l.id,title:l.name,parent_id:null,value:l.id,jtitle:"en"==e.user.lang?l.title_name_e:l.title_name_l,jdept:l.department_ids.data})}}catch(s){o.e(s)}finally{o.f()}var r=e._utilyService.UnflattenFunc(a);e._getusers=r})}},{key:"addItemNew",value:function(){if(this._selectUser=null,0==this.handling_users.length)this.handling_users.push({flag:!1,id:1,order:1,role:"1",time:1,timestamp:null,user:null,allow:!1});else{var e,n=0,i=t(this.handling_users);try{for(i.s();!(e=i.n()).done;){var a=e.value;null!=a.user&&null!=a.role||(n+=1)}}catch(r){i.e(r)}finally{i.f()}if(0!=n)return void this._notifyService.showWarning("e"==this.user.lang?x.W.MSG_ERROR_EMPTY_EN:x.W.MSG_ERROR_EMPTY,"e"==this.user.lang?x.W.error_title_en:x.W.error_title);var o,l=t(this.handling_users.filter(function(e){return!e.flag}));try{for(l.s();!(o=l.n()).done;){o.value.flag=!0}}catch(r){l.e(r)}finally{l.f()}0==this.handling_users.filter(function(e){return!e.flag}).length&&this.handling_users.push({id:this.handling_users.length+1,flag:!1,order:1,role:"1",time:1,timestamp:null,user:null,allow:!1})}this.handling_users.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users}},{key:"removeItemNew",value:function(e){var n,i=[],a=1,o=t(this.handling_users.filter(function(t){return t.id!=e.id}));try{for(o.s();!(n=o.n()).done;){var l=n.value;i.push({id:a,order:l.order,user:l.user,role:l.role,time:l.time,flag:l.flag,allow:l.allow}),a+=1}}catch(r){o.e(r)}finally{o.f()}i.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users=i}},{key:"_getUserNew",value:function(e,n){console.log(e,n);var i,a=this._getusers.filter(function(e){return e.key==n})[0],o="",l=t(a.jdept);try{for(l.s();!(i=l.n()).done;){var r=i.value;o+=("en"==this.user.lang?r.dept_name_e:r.dept_name_l)+","}}catch(s){l.e(s)}finally{l.f()}this.handling_users.filter(function(t){return t.id==e.id})[0].user={dept_name_e:""==o?"":o.substr(0,o.length-1),dept_name_l:""==o?"":o.substr(0,o.length-1),id:n,key:"",name:a.title,title:"",title_name_e:a.jtitle,title_name_l:a.jtitle,value:""},this.handling_users.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users}},{key:"_openModal",value:function(e,t){this._flagActive=!1,this.loadProfilesNP(),this.loadUsersWithDept(),null==t?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.entity.is_active=0,this.entity.created_by=this.user.id,this.handling_users=[],this.other_attached_files=[]):(this._flagModal="UPDATE",this._title="- "+t.title+" (#: "+t.code+")",this.loadChat(t.id),this.loadProposedProfileDetailById(t.id)),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}},{key:"_diagramChange",value:function(e){null==e?(this.entity.handle_users={data:[]},this.handling_users=[],this._originFile=null):(this.handling_users=[],this.loadDetailProfileById(e))}},{key:"submissionChange",value:function(e){var t=this;if(this.entity.is_active=0==e?0:1,"ADD"==this._flagModal){if(0==this.entity.handle_users.data.length||null==this.entity.title)return void this._notifyService.showError("en"==this.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==this.user.lang?x.W.error_title_en:x.W.error_title);null==this.attached_file&&0==this.filesToUpload.length?(this.isSave=!0,console.log("No file"),this._addProposed(this.entity)):this._dataService.post("/cat-submission/addProposed",this.entity).subscribe(function(e){console.log(e),"failed"===e.result?t._notifyService.showError("en"==t.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==t.user.lang?x.W.error_title_en:x.W.error_title):t._processUploadProposed(t.jfileProposed,t.filesToUpload,e.data)},function(){t.isSave=!1,t._notifyService.showError("en"==t.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==t.user.lang?x.W.error_title_en:x.W.error_title)})}else this.updateSubmissionChanges()}},{key:"submissionChangeForSign",value:function(){this.entity.is_active=1,this.updateSubmissionChanges()}},{key:"updateSubmissionChanges",value:function(){var e=this;this.handling_users.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1}),this.entity.handle_users.data=this.handling_users,this.handling_users.filter(function(e){return null==e.order||null==e.user||null==e.role||null==e.time}).length>0?this._notifyService.showError("en"==this.user.lang?x.W.MSG_ERROR_EMPTY_EN:x.W.MSG_ERROR_EMPTY,"en"==this.user.lang?x.W.error_title_en:x.W.error_title):this._dataService.post("/cat-submission/updateProposed",this.entity).subscribe(function(t){0!=e.entity.is_active&&(e.socket.emit("refresh",{}),e.modalService.dismissAll(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_UPDATE_EN:x.W.MSG_UPDATE,"OK"))})}},{key:"_addProposed",value:function(e){var t=this;this._dataService.post("/cat-submission/addProposed",e).subscribe(function(e){t.isSave=!1,"failed"===e.result?t._notifyService.showError("en"==t.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==t.user.lang?x.W.error_title_en:x.W.error_title):(t._flagModal="ADD",t.entity={},t.entity.id=null,t.entity.title=null,t.entity.profile_cat_id=null,t.entity.estimated_cost=null,t.entity.content=null,t.entity.critical_level=0,t.entity.priority_level=0,t.entity.related_ids={data:[]},t.entity.attached_files=null,t.entity.handle_users={data:[]},t.entity.is_active=0,t.socket.emit("refresh",{}),t.modalService.dismissAll(),t._notifyService.showSuccess("en"==t.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){t.isSave=!1,t._notifyService.showError("en"==t.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==t.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"loadDetailProfileById",value:function(e){var n=this,i={};i.id=e,i.userid=this.user.id,this._dataService.post("/cat-submission/detailByUser",i).subscribe(function(e){console.log("Detail of Profile",e);var i=[];if("failed"==e.result)n.entity.handle_users.data=[],n.handling_users=[],n._notifyService.showError("en"==n.user.lang?x.W.MSG_ERROR_NOT_FOUND_EN:x.W.MSG_ERROR_NOT_FOUND,"en"==n.user.lang?x.W.error_title_en:x.W.error_title);else{var a,o=t(e.data.handle_users.data);try{for(o.s();!(a=o.n()).done;){var l=a.value;i.push({id:l.id,order:l.order,user:l.user,role:l.role,time:l.time,flag:!0,timestamp:null,allow:!0})}}catch(r){o.e(r)}finally{o.f()}i.sort(function(e,t){return e.id>t.id||e.id==t.id&&e.order>t.order?1:-1}),n.entity.handle_users.data=i,n.handling_users=i,n._originFile=null!=e.data.attached_file?"https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf":null,null!=n.entity.id&&n.updateSubmissionChanges()}})}},{key:"loadDetailProfileByIdWithFile",value:function(e){var t=this,n={};n.id=e,n.userid=this.user.id,this._dataService.post("/cat-submission/detailByUser",n).subscribe(function(e){t._originFile=null!=e.data.attached_file?"https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf":null})}},{key:"_chooseButton",value:function(e){this._flagButton=e}},{key:"removeAttachment",value:function(e,t,n){var i=this;T().fire({title:"en"==this.user.lang?x.W.are_you_sure_en:x.W.are_you_sure,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.W.cancel_en:x.W.cancel,confirmButtonText:"en"==this.user.lang?x.W.confirmtext_en:x.W.confirmtext}).then(function(a){if(a.value){var o={};o.id=e,o.path=t,o.stat=n,i._dataService.post("/cat-submission/removeAttachment",o).subscribe(function(e){console.log(e),i._notifyService.showSuccess("en"==i.user.lang?x.W.MSG_DELETE_EN:x.W.MSG_DELETE,"OK"),i.socket.emit("refresh",{})},function(){i._notifyService.showError("en"==i.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==i.user.lang?x.W.error_title_en:x.W.error_title)})}})}},{key:"loadProposedProfileDetailById",value:function(e){var n=this;this._flagButton=4==this._flagButton?4:1,this._diagrams=[],this._histories=[];var i={};i.id=e,this._dataService.post("/cat-submission/detailProposed",i).subscribe(function(e){n.entity=e.data,n._displayContent=null==e.data.content?"":n.sanitizer.bypassSecurityTrustHtml(e.data.content);var i,a=[],o=t(e.data.handle_users.data);try{for(o.s();!(i=o.n()).done;){var l=i.value;a.push({id:l.id,order:l.order,user:l.user,role:l.role,time:l.time,flag:!0,timestamp:l.timestamp,allow:!0})}}catch(Z){o.e(Z)}finally{o.f()}if(n.handling_users=a,0==n.entity.is_active)n.handling_users.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1});else{var r,s=t(n.handling_users);try{for(s.s();!(r=s.n()).done;){r.value.show=!1}}catch(Z){s.e(Z)}finally{s.f()}var c,u=t(n.handling_users);try{var d=function(){var e=c.value,i=!1;if(n.handling_users.filter(function(t){return t.order==e.order&&null==t.timestamp}).length>=1){var a,o=t(n.handling_users.filter(function(t){return t.order==e.order&&null==t.timestamp}));try{for(o.s();!(a=o.n()).done;){a.value.show=!0}}catch(Z){o.e(Z)}finally{o.f()}i=!0}if(i)return"break"};for(u.s();!(c=u.n()).done;){if("break"===d())break}}catch(Z){u.e(Z)}finally{u.f()}n.handling_users.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1})}if(n.entity.handle_users.data=a,n.other_attached_files=null==e.data.other_attached_files?[]:e.data.other_attached_files.data,4==n.entity.is_active)n._flagActive=!1;else if(0==a.filter(function(e){return e.user.id==n.user.id}).length)null!=e.data.logs&&null!=e.data.logs.timestamp&&(n._flagActive=!0);else for(var g=0;g<a.filter(function(e){return e.user.id==n.user.id}).length;g++)n._flagActive=null!=a.filter(function(e){return e.user.id==n.user.id})[g].timestamp;if(null!=e.data.logs){n._diagrams=e.data.logs.diagrams,n._diagrams.sort(function(e,t){return e.order>t.order||e.order==t.order&&e.order>t.order?1:-1}),n._histories=e.data.logs.history,n._histories.sort(function(e,t){return t.id>e.id||t.id==e.id&&t.id>e.id?1:-1});var f,p=1,_=t(n._diagrams.filter(function(e){return e.flag&&null==e.timestamp}));try{var h=function(){var e=f.value;if(!(p<=n._diagrams.filter(function(t){return t.order==e.order}).length))return"break";e.flag=!1,p+=1};for(_.s();!(f=_.n()).done;){if("break"===h())break}}catch(Z){_.e(Z)}finally{_.f()}null==e.data.logs?n._flagShow=!1:n._diagrams.filter(function(e){return e.user.id==n.user.id&&!e.flag}).length>0?(console.log("test here"),n._flagShow=!0):n._flagShow=!1,console.log("Flag",n._flagShow)}n.loadDetailProfileByIdWithFile(e.data.profile_cat_id)})}},{key:"toggleCheckAll",value:function(e){e.currentTarget.checked?this.selectAllItems():this.unselectAllItems()}},{key:"onTouched",value:function(){}},{key:"onSelectionChange",value:function(t){if(Array.isArray(t)){var n=t.map(function(e){return e.id});this.entity.organizations=e(n),this.onChange(e(n))}this.onTouched()}},{key:"onChange",value:function(e){}},{key:"writeValue",value:function(t){this.combo.select(e(t))}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"selectAllItems",value:function(){var t=this.related_requests.map(function(e){return e.id});this.onChange(e(t))}},{key:"unselectAllItems",value:function(){this.entity.related_ids=[],this.checkAllIDs=!1,this.onChange([])}},{key:"_processUploadProposed",value:function(e,t,n){var i=this,a=0;if(null!=e){1,t.length>0&&(a=1);var o,l=[];if(o=e.files,a>0&&l.push(t),console.log(o),console.log(l),a>0){var r={folder_name:"submissions"};r.id=n.id,console.log("Testing",e.files),this._uploadService.uploadFile("/services/uploads/"+r.id+"/"+r.folder_name,e.files).subscribe(function(e){var a={folder_name:"submissions"};a.id=n.id,i._uploadService.uploadFileMulti("/services/multi-uploads/"+a.id+"/"+a.folder_name,t).subscribe(function(t){i._updateSubmission12(n.id,e.data,t.data)})})}else{var s={folder_name:"submissions"};s.id=n.id,this._uploadService.uploadFile("/services/uploads/"+s.id+"/"+s.folder_name,e.files).subscribe(function(e){i._updateSubmission1(n.id,e.data)})}}else this._notifyService.showError("en"==this.user.lang?x.W.recheck_file_en:x.W.recheck_file,"en"==this.user.lang?x.W.error_title_en:x.W.error_title)}},{key:"_updateSubmission1",value:function(e,t){var n=this,i={};i.id=e,i.path=t,this._dataService.post("/cat-submission/updateSubmission1",i).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("ADD"==n._flagModal?"en"==n.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO:"en"==n.user.lang?x.W.MSG_UPDATENO_EN:x.W.MSG_UPDATENO,"en"==n.user.lang?x.W.error_title_en:x.W.error_title):"ADD"==n._flagModal?(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.title=null,n.entity.profile_cat_id=null,n.entity.estimated_cost=null,n.entity.content=null,n.entity.critical_level=0,n.entity.priority_level=0,n.entity.related_ids={data:[]},n.entity.attached_files=null,n.entity.handle_users={data:[]},n.handling_users=[],n.entity.is_active=0,n.socket.emit("refresh",{}),n.modalService.dismissAll(),n._notifyService.showSuccess("en"==n.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK")):(n._flagModal="UPDATE",n.socket.emit("refresh",{}),n._notifyService.showSuccess("en"==n.user.lang?x.W.MSG_UPDATE_EN:x.W.MSG_UPDATE,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==n.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"_updateSubmission2",value:function(e,t){var n=this;this.filesToUpload=[];var i={};i.id=e,i.paths=t,this._dataService.post("/cat-submission/updateSubmission2",i).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==n.user.lang?x.W.error_title_en:x.W.error_title):"ADD"==n._flagModal?(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.title=null,n.entity.profile_cat_id=null,n.entity.estimated_cost=null,n.entity.content=null,n.entity.critical_level=0,n.entity.priority_level=0,n.entity.related_ids={data:[]},n.entity.attached_files=null,n.entity.handle_users={data:[]},n.handling_users=[],n.entity.is_active=0,n.socket.emit("refresh",{}),n.modalService.dismissAll(),n._notifyService.showSuccess("en"==n.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK")):(n._flagModal="UPDATE",n.socket.emit("refresh",{}),n._notifyService.showSuccess("en"==n.user.lang?x.W.MSG_UPDATE_EN:x.W.MSG_UPDATE,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==n.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"_updateSubmission12",value:function(e,t,n){var i=this;this.filesToUpload=[];var a={};a.id=e,a.path=t,a.paths=n,this._dataService.post("/cat-submission/updateSubmission12",a).subscribe(function(e){i.isSave=!1,"failed"===e.result?i._notifyService.showError("en"==i.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==i.user.lang?x.W.error_title_en:x.W.error_title):(i._flagModal="ADD",i.entity={},i.entity.id=null,i.entity.title=null,i.entity.profile_cat_id=null,i.entity.estimated_cost=null,i.entity.content=null,i.entity.critical_level=0,i.entity.priority_level=0,i.entity.related_ids={data:[]},i.entity.attached_files=null,i.entity.handle_users={data:[]},i.handling_users=[],i.entity.is_active=0,i.socket.emit("refresh",{}),i.modalService.dismissAll(),i._notifyService.showSuccess("en"==i.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){i.isSave=!1,i._notifyService.showError("en"==i.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==i.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"fileEvent",value:function(e,t){var n=e.target.files[0];if(void 0===n||void 0===n.name)this.attached_file=null,this.entityUpload.fileUpload=null,this._notifyService.showError("en"==this.user.lang?x.W.recheck_file_en:x.W.recheck_file,"en"==this.user.lang?x.W.error_title_en:x.W.error_title);else{this.attached_file=n.name;var i=this.attached_file.split(".").pop();"doc"===i||"docx"===i||"pdf"===i?(this.jfileProposed=e.target,null!=this.entity.id&&(this._processUpload(this.jfileProposed,this.entity),this.attached_file=null,this.entityUpload.fileUpload=null,t.value="")):(this._notifyService.showError("en"==this.user.lang?x.W.format_incorrect_en:x.W.format_incorrect,"en"==this.user.lang?x.W.error_title_en:x.W.error_title),this.attached_file=null,this.entityUpload.fileUpload=null,t.value="")}}},{key:"_processUpload",value:function(e,t){var n=this;if(null==e)this._notifyService.showError("en"==this.user.lang?x.W.recheck_file_en:x.W.recheck_file,"en"==this.user.lang?x.W.error_title_en:x.W.error_title);else{console.log("Executed",e.files);var i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFile("/services/uploads/"+i.id+"/"+i.folder_name,e.files).subscribe(function(e){n._updateSubmission1(t.id,e.data)})}}},{key:"_updateSubmissionById",value:function(e,t){var n=this,i={};i.id=e,i.pathFile=t,this._dataService.post("/cat-submission/updateSubmissionById",i).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==n.user.lang?x.W.error_title_en:x.W.error_title):(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.title=null,n.entity.profile_cat_id=null,n.entity.estimated_cost=null,n.entity.content=null,n.entity.critical_level=0,n.entity.priority_level=0,n.entity.related_ids={data:[]},n.entity.attached_files=null,n.entity.handle_users={data:[]},n.entity.is_active=0,n.jfile=null,n.socket.emit("refresh",{}),n._notifyService.showSuccess("en"==n.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==n.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"fileEventMore",value:function(e,t){this.filesToUpload=e.target.files;for(var n=[],i=0;i<e.target.files.length;i++)n.push(e.target.files[i]);null!=this.entity.id&&(this._processUploadProposedAfter(this.filesToUpload,this.entity),this.filesToUpload=[],t.value=[])}},{key:"_processUploadProposedAfter",value:function(e,t){var n=this,i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+i.id+"/"+i.folder_name,e).subscribe(function(e){n._updateSubmission2(t.id,e.data)})}},{key:"_addItemHandle",value:function(e){if(console.log(this.entitySub,this.isSaveSub),this.loadDeptNP(),this._selectDept="all",null==e)if(0==this.entitySub.handle_users.data.length)this.entitySub.handle_users.data.push({id:1,order:1,user:null,role:null,time:1,flag:!1});else{var n,i=0,a=t(this.entitySub.handle_users.data);try{for(a.s();!(n=a.n()).done;){var o=n.value;null==o.user&&(o.user={title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"}),null==o.role&&(i+=1)}}catch(s){a.e(s)}finally{a.f()}if(0!=i)return void this._notifyService.showWarning("e"==this.user.lang?x.W.MSG_ERROR_EMPTY_EN:x.W.MSG_ERROR_EMPTY,"e"==this.user.lang?x.W.error_title_en:x.W.error_title);var l,r=t(this.entitySub.handle_users.data.filter(function(e){return!e.flag}));try{for(r.s();!(l=r.n()).done;){l.value.flag=!0}}catch(s){r.e(s)}finally{r.f()}0==this.entitySub.handle_users.data.filter(function(e){return!e.flag}).length&&this.entitySub.handle_users.data.push({id:this.entitySub.handle_users.data.length+1,order:1,user:null,role:null,time:1,flag:!1})}console.log(this.entitySub)}},{key:"_getUser",value:function(e,n){if(console.log(e,n),null!=n&&null!=e.role){var i,a=t(this.entitySub.handle_users.data);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.id==e.id&&(o.user="all"!=n?{title:this._departments.filter(function(e){return e.key==n})[0].title,key:this._departments.filter(function(e){return e.key==n})[0].key,value:this._departments.filter(function(e){return e.key==n})[0].value}:{title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"})}}catch(l){a.e(l)}finally{a.f()}console.log("Get change",this.entitySub)}else this._notifyService.showWarning("e"==this.user.lang?x.W.MSG_ERROR_EMPTY_EN:x.W.MSG_ERROR_EMPTY,"e"==this.user.lang?x.W.error_title_en:x.W.error_title)}},{key:"_popupTitle",value:function(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeTitle",value:function(){var e=this;this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),this._dataService.post("/cat-submission/addTitle",this.entitySubIn).subscribe(function(t){console.log(t),e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.entitySubIn={},e.entitySubIn.name_l=null,e.entitySubIn.name_e=null,e.entitySubIn.is_active=!0,e.entitySubIn.short_code=e.user.short_code,e.loadTitleNP(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"loadTitleNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallTitlesNP",null).subscribe(function(t){e._titles=t.data})}},{key:"_popupDepartment",value:function(e,t){this.entitySubIn={},this.entitySubIn.dept_name_l=null,this.entitySubIn.dept_name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeDepartment",value:function(){var e=this;this.isSaveSub1=!0,this._dataService.post("/dept/add",this.entitySubIn).subscribe(function(t){e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.entitySubIn={},e.entitySubIn.dept_name_l=null,e.entitySubIn.dept_name_e=null,e.entitySubIn.is_active=!0,e.entitySubIn.short_code=e.user.short_code,e.loadDeptNP(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"loadDeptNP",value:function(){var e=this,n={};n.short_code=this.user.short_code,this._dataService.post("/dept/getallnopaging",n).subscribe(function(n){var i=[];i.push({key:"all",title:"en"==e.user.lang?"All":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",is_active:!1,parent_id:null,value:"all"});var a,o=t(n.data);try{for(o.s();!(a=o.n()).done;){var l=a.value;i.push({key:l.id,title:"en"==e.user.lang?l.dept_name_e:l.dept_name_l,parent_id:l.parent_id,value:l.id})}}catch(s){o.e(s)}finally{o.f()}var r=e._utilyService.UnflattenFunc(i);e._departments=r})}},{key:"loadProfilesNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallMainProfileNP",{short_code:this.user.short_code}).subscribe(function(t){e._profiles=t.data})}},{key:"_removeItemHandle",value:function(e){var n,i=[],a=1,o=t(this.entitySub.handle_users.data.filter(function(t){return t.id!=e.id}));try{for(o.s();!(n=o.n()).done;){var l=n.value;i.push({id:a,order:l.order,user:l.user,role:l.role,time:l.time,flag:l.flag}),a+=1}}catch(r){o.e(r)}finally{o.f()}this.entitySub.handle_users.data=i,console.log(this.entitySub)}},{key:"_popupProfile",value:function(e,t){this.loadCatDocNP(),this.loadCatProfileNP(),null==t?(this._flagSubModal="ADD",this._subTitle="en"==this.user.lang?"Type of profile":"Lo\u1ea1i h\u1ed3 s\u01a1",this.entitySub={},this.entitySub.id=null,this.entitySub.profile_group_id=null,this.entitySub.code=null,this.entitySub.title=null,this.entitySub.document_id=null,this.entitySub.description=null,this.entitySub.handle_users={data:[]},this.entitySub.estimated_cost=null,this.entitySub.attached_file=null,this.entitySub.is_active=!0,this.jfile1=null):(this._flagSubModal="UPDATE",this.entitySub=t),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}},{key:"saveChangeP",value:function(){var e=this;console.log(this.entitySub),0!=this.entitySub.handle_users.data.length?null==this.attached_file1?(this.isSaveSub=!0,this._dataService.post("/cat-submission/add",this.entitySub).subscribe(function(t){console.log(t),e.isSaveSub=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.entitySub={},e.entitySub.id=null,e.entitySub.profile_group_id=null,e.entitySub.code=null,e.entitySub.title=null,e.entitySub.document_id=null,e.entitySub.description=null,e.entitySub.handle_users={data:[]},e.entitySub.estimated_cost=null,e.entitySub.attached_file=null,e.entitySub.is_active=!0,e.jfile1=null,e.loadProfilesNP(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})):this._dataService.post("/cat-submission/add",this.entitySub).subscribe(function(t){"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):e._processUpload1(e.jfile1,t.data)},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)}):this._notifyService.showError("en"==this.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==this.user.lang?x.W.error_title_en:x.W.error_title)}},{key:"fileEvent1",value:function(e,t){var n=e.target.files[0];if(void 0===n||void 0===n.name)this.attached_file1=null,this.entityUpload1.fileUpload=null,this._notifyService.showError("en"==this.user.lang?x.W.recheck_file_en:x.W.recheck_file,"en"==this.user.lang?x.W.error_title_en:x.W.error_title);else{this.attached_file1=n.name;var i=this.attached_file1.split(".").pop();"doc"===i||"docx"===i||"pdf"===i?(console.log("ok"),this.jfile1=e.target):(this._notifyService.showError("en"==this.user.lang?x.W.format_incorrect_en:x.W.format_incorrect,"en"==this.user.lang?x.W.error_title_en:x.W.error_title),this.attached_file1=null,this.entityUpload1.fileUpload=null,t.value="")}}},{key:"_processUpload1",value:function(e,t){var n=this;if(null==e)this._notifyService.showError("en"==this.user.lang?x.W.recheck_file_en:x.W.recheck_file,"en"==this.user.lang?x.W.error_title_en:x.W.error_title);else{var i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFile("/services/uploads/"+i.id+"/"+i.folder_name,e.files).subscribe(function(e){n._updateProfileById(t.id,e.data)})}}},{key:"_updateProfileById",value:function(e,t){var n=this,i={};i.id=e,i.pathFile=t,this._dataService.post("/cat-submission/updateProfileById",i).subscribe(function(e){n.isSaveSub=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==n.user.lang?x.W.error_title_en:x.W.error_title):(n.entitySub={},n.entitySub.id=null,n.entitySub.profile_group_id=null,n.entitySub.code=null,n.entitySub.title=null,n.entitySub.document_id=null,n.entitySub.description=null,n.entitySub.handle_users={data:[]},n.entitySub.estimated_cost=null,n.entitySub.attached_file=null,n.entitySub.is_active=!0,n.jfile1=null,n.loadProfilesNP(),n._notifyService.showSuccess("en"==n.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){n.isSaveSub=!1,n._notifyService.showError("en"==n.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==n.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"_popupCategory",value:function(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"loadCatProfileNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallProfileNP",{short_code:this.user.short_code}).subscribe(function(t){e._catprofiles=t.data})}},{key:"removeBlank",value:function(){this.entitySubIn.code=null==this.entitySubIn.code?null:this.entitySubIn.code.replace(" ","")}},{key:"removeBlankTypeProfile",value:function(){this.entitySub.code=null==this.entitySub.code?null:this.entitySub.code.replace(" ","")}},{key:"saveChangeProfileGroup",value:function(){var e=this;this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),console.log(this.entitySubIn),this._dataService.post("/cat-submission/addProfile",this.entitySubIn).subscribe(function(t){e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.entitySubIn={},e.entitySubIn.name_l=null,e.entitySubIn.name_e=null,e.entitySubIn.is_active=!0,e.loadCatProfileNP(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"_popupCategory1",value:function(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeProfileGroup1",value:function(){var e=this;this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entitySubIn).subscribe(function(t){e.isSaveSub1=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.entitySubIn={},e.entitySubIn.name_l=null,e.entitySubIn.name_e=null,e.entitySubIn.is_active=!0,e.loadCatDocNP(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSaveSub1=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"loadCatDocNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallDocumentsNP",{short_code:this.user.short_code}).subscribe(function(t){e._catdocuments=t.data})}},{key:"openViewDoc",value:function(e,t){this.processPDF(this.entity),this.modalService.open(e,{size:"lg",centered:!0})}},{key:"processPDF",value:function(e){var t=this;this.isLoadingView=!0,this._dataService.post("/cat-submission/convertPDF",{id:e.id}).subscribe(function(e){console.log("Final",e),console.log(t._password),t._originFile=null,setTimeout(function(){t._originFile=H.h.BASE_API+e.data,t.isLoadingView=!1},2e3)})}},{key:"print",value:function(){B().createPdf({content:"html"}).open()}},{key:"cancelSubmission",value:function(){var e=this;T().fire({title:"en"==this.user.lang?x.W.are_you_sure_cancel_en:x.W.are_you_sure_cancel,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.W.cancel_en:x.W.cancel,confirmButtonText:"en"==this.user.lang?x.W.confirmtext_en:x.W.confirmtext}).then(function(t){t.value&&(e.entity.is_active=4,e._dataService.post("/cat-submission/updateProposed",e.entity).subscribe(function(t){console.log(t),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_CANCEL_EN:x.W.MSG_CANCEL,"en"==e.user.lang?x.W.cancel_en:x.W.cancel),e.modalService.dismissAll(),e.socket.emit("refresh",{})},function(){e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)}))})}},{key:"approvedByUser",value:function(e,t){var n=this;if(this.isSaveSigned=!0,console.log(e,t),0==e)this.entity.is_active=1,this.updateSubmissionChanges();else{console.log("Signed");var i={};i.id=this.entity.id,i.userid=this.user.id,i.status=t,i.content=null,i.approved_cost=null,this._dataService.post("/cat-submission/approvedByUserId",i).subscribe(function(e){n.isSaveSigned=!1,"failed"!=e.result&&(n._notifyService.showSuccess("en"==n.user.lang?x.W.MSG_UPDATE_EN:x.W.MSG_UPDATE,"OK"),n.modalService.dismissAll(),n.socket.emit("refresh",{}))},function(){n.isSaveSigned=!1,n._notifyService.showError("en"==n.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==n.user.lang?x.W.error_title_en:x.W.error_title)})}}},{key:"disagreeSubmission",value:function(e,t){var n=this;T().fire({title:"en"==this.user.lang?x.W.are_you_sure_disagree_en:x.W.are_you_sure_disagree,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.W.cancel_en:x.W.cancel,confirmButtonText:"en"==this.user.lang?x.W.confirmtext_en:x.W.confirmtext}).then(function(i){i.value&&n.popupApprove(e,t)})}},{key:"popupApprove",value:function(e,t){this.entityApprove.content=null,this.entityApprove.approved_cost=null,this._flagModalApprove=null==t?"Agree":"Disagree",this.modalService.open(e,{size:"md",centered:!0,backdrop:!1})}},{key:"_submitRefused",value:function(){var e=this;if(console.log(this.entityApprove,this.filesToUploadApprove),this.filesToUploadApprove.length>0)console.log("Got files"),this.isSaveApprove=!0,this._processUploadDisagreeAfter(this.filesToUploadApprove);else{this.isSaveApprove=!0;var t={};t.id=this.entity.id,t.userid=this.user.id,t.status="Agree"==this._flagModalApprove?1:0,t.content=this.entityApprove.content,t.approved_cost=this.entityApprove.approved_cost,t.files=[],this._dataService.post("/cat-submission/approvedByUserId",t).subscribe(function(t){console.log("Why",t),e.isSaveApprove=!1,"failed"!=t.result&&(e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_UPDATE_EN:x.W.MSG_UPDATE,"OK"),e.modalService.dismissAll(),e.socket.emit("refresh",{}))},function(){e.isSaveApprove=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})}}},{key:"fileEventApproved",value:function(e,t){this.filesToUploadApprove=e.target.files}},{key:"_processUploadDisagreeAfter",value:function(e){var t=this,n={folder_name:"submissions"};n.id=this.entity.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+n.id+"/"+n.folder_name,e).subscribe(function(e){var n={};n.id=t.entity.id,n.userid=t.user.id,n.status=0,n.content=t.entityApprove.content,n.approved_cost=t.entityApprove.approved_cost,n.files=e.data,t._dataService.post("/cat-submission/approvedByUserId",n).subscribe(function(e){t.isSaveApprove=!1,"failed"!=e.result&&(t._notifyService.showSuccess("en"==t.user.lang?x.W.MSG_UPDATE_EN:x.W.MSG_UPDATE,"OK"),t.modalService.dismissAll(),t.socket.emit("refresh",{}))},function(){t.isSaveApprove=!1,t._notifyService.showError("en"==t.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==t.user.lang?x.W.error_title_en:x.W.error_title)})},function(){t.isSaveApprove=!1,t._notifyService.showError("en"==t.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==t.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"submissionRecall",value:function(){var e=this;T().fire({title:"en"==this.user.lang?x.W.are_you_sure_recall_en:x.W.are_you_sure_recall,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.W.cancel_en:x.W.cancel,confirmButtonText:"en"==this.user.lang?x.W.confirmtext_en:x.W.confirmtext}).then(function(t){if(t.value){if(e.entity.logs.diagrams.filter(function(e){return 0!=e.id&&null!=e.timestamp}).length>0)return e._notifyService.showError("en"==e.user.lang?x.W.MSG_UPDATENO_EN:x.W.MSG_UPDATENO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title),void e.modalService.dismissAll();e.entity.is_active=2,e.updateSubmissionChanges()}})}}]),n}();return n.\u0275fac=function(e){return new(e||n)(q.Y36(d.e),q.Y36(u.D),q.Y36(b.F0),q.Y36(M.c),q.Y36(c.C),q.Y36(s.x),q.Y36(C.p),q.Y36(N.FF),q.Y36(w.t),q.Y36($.H7))},n.\u0275cmp=q.Xpm({type:n,selectors:[["app-subm-requests"]],viewQuery:function(e,t){var n;(1&e&&(q.Gf(ne,5),q.Gf(ie,5),q.Gf(ae,7),q.Gf(oe,5),q.Gf(le,5)),2&e)&&(q.iGM(n=q.CRH())&&(t.ckeEditor=n.first),q.iGM(n=q.CRH())&&(t.ckeEditor1=n.first),q.iGM(n=q.CRH())&&(t.combo=n.first),q.iGM(n=q.CRH())&&(t.attached_file=n.first),q.iGM(n=q.CRH())&&(t.attached_file1=n.first))},decls:98,vars:79,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-body"],[1,"btn-group","flex-wrap"],["type","button",3,"ngClass","click"],[1,"fa","fa-clone"],[1,"fa","fa-eye"],[1,"fa","fa-eye-slash"],["type","button",1,"btn","btn-sm","btn-warning"],[1,"fa","fa-search"],["type","button",1,"btn","btn-sm","btn-warning",3,"click"],[1,"fa","fa-plus"],["ngbDropdown","","class","btn-group","role","group",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],["contentModal",""],["popupNewProfile",""],["categoryModal",""],["categoryModal1",""],["titleModal",""],["deptModal",""],["popupViewModal",""],["popupApprovedModal",""],["ngbDropdown","","role","group",1,"btn-group"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-primary","dropdown-toggle"],[1,"fa","fa-object-group"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["routerLink","/submissions/type-of-profile","target","_blank",1,"dropdown-item"],[1,"fa","fa-tags"],["routerLink","/submissions/profile-group","target","_blank",1,"dropdown-item"],[1,"fa","fa-map-signs"],["routerLink","/submissions/type-of-document","target","_blank",1,"dropdown-item"],[1,"fa","fa-file-text-o"],["routerLink","/system/departments","target","_blank",1,"dropdown-item"],[1,"fa","fa-users"],["colspan","7",2,"text-align","center"],[1,"text-danger"],[2,"cursor","pointer",3,"click"],[1,"mute"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-dark",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary",4,"ngIf"],[1,"badge","badge-pill","badge-danger"],[1,"fa","fa-flag"],[1,"badge","badge-dark"],[1,"badge","badge-warning"],[1,"badge","badge-danger"],[1,"badge","badge-success"],[1,"badge","badge-secondary"],[1,"form","theme-form"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-12"],[3,"ngClass","click"],[3,"ngClass","click",4,"ngIf"],[1,"form-group","row",3,"ngStyle"],["class","col-md-12","style","max-height: calc(100vh - 300px); overflow-y: auto",4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"fa","fa-clock-o"],[1,"fa","fa-comments"],[1,"col-md-4"],["for","title"],["type","text","id","title","name","title","autocomplete","off","required","",3,"ngModel","ngClass","disabled","ngModelChange","change"],["for","profile_id"],["id","profile_id","name","profile_id","bindValue","id","bindLabel","title","required","",3,"items","multiple","closeOnSelect","searchable","ngModel","placeholder","notFoundText","disabled","ngModelChange","change"],["ng-option-tmp",""],[1,"col-md-2"],["for","critical_level"],["id","critical_level","name","critical_level",3,"ngModel","ngClass","disabled","ngModelChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["for","priority_level"],["id","priority_level","name","priority_level",3,"ngModel","ngClass","disabled","ngModelChange","change"],[1,"col-md-8"],["for","related_requests"],["bindLabel","name","bindValue","id",3,"multiple","items","closeOnSelect","placeholder","notFoundText","ngModel","disabled","blur","change"],["combo",""],["ng-header-tmp",""],["ng-multi-label-tmp",""],["for","estimated_cost"],["id","estimated_cost","name","estimated_cost","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",3,"ngClass","ngModel","disabled","change","ngModelChange"],["for","content",1,"jbold"],[3,"innerHtml",4,"ngIf"],["for","attached_file",1,"jbold"],["name","attached_file","type","file","id","attached_file","accept",".pdf,.doc,.docx","class","form-control",3,"change",4,"ngIf"],["type","hidden","name","attached_file0",3,"ngModel","ngModelChange"],["class","card-body btn-showcase",4,"ngIf"],["for","filesToUpload",1,"jbold"],["name","filesToUpload","type","file","multiple","","id","filesToUpload","class","form-control","accept",".pdf,.doc,.docx",3,"change",4,"ngIf"],[1,"card-body","btn-showcase"],["for","diagrams",1,"jbold"],[1,"table"],["href","javascript:;",1,"btn","btn-outline-info","btn-pill","btn-xs",3,"click"],["container","body",3,"ngbTooltip"],["type","checkbox",3,"ngModel","change"],["class","ng-value",4,"ngFor","ngForOf"],["class","ng-value",4,"ngIf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["type","checkbox",3,"id","checked"],["id","content","name","content","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange","change"],["ckeEditor",""],[3,"innerHtml"],["href","javascript:;",3,"click"],["name","attached_file","type","file","id","attached_file","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["attached_file",""],["src","../../../../assets/files/ico_file.png","width","25px",1,"mr-sm-1",2,"cursor","pointer",3,"click"],["class","fa fa-trash","style","cursor: pointer",3,"click",4,"ngIf"],[1,"fa","fa-trash",2,"cursor","pointer",3,"click"],["name","filesToUpload","type","file","multiple","","id","filesToUpload","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["filesToUpload",""],["class","badge badge-pill badge-danger mr-sm-3",4,"ngIf"],[1,"badge","badge-pill","badge-danger","mr-sm-3"],["type","number","min","1","class","form-control","style","width: 70px",3,"name","id","ngModel","ngModelChange","change",4,"ngIf"],["class","form-control","required","",3,"name","ngModel","ngModelChange","change",4,"ngIf"],["href","javascript:;","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["type","number","min","1",1,"form-control",2,"width","70px",3,"name","id","ngModel","ngModelChange","change"],["nzShowSearch","",2,"width","100%",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange"],["required","",1,"form-control",3,"name","ngModel","ngModelChange","change"],["href","javascript:;",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-trash"],["colspan","5",1,"text-truncate"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-md-12",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"timeline-small"],["class","media",4,"ngIf"],["class","media",4,"ngFor","ngForOf"],[1,"media"],["src","../../../../assets/img/avatars/logo-icon-web.png","width","53px",4,"ngIf"],[1,"media-body"],[1,"pull-right","f-14"],["src","../../../../assets/img/avatars/logo-icon-web.png","width","53px"],[1,"timeline-round","m-r-30","timeline-line-1"],["class","mute",4,"ngIf"],[1,"row","chat-box"],[1,"col","pr-0","chat-right-aside"],[1,"chat"],[1,"chat-header","clearfix"],["type","text","name","_contents","id","_contents","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","change"],[1,"list-inline","float-left","float-sm-right","chat-menu-icons"],[1,"list-inline-item"],["href","javascript:void(0)"],[1,"icon-clip"],[1,"chat-history","chat-msg-box","custom-scrollbar",2,"max-height","300px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","message my-message mb-0",4,"ngIf","ngIfElse"],["myChat",""],[1,"message","my-message","mb-0"],[1,"message-data","text-right"],[1,"mute","mr-sm-1"],[1,"message-data-time"],["alt","",1,"rounded-circle","float-left","chat-user-img","img-30",3,"src"],["src","../../../../assets/img/icon.png","alt","",1,"rounded-circle","float-left","chat-user-img","img-30"],[1,"message","other-message","pull-right"],[1,"message-data"],["alt","",1,"rounded-circle","float-right","chat-user-img","img-30",3,"src"],["src","../../../../assets/img/icon.png","alt","",1,"rounded-circle","float-right","chat-user-img","img-30"],[1,"image-not-found"],[1,"d-block","start-conversion"],["src","assets/images/start-conversion.jpg"],[1,"modal-footer"],["type","button",1,"btn","btn-light","mr-sm-1",3,"click"],["type","button",1,"btn","btn-secondary","mr-sm-1",3,"click"],["type","button",1,"btn","btn-danger","mr-sm-1",3,"click"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","button","class","btn btn-primary mr-sm-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mr-sm-1",3,"click"],["href","javascript:;",1,"btn","btn-warning","mr-sm-1"],["type","button","class","btn btn-warning mr-sm-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning","mr-sm-1",3,"click"],["type","button","class","btn btn-danger mr-sm-1",3,"click",4,"ngIf"],[1,"form","theme-form",3,"ngSubmit"],["f","ngForm"],[1,"modal-body",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"col-md-3"],["for","profile_group",1,"jbold"],["id","profile_group","name","profile_group","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","profile_code",1,"jbold"],["type","text","id","profile_code","name","profile_code","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],["for","profile_name",1,"jbold"],["type","text","id","profile_name","name","profile_name","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","type_document",1,"jbold"],["name","type_document","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["for","handling_users",1,"jbold"],["colspan","4",1,"text-truncate"],["for","desc",1,"jbold"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange"],["ckeEditor1",""],["for","Status11",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","Status11","type","checkbox","name","Status11",3,"ngModel","ngModelChange"],["for","Status11"],["for","estimated_cost1",1,"jbold"],["id","estimated_cost1","name","estimated_cost1","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],["for","attached_file1",1,"jbold"],["name","attached_file1","type","file","id","attached_file1",1,"form-control",3,"change"],["attached_file1",""],["type","hidden","name","attached_file11","accept",".pdf,.doc,.docx",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[3,"value"],["type","number","class","form-control","required","","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["style","width: 100%","nzShowSearch","",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange",4,"ngIf"],["type","number","class","form-control","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["type","number","required","","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["type","number","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],["formPG","ngForm"],[1,"form-group"],["for","CodePG",1,"jbold"],["type","text","id","CodePG","name","CodePG","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name1",1,"jbold"],["type","text","id","Name1","name","Name1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name1a","name","Name1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG",1,"jbold"],["id","StatusPG","type","checkbox","name","StatusPG",3,"ngModel","ngModelChange"],["for","StatusPG"],["formPG1","ngForm"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],["formTitle","ngForm"],["for","CodeTitle",1,"jbold"],["type","text","id","CodeTitle","name","CodeTitle","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","NameTitle1",1,"jbold"],["type","text","id","NameTitle1","name","NameTitle1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","NameTitle1a","name","NameTitle1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusTitle",1,"jbold"],["id","StatusTitle","type","checkbox","name","StatusTitle",3,"ngModel","ngModelChange"],["for","StatusTitle"],["formDept","ngForm"],["for","Department1",1,"jbold"],["type","text","id","Department1","name","Department1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Department1a","name","Department1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusDept",1,"jbold"],["id","StatusDept","type","checkbox","name","StatusDept",3,"ngModel","ngModelChange"],["for","StatusDept"],[1,"col-md-12",2,"height","590px"],[3,"src","stick-to-page","original-size","show-all","autoresize","render-text",4,"ngIf"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fa","fa-print"],[3,"src","stick-to-page","original-size","show-all","autoresize","render-text"],["for","contentApprove"],["id","contentApprove","rows","3","name","contentApprove",1,"form-control",3,"ngModel","ngModelChange"],["for","approved_cost"],["id","approved_cost","type","text","name","approved_cost","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","filesToUploadApprove","type","file","multiple","","id","filesToUploadApprove","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["filesToUploadApprove",""],["href","javascript:;",1,"btn","btn-light",3,"click"],["href","javascript:;","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"div",0),q.TgZ(1,"div",1),q.TgZ(2,"div",2),q.TgZ(3,"div",3),q.TgZ(4,"div",4),q.TgZ(5,"div",5),q.TgZ(6,"div",6),q.TgZ(7,"div",7),q.TgZ(8,"button",8),q.NdJ("click",function(){return t._switch(9)}),q._UZ(9,"i",9),q._uU(10),q.ALo(11,"translate"),q.qZA(),q.TgZ(12,"button",8),q.NdJ("click",function(){return t._switch(1)}),q._UZ(13,"i",10),q._uU(14),q.ALo(15,"translate"),q.qZA(),q.TgZ(16,"button",8),q.NdJ("click",function(){return t._switch(3)}),q._UZ(17,"i",11),q._uU(18),q.ALo(19,"translate"),q.qZA(),q.TgZ(20,"button",12),q._UZ(21,"i",13),q._uU(22),q.ALo(23,"translate"),q.qZA(),q.TgZ(24,"button",14),q.NdJ("click",function(){q.CHM(n);var e=q.MAs(83);return t._openModal(e,null)}),q._UZ(25,"i",15),q._uU(26),q.ALo(27,"translate"),q.qZA(),q.YNc(28,re,22,15,"div",16),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(29,"div",2),q.TgZ(30,"div",3),q.TgZ(31,"div",4),q.TgZ(32,"div",5),q.TgZ(33,"div",6),q.TgZ(34,"div",17),q.TgZ(35,"div",18),q.TgZ(36,"div",19),q.TgZ(37,"pagination",20),q.NdJ("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),q.qZA(),q.qZA(),q.TgZ(38,"div",21),q.TgZ(39,"a",22),q._uU(40),q.ALo(41,"translate"),q.ALo(42,"translate"),q.ALo(43,"translate"),q.ALo(44,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(45,"div",23),q.TgZ(46,"table",24),q.TgZ(47,"thead"),q.TgZ(48,"th",25),q._uU(49,"#"),q.qZA(),q.TgZ(50,"th",26),q._uU(51),q.ALo(52,"translate"),q.qZA(),q.TgZ(53,"th",26),q._uU(54),q.ALo(55,"translate"),q.qZA(),q.TgZ(56,"th",26),q._uU(57),q.ALo(58,"translate"),q.qZA(),q.TgZ(59,"th",26),q._uU(60),q.ALo(61,"translate"),q.qZA(),q.TgZ(62,"th",26),q._uU(63),q.ALo(64,"translate"),q.qZA(),q.TgZ(65,"th",26),q._uU(66),q.ALo(67,"translate"),q.qZA(),q.qZA(),q.TgZ(68,"tbody"),q.YNc(69,se,6,3,"ng-container",27),q.YNc(70,me,34,24,"ng-container",28),q.qZA(),q.qZA(),q.qZA(),q.TgZ(71,"div",17),q.TgZ(72,"div",18),q.TgZ(73,"div",19),q.TgZ(74,"pagination",20),q.NdJ("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),q.qZA(),q.qZA(),q.TgZ(75,"div",21),q.TgZ(76,"a",22),q._uU(77),q.ALo(78,"translate"),q.ALo(79,"translate"),q.ALo(80,"translate"),q.ALo(81,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.YNc(82,Gt,26,23,"ng-template",null,29,q.W1O),q.YNc(84,rn,121,87,"ng-template",null,30,q.W1O),q.YNc(86,un,52,44,"ng-template",null,31,q.W1O),q.YNc(88,fn,52,44,"ng-template",null,32,q.W1O),q.YNc(90,hn,51,42,"ng-template",null,33,q.W1O),q.YNc(92,vn,42,35,"ng-template",null,34,q.W1O),q.YNc(94,xn,15,6,"ng-template",null,35,q.W1O),q.YNc(96,qn,31,19,"ng-template",null,36,q.W1O)}2&e&&(q.xp6(8),q.Q6J("ngClass",9==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),q.xp6(2),q.hij(" ",q.lcZ(11,41,"All my requests")," "),q.xp6(2),q.Q6J("ngClass",1==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),q.xp6(2),q.hij(" ",q.lcZ(15,43,"Processing requests")," "),q.xp6(2),q.Q6J("ngClass",3==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),q.xp6(2),q.hij(" ",q.lcZ(19,45,"Closed requests")," "),q.xp6(4),q.hij(" ",q.lcZ(23,47,"Search")," "),q.xp6(4),q.hij(" ",q.lcZ(27,49,"Add new")," "),q.xp6(2),q.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),q.xp6(9),q.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),q.xp6(3),q.Q0o("",q.lcZ(41,51,"Total of records"),": ",t.totalRow," - ",q.lcZ(42,53,"Page")," ",t.pageIndex," ",q.lcZ(43,55,"of")," ",t.totalPage," ",q.lcZ(44,57,"page"),""),q.xp6(11),q.Oqu(q.lcZ(52,59,"Title")),q.xp6(3),q.hij(" ",q.lcZ(55,61,"Proposed date")," "),q.xp6(3),q.hij(" ",q.lcZ(58,63,"Reviewed by")," "),q.xp6(3),q.hij(" ",q.lcZ(61,65,"Approved by")," "),q.xp6(3),q.hij(" ",q.lcZ(64,67,"Updated date")," "),q.xp6(3),q.Oqu(q.lcZ(67,69,"Status")),q.xp6(3),q.Q6J("ngIf",0==t._requestslist.length),q.xp6(1),q.Q6J("ngForOf",t._requestslist),q.xp6(4),q.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),q.xp6(3),q.Q0o("",q.lcZ(78,71,"Total of records"),": ",t.totalRow," - ",q.lcZ(79,73,"Page")," ",t.pageIndex," ",q.lcZ(80,75,"of")," ",t.totalPage," ",q.lcZ(81,77,"page"),""))},directives:[r.mk,r.O5,h.Qt,y.JJ,y.On,r.sg,N.jt,N.iD,N.Vi,b.yS,y._Y,y.JL,y.F,r.PC,y.Fj,y.Q7,K.w9,K.Z2,y.EJ,y.YN,y.Kr,K.A3,K.Yi,V.hx,N._L,y.Wl,X.u,y.qQ,y.wV,ee.zr,te.rQ],pipes:[U.X$,r.uU,r.OU],styles:[""]}),n}();function Cn(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"a",34),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(),t=q.MAs(64);return e._openModal(t,null)}),q._UZ(1,"i",35),q._uU(2),q.ALo(3,"translate"),q.qZA()}2&e&&(q.xp6(2),q.hij(" ",q.lcZ(3,1,"Add new")," "))}function Nn(e,t){1&e&&(q.TgZ(0,"a",36),q._UZ(1,"i",37),q._uU(2),q.ALo(3,"translate"),q.qZA()),2&e&&(q.xp6(2),q.hij(" ",q.lcZ(3,1,"Submissions")," "))}function wn(e,t){1&e&&q._UZ(0,"i",38)}function Un(e,t){1&e&&(q.ynx(0),q.TgZ(1,"tr"),q.TgZ(2,"td",39),q.TgZ(3,"h3",40),q._uU(4),q.ALo(5,"translate"),q.qZA(),q.qZA(),q.qZA(),q.BQk()),2&e&&(q.xp6(4),q.hij(" ",q.lcZ(5,1,"No records now!!!")," "))}function kn(e,t){1&e&&q._UZ(0,"img",47)}function En(e,t){1&e&&q._UZ(0,"img",48)}function Jn(e,t){if(1&e){var n=q.EpF();q.ynx(0),q.TgZ(1,"tr"),q.TgZ(2,"td",24),q._uU(3),q.qZA(),q.TgZ(4,"td",24),q._uU(5),q.qZA(),q.TgZ(6,"td",24),q._uU(7),q.qZA(),q.TgZ(8,"td",24),q._uU(9),q.qZA(),q.TgZ(10,"td",24),q.YNc(11,kn,1,0,"img",41),q.YNc(12,En,1,0,"img",42),q.qZA(),q.TgZ(13,"td",24),q.TgZ(14,"a",43),q.NdJ("click",function(){var e=q.CHM(n).$implicit,t=q.oxw(),i=q.MAs(64);return t._openModal(i,e)}),q.ALo(15,"translate"),q._UZ(16,"i",44),q.qZA(),q.TgZ(17,"a",45),q.NdJ("click",function(){var e=q.CHM(n).$implicit;return q.oxw().deleteItem(e)}),q.ALo(18,"translate"),q._UZ(19,"i",46),q.qZA(),q.qZA(),q.qZA(),q.BQk()}if(2&e){var i=t.$implicit,a=t.index,o=q.oxw();q.xp6(3),q.hij(" ",a+1," "),q.xp6(2),q.hij(" ",i.code," "),q.xp6(2),q.hij(" ",i.name_l," "),q.xp6(2),q.hij(" ",i.name_e," "),q.xp6(2),q.Q6J("ngIf",!i.is_active),q.xp6(1),q.Q6J("ngIf",i.is_active),q.xp6(2),q.s9C("ngbTooltip",q.lcZ(15,10,"Edit")),q.Q6J("disabled","Admin"===i.name_e||!o._authenService.hasPermission("DEPT","update")),q.xp6(3),q.s9C("ngbTooltip",q.lcZ(18,12,"Delete")),q.Q6J("disabled","Admin"===i.name_e||!o._authenService.hasPermission("DEPT","delete"))}}function Dn(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",72),q._UZ(2,"img",73),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function Wn(e,t){if(1&e&&(q.TgZ(0,"button",74),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function Ln(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",49,50),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChange()}),q.TgZ(2,"div",51),q.TgZ(3,"h4",52),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.qZA(),q.TgZ(7,"button",53),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(8,"span",54),q._uU(9,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(10,"div",55),q.TgZ(11,"div",56),q.TgZ(12,"div",57),q.TgZ(13,"div",58),q.TgZ(14,"label",59),q._uU(15),q.ALo(16,"translate"),q.TgZ(17,"span",40),q._uU(18,"(*)"),q.qZA(),q.qZA(),q.TgZ(19,"input",60),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.code=e})("keyup",function(){return q.CHM(n),q.oxw().removeBlank()}),q.ALo(20,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(21,"div",61),q.TgZ(22,"div",58),q.TgZ(23,"label",62),q._uU(24),q.ALo(25,"translate"),q.TgZ(26,"span",40),q._uU(27,"(*)"),q.qZA(),q.qZA(),q.TgZ(28,"input",63),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.name_l=e}),q.ALo(29,"translate"),q.ALo(30,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(31,"div",61),q.TgZ(32,"div",58),q.TgZ(33,"input",64),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.name_e=e}),q.ALo(34,"translate"),q.ALo(35,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(36,"div",57),q.TgZ(37,"label",65),q._uU(38),q.ALo(39,"translate"),q.qZA(),q.TgZ(40,"div",66),q.TgZ(41,"input",67),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.is_active=e}),q.qZA(),q.TgZ(42,"label",68),q._uU(43),q.ALo(44,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(45,"div",69),q.TgZ(46,"button",70),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(47),q.ALo(48,"translate"),q.qZA(),q.YNc(49,Dn,5,3,"ng-container",25),q.YNc(50,Wn,3,4,"button",71),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ",null==i.entity.id?q.lcZ(5,20,"Add new"):q.lcZ(6,22,"Update")," ",i._title," "),q.xp6(11),q.hij("",q.lcZ(16,24,"Document code")," "),q.xp6(4),q.s9C("placeholder",q.lcZ(20,26,"Document code")),q.Q6J("ngClass",null==i.entity.id?"form-control":"form-control jdisabled")("ngModel",i.entity.code)("disabled",null!=i.entity.id),q.xp6(5),q.hij("",q.lcZ(25,28,"Document name")," "),q.xp6(4),q.hYB("placeholder","",q.lcZ(29,30,"Document name")," (",q.lcZ(30,32,"Vietnamese"),")"),q.Q6J("ngModel",i.entity.name_l),q.xp6(5),q.hYB("placeholder","",q.lcZ(34,34,"Document name")," (",q.lcZ(35,36,"English"),")"),q.Q6J("ngModel",i.entity.name_e),q.xp6(5),q.Oqu(q.lcZ(39,38,"Status")),q.xp6(3),q.Q6J("ngModel",i.entity.is_active),q.xp6(2),q.Oqu(q.lcZ(44,40,i.entity.is_active?"activated":"not activated")),q.xp6(4),q.hij(" ",q.lcZ(48,42,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSave),q.xp6(1),q.Q6J("ngIf",!i.isSave)}}var In=function(){var e=function(){function e(t,n,i,o,l,r,s,c,u){a(this,e),this._authenService=t,this._dataService=n,this._route=i,this._notifyService=o,this._uploadService=l,this._excelService=r,this._numberFormat=s,this.modalService=c,this._utilyService=u,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this.entity={}}return l(e,[{key:"ngOnInit",value:function(){this.user=this._authenService.getLoggedInUser(),this.loadData()}},{key:"loadData",value:function(){var e=this;this._isLoading=!0,this._dataService.post("/cat-submission/getallDocuments",{page:this.pageIndex,limit:this.pageSize,filter:this._keyword,short_code:this.user.short_code}).subscribe(function(t){e._isLoading=!1,e._requestslist=t.data,e.totalRow=t.rowCount,e.totalPage=t.totalPages},function(){return e._isLoading=!1})}},{key:"_pageSizeChange",value:function(e){this.pageSize=e.target.value,this.loadData()}},{key:"pageChanged",value:function(e){this.pageIndex=e.page,this.loadData()}},{key:"removeBlank",value:function(){this.entity.code=null==this.entity.code?null:this.entity.code.replace(" ","")}},{key:"_openModal",value:function(e,t){null==t?(this.entity={},this.entity.name_l=null,this.entity.name_e=null,this.entity.is_active=!0,this.entity.short_code=this.user.short_code,this._title=""):(this.entity=t,this._title=t.code),this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChange",value:function(){var e=this;this.isSave=!0,null==this.entity.id?(this.entity.code=this.entity.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.entity={},e.entity.name_l=null,e.entity.name_e=null,e.entity.is_active=!0,e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})):this._dataService.post("/cat-submission/updateDocument",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_UPDATENO_EN:x.W.MSG_UPDATENO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"),e.modalService.dismissAll())},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"deleteItem",value:function(e){var t=this;T().fire({title:"en"==this.user.lang?x.W.are_you_sure_en:x.W.are_you_sure,text:"en"==this.user.lang?e.name_e:e.name_l,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.W.cancel_en:x.W.cancel,confirmButtonText:"en"==this.user.lang?x.W.confirmtext_en:x.W.confirmtext}).then(function(n){if(n.value){var i={};i.id=e.id,t._dataService.post("/cat-submission/deleteDocument",i).subscribe(function(e){"failed"!=e.result?(t._notifyService.showSuccess("en"==t.user.lang?x.W.MSG_DELETE_EN:x.W.MSG_DELETE,"OK"),t.loadData()):t._notifyService.showError("en"==t.user.lang?x.W.MSG_DELETENO_EN:x.W.MSG_DELETENO,"en"==t.user.lang?x.W.error_title_en:x.W.error_title)},function(){t._notifyService.showError("en"==t.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==t.user.lang?x.W.error_title_en:x.W.error_title)})}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(d.e),q.Y36(u.D),q.Y36(b.F0),q.Y36(M.c),q.Y36(c.C),q.Y36(s.x),q.Y36(C.p),q.Y36(N.FF),q.Y36(w.t))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-subm-typedocument"]],decls:65,vars:51,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],["class","btn btn-sm btn-info mr-sm-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-secondary mr-sm-2","routerLink","/submissions/requests",4,"ngIf"],["class","fa fa-spinner fa-spin text-primary","style","font-size: 16pt",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"custom-select","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],["content",""],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],[1,"fa","fa-plus"],["routerLink","/submissions/requests",1,"btn","btn-sm","btn-secondary","mr-sm-2"],[1,"fa","fa-clipboard"],[1,"fa","fa-spinner","fa-spin","text-primary",2,"font-size","16pt"],["colspan","6",2,"text-align","center"],[1,"text-danger"],["src","../../../../assets/img/icon-no.svg",4,"ngIf"],["src","../../../../assets/img/icon-yes.svg",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-sm-1",3,"ngbTooltip","disabled","click"],[1,"fa","fa-pencil"],[1,"btn","btn-sm","btn-danger",3,"ngbTooltip","disabled","click"],[1,"fa","fa-trash"],["src","../../../../assets/img/icon-no.svg"],["src","../../../../assets/img/icon-yes.svg"],[1,"form","theme-form",3,"ngSubmit"],["formPG1","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-6"],[1,"form-group"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",3,"ngClass","placeholder","ngModel","disabled","ngModelChange","keyup"],[1,"col-md-12"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,t){1&e&&(q.TgZ(0,"div",0),q.TgZ(1,"div",1),q.TgZ(2,"div",2),q.TgZ(3,"div",3),q.TgZ(4,"div",4),q.TgZ(5,"div",5),q.TgZ(6,"div",6),q.TgZ(7,"div",2),q.TgZ(8,"div",7),q.TgZ(9,"div",8),q.TgZ(10,"input",9),q.NdJ("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),q.ALo(11,"translate"),q.qZA(),q.YNc(12,Cn,4,3,"a",10),q.YNc(13,Nn,4,3,"a",11),q.YNc(14,wn,1,0,"i",12),q.qZA(),q.qZA(),q.TgZ(15,"div",13),q.TgZ(16,"div",14),q.TgZ(17,"select",15),q.NdJ("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),q.TgZ(18,"option",16),q._uU(19,"#10"),q.qZA(),q.TgZ(20,"option",17),q._uU(21,"#25"),q.qZA(),q.TgZ(22,"option",18),q._uU(23,"#50"),q.qZA(),q.TgZ(24,"option",19),q._uU(25,"#100"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(26,"div",20),q.TgZ(27,"div",21),q.TgZ(28,"table",22),q.TgZ(29,"thead"),q.TgZ(30,"th",23),q._uU(31,"#"),q.qZA(),q.TgZ(32,"th",24),q._uU(33),q.ALo(34,"translate"),q.qZA(),q.TgZ(35,"th",24),q._uU(36),q.ALo(37,"translate"),q.ALo(38,"translate"),q.qZA(),q.TgZ(39,"th",24),q._uU(40),q.ALo(41,"translate"),q.ALo(42,"translate"),q.qZA(),q.TgZ(43,"th",24),q._uU(44),q.ALo(45,"translate"),q.qZA(),q.TgZ(46,"th",24),q._uU(47),q.ALo(48,"translate"),q.qZA(),q.qZA(),q.TgZ(49,"tbody"),q.YNc(50,Un,6,3,"ng-container",25),q.YNc(51,Jn,20,14,"ng-container",26),q.qZA(),q.qZA(),q.qZA(),q.TgZ(52,"div",27),q.TgZ(53,"div",28),q.TgZ(54,"div",29),q.TgZ(55,"pagination",30),q.NdJ("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),q.qZA(),q.qZA(),q.TgZ(56,"div",31),q.TgZ(57,"a",32),q._uU(58),q.ALo(59,"translate"),q.ALo(60,"translate"),q.ALo(61,"translate"),q.ALo(62,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.YNc(63,Ln,51,44,"ng-template",null,33,q.W1O)),2&e&&(q.xp6(10),q.Q6J("placeholder",q.lcZ(11,27,"Search"))("ngModel",t._keyword),q.xp6(2),q.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),q.xp6(1),q.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),q.xp6(1),q.Q6J("ngIf",t._isLoading),q.xp6(3),q.Q6J("ngModel",t.pageSize),q.xp6(16),q.hij(" ",q.lcZ(34,29,"Code")," "),q.xp6(3),q.AsE(" ",q.lcZ(37,31,"Document name")," (",q.lcZ(38,33,"Vietnamese"),") "),q.xp6(4),q.AsE(" ",q.lcZ(41,35,"Document name")," (",q.lcZ(42,37,"English"),") "),q.xp6(4),q.hij(" ",q.lcZ(45,39,"Status")," "),q.xp6(3),q.hij(" ",q.lcZ(48,41,"Actions")," "),q.xp6(3),q.Q6J("ngIf",0==t._requestslist.length),q.xp6(1),q.Q6J("ngForOf",t._requestslist),q.xp6(4),q.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),q.xp6(3),q.Q0o("",q.lcZ(59,43,"Total of records"),": ",t.totalRow," - ",q.lcZ(60,45,"Page")," ",t.pageIndex," ",q.lcZ(61,47,"of")," ",t.totalPage," ",q.lcZ(62,49,"page"),""))},directives:[y.Fj,y.JJ,y.On,r.O5,y.EJ,y.YN,y.Kr,r.sg,h.Qt,b.yS,N._L,y._Y,y.JL,y.F,y.Q7,r.mk,y.Wl],pipes:[U.X$],styles:[""]}),e}(),Qn=["attached_file1"];function On(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"a",37),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(),t=q.MAs(68);return e._openModal(t,null)}),q._UZ(1,"i",38),q._uU(2),q.ALo(3,"translate"),q.qZA()}2&e&&(q.xp6(2),q.hij(" ",q.lcZ(3,1,"Add new")," "))}function Pn(e,t){1&e&&(q.TgZ(0,"a",39),q._UZ(1,"i",40),q._uU(2),q.ALo(3,"translate"),q.qZA()),2&e&&(q.xp6(2),q.hij(" ",q.lcZ(3,1,"Submissions")," "))}function Rn(e,t){1&e&&q._UZ(0,"i",41)}function Gn(e,t){1&e&&(q.ynx(0),q.TgZ(1,"tr"),q.TgZ(2,"td",42),q.TgZ(3,"h3",43),q._uU(4),q.ALo(5,"translate"),q.qZA(),q.qZA(),q.qZA(),q.BQk()),2&e&&(q.xp6(4),q.hij(" ",q.lcZ(5,1,"No records now!!!")," "))}function jn(e,t){if(1&e&&(q.TgZ(0,"li"),q._uU(1),q.qZA()),2&e){var n=t.$implicit,i=t.index,a=q.oxw(2);q.xp6(1),q.AsE(" ",i+1,". ","en"==a.user.lang?n.user.title_e:n.user.title_l," ")}}function Yn(e,t){1&e&&q._UZ(0,"img",50)}function Hn(e,t){1&e&&q._UZ(0,"img",51)}function Fn(e,t){if(1&e){var n=q.EpF();q.ynx(0),q.TgZ(1,"tr"),q.TgZ(2,"td",24),q._uU(3),q.qZA(),q.TgZ(4,"td",24),q._uU(5),q.qZA(),q.TgZ(6,"td",24),q._uU(7),q.qZA(),q.TgZ(8,"td",24),q._uU(9),q.qZA(),q.TgZ(10,"td",24),q._uU(11),q.qZA(),q.TgZ(12,"td",24),q.TgZ(13,"ul"),q.YNc(14,jn,2,2,"li",26),q.qZA(),q.qZA(),q.TgZ(15,"td",24),q.YNc(16,Yn,1,0,"img",44),q.YNc(17,Hn,1,0,"img",45),q.qZA(),q.TgZ(18,"td",24),q.TgZ(19,"a",46),q.NdJ("click",function(){var e=q.CHM(n).$implicit,t=q.oxw(),i=q.MAs(68);return t._openModal(i,e)}),q.ALo(20,"translate"),q._UZ(21,"i",47),q.qZA(),q.TgZ(22,"a",48),q.NdJ("click",function(){var e=q.CHM(n).$implicit;return q.oxw().deleteItem(e)}),q.ALo(23,"translate"),q._UZ(24,"i",49),q.qZA(),q.qZA(),q.qZA(),q.BQk()}if(2&e){var i=t.$implicit,a=t.index,o=q.oxw();q.xp6(3),q.hij(" ",a+1," "),q.xp6(2),q.hij(" ","en"==o.user.lang?o.group_name_e:i.group_name_l," "),q.xp6(2),q.hij(" ","en"==o.user.lang?o.document_name_e:i.document_name_l," "),q.xp6(2),q.hij(" ",i.code," "),q.xp6(2),q.hij(" ",i.title," "),q.xp6(3),q.Q6J("ngForOf",i.handle_users.data),q.xp6(2),q.Q6J("ngIf",!i.is_active),q.xp6(1),q.Q6J("ngIf",i.is_active),q.xp6(2),q.s9C("ngbTooltip",q.lcZ(20,12,"Edit")),q.Q6J("disabled","Admin"===i.name_e||!o._authenService.hasPermission("DEPT","update")),q.xp6(3),q.s9C("ngbTooltip",q.lcZ(23,14,"Delete")),q.Q6J("disabled","Admin"===i.name_e||!o._authenService.hasPermission("DEPT","delete"))}}function Bn(e,t){if(1&e&&(q.TgZ(0,"option",96),q._uU(1),q.qZA()),2&e){var n=t.$implicit,i=q.oxw(2);q.s9C("value",n.id),q.xp6(1),q.AsE(" ",n.code," - ","en"==i.user.lang?n.name_e:n.name_l," ")}}function zn(e,t){if(1&e&&(q.TgZ(0,"span"),q._uU(1),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Oqu(n.order)}}function $n(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"input",102),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().$implicit.order=e}),q.qZA()}if(2&e){var i=q.oxw(),a=i.$implicit;q.MGl("name","or",i.index+1,""),q.Q6J("ngModel",a.order)}}function Kn(e,t){if(1&e&&(q.TgZ(0,"span"),q._uU(1),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Oqu(n.user.title)}}function Vn(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"nz-tree-select",103),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(3)._selectDept=e})("ngModelChange",function(){q.CHM(n);var e=q.oxw().$implicit,t=q.oxw(2);return t._getUser(e,t._selectDept)}),q.ALo(1,"translate"),q.qZA()}if(2&e){var i=q.oxw(3);q.s9C("nzPlaceHolder",q.lcZ(1,4,"Please choose")),q.Q6J("nzExpandedKeys",i.expandKeys)("nzNodes",i._departments)("ngModel",i._selectDept)}}function Xn(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Only view")))}function ei(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Passed signature")))}function ti(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Reviewed signature")))}function ni(e,t){1&e&&(q.TgZ(0,"span"),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e&&(q.xp6(1),q.Oqu(q.lcZ(2,1,"Approved signature")))}function ii(e,t){if(1&e&&(q.TgZ(0,"span"),q.YNc(1,Xn,3,3,"span",25),q.YNc(2,ei,3,3,"span",25),q.YNc(3,ti,3,3,"span",25),q.YNc(4,ni,3,3,"span",25),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Q6J("ngIf",0==n.role),q.xp6(1),q.Q6J("ngIf",1==n.role),q.xp6(1),q.Q6J("ngIf",2==n.role),q.xp6(1),q.Q6J("ngIf",3==n.role)}}function ai(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"select",104),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().$implicit.role=e})("change",function(){q.CHM(n);var e=q.oxw().$implicit,t=q.oxw(2);return t._getUser(e,t._selectDept)}),q.TgZ(1,"option",105),q._uU(2),q.ALo(3,"translate"),q.qZA(),q.TgZ(4,"option",106),q._uU(5),q.ALo(6,"translate"),q.qZA(),q.TgZ(7,"option",107),q._uU(8),q.ALo(9,"translate"),q.qZA(),q.TgZ(10,"option",108),q._uU(11),q.ALo(12,"translate"),q.qZA(),q.qZA()}if(2&e){var i=q.oxw(),a=i.$implicit;q.MGl("name","r",i.index+1,""),q.Q6J("ngModel",a.role),q.xp6(2),q.Oqu(q.lcZ(3,6,"Only view")),q.xp6(3),q.hij(" ",q.lcZ(6,8,"Passed signature")," "),q.xp6(3),q.hij(" ",q.lcZ(9,10,"Reviewed signature")," "),q.xp6(3),q.hij(" ",q.lcZ(12,12,"Approved signature")," ")}}function oi(e,t){if(1&e&&(q.TgZ(0,"span"),q._uU(1),q.qZA()),2&e){var n=q.oxw().$implicit;q.xp6(1),q.Oqu(n.time)}}function li(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"input",109),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().$implicit.time=e}),q.qZA()}if(2&e){var i=q.oxw(),a=i.$implicit;q.MGl("name","timer",i.index+1,""),q.Q6J("ngModel",a.time)}}function ri(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"a",110),q.NdJ("click",function(){q.CHM(n);var e=q.oxw().$implicit;return q.oxw(2)._removeItemHandle(e)}),q._UZ(1,"i",49),q.qZA()}}function si(e,t){if(1&e&&(q.TgZ(0,"tr"),q.TgZ(1,"td",24),q.YNc(2,zn,2,1,"span",25),q.YNc(3,$n,1,2,"input",97),q.qZA(),q.TgZ(4,"td",24),q.YNc(5,Kn,2,1,"span",25),q.YNc(6,Vn,2,6,"nz-tree-select",98),q.qZA(),q.TgZ(7,"td",24),q.YNc(8,ii,5,4,"span",25),q.YNc(9,ai,13,14,"select",99),q.qZA(),q.TgZ(10,"td",24),q.YNc(11,oi,2,1,"span",25),q.YNc(12,li,1,2,"input",100),q.qZA(),q.TgZ(13,"td",24),q.YNc(14,ri,2,0,"a",101),q.qZA(),q.qZA()),2&e){var n=t.$implicit,i=q.oxw(2);q.xp6(2),q.Q6J("ngIf",n.flag),q.xp6(1),q.Q6J("ngIf",!n.flag),q.xp6(2),q.Q6J("ngIf",n.flag),q.xp6(1),q.Q6J("ngIf",!n.flag),q.xp6(2),q.Q6J("ngIf",n.flag),q.xp6(1),q.Q6J("ngIf",!n.flag),q.xp6(2),q.Q6J("ngIf",n.flag),q.xp6(1),q.Q6J("ngIf",!n.flag),q.xp6(2),q.Q6J("ngIf",!i.entity.flag_block)}}function ci(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"tfoot"),q.TgZ(1,"tr"),q._UZ(2,"td",111),q.TgZ(3,"td",24),q.TgZ(4,"a",112),q.NdJ("click",function(){return q.CHM(n),q.oxw(2)._addItemHandle(null)}),q._UZ(5,"i",38),q.qZA(),q.qZA(),q.qZA(),q.qZA()}}function ui(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"ck-editor",113,114),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw(2).entity.description=e}),q.qZA()}if(2&e){var i=q.oxw(2);q.Q6J("ngModel",i.entity.description)("fullPage",!0)("config",i.ckEditorConfig)}}function di(e,t){if(1&e&&q._UZ(0,"p",115),2&e){var n=q.oxw(2);q.Q6J("innerHtml",n._detailContent,q.oJD)}}function gi(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"a",56),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(3);return e.removeFile(e.entity)}),q._UZ(1,"i",49),q.qZA()}}function fi(e,t){if(1&e){var n=q.EpF();q.ynx(0),q._uU(1,"| "),q.TgZ(2,"a",116),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(2);return e._downloadFileResult(e.entity.attached_file)}),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.YNc(5,gi,2,0,"a",117),q.BQk()}if(2&e){var i=q.oxw(2);q.xp6(3),q.Oqu(q.lcZ(4,2,"Download attachment")),q.xp6(2),q.Q6J("ngIf",!i.entity.flag_block)}}function pi(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",118),q._UZ(2,"img",119),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function _i(e,t){if(1&e&&(q.TgZ(0,"button",120),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function hi(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",52,53),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChange()}),q.TgZ(2,"div",54),q.TgZ(3,"h4",55),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.ALo(7,"translate"),q.TgZ(8,"a",56),q.NdJ("click",function(){q.CHM(n);var e=q.oxw();return e.entity.flag_block=!e.entity.flag_block}),q._UZ(9,"i",57),q.qZA(),q.qZA(),q.TgZ(10,"button",58),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(11,"span",59),q._uU(12,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(13,"div",60),q.TgZ(14,"div",61),q.TgZ(15,"div",62),q.TgZ(16,"label",63),q._uU(17),q.ALo(18,"translate"),q.TgZ(19,"span",43),q._uU(20,"(*)"),q.qZA(),q._uU(21," - "),q.TgZ(22,"a",64),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(),t=q.MAs(70);return e._popupCategory(t,null)}),q._UZ(23,"i",38),q.qZA(),q.qZA(),q.TgZ(24,"select",65),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.profile_group_id=e}),q.TgZ(25,"option",66),q._uU(26),q.ALo(27,"translate"),q.qZA(),q.YNc(28,Bn,2,3,"option",67),q.qZA(),q.qZA(),q.TgZ(29,"div",62),q.TgZ(30,"label",68),q._uU(31),q.ALo(32,"translate"),q.TgZ(33,"span",43),q._uU(34,"(*)"),q.qZA(),q.qZA(),q.TgZ(35,"input",69),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.code=e})("keyup",function(){return q.CHM(n),q.oxw().removeBlankTypeProfile()}),q.qZA(),q.qZA(),q.TgZ(36,"div",62),q.TgZ(37,"label",70),q._uU(38),q.ALo(39,"translate"),q.TgZ(40,"span",43),q._uU(41,"(*)"),q.qZA(),q.qZA(),q.TgZ(42,"input",71),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.title=e}),q.qZA(),q.qZA(),q.TgZ(43,"div",62),q.TgZ(44,"label",72),q._uU(45),q.ALo(46,"translate"),q.TgZ(47,"span",43),q._uU(48,"(*)"),q.qZA(),q._uU(49," - "),q.TgZ(50,"a",64),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(),t=q.MAs(72);return e._popupCategory1(t,null)}),q._UZ(51,"i",38),q.qZA(),q.qZA(),q.TgZ(52,"ng-select",73),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.document_id=e}),q.ALo(53,"translate"),q.ALo(54,"translate"),q.qZA(),q.qZA(),q.TgZ(55,"div",74),q.TgZ(56,"label",75),q._uU(57),q.ALo(58,"translate"),q.TgZ(59,"span",43),q._uU(60,"(*)"),q.qZA(),q.qZA(),q.TgZ(61,"div",21),q.TgZ(62,"table",76),q.TgZ(63,"thead"),q.TgZ(64,"th",24),q._uU(65),q.ALo(66,"translate"),q.qZA(),q.TgZ(67,"th",24),q._uU(68),q.ALo(69,"translate"),q.TgZ(70,"a",64),q.NdJ("click",function(){q.CHM(n);var e=q.oxw(),t=q.MAs(74);return e._popupDepartment(t,null)}),q._UZ(71,"i",38),q.qZA(),q.qZA(),q.TgZ(72,"th",24),q._uU(73),q.ALo(74,"translate"),q.qZA(),q.TgZ(75,"th",24),q._uU(76),q.ALo(77,"translate"),q.ALo(78,"translate"),q.qZA(),q.TgZ(79,"th",24),q._uU(80),q.ALo(81,"translate"),q.qZA(),q.qZA(),q.TgZ(82,"tbody"),q.YNc(83,si,15,9,"tr",26),q.qZA(),q.YNc(84,ci,6,0,"tfoot",25),q.qZA(),q.qZA(),q.qZA(),q.TgZ(85,"div",74),q.TgZ(86,"label",77),q._uU(87),q.ALo(88,"translate"),q.qZA(),q.YNc(89,ui,2,3,"ck-editor",78),q.YNc(90,di,1,1,"p",79),q.qZA(),q.TgZ(91,"div",80),q.TgZ(92,"label",81),q._uU(93),q.ALo(94,"translate"),q.qZA(),q.TgZ(95,"div",82),q.TgZ(96,"input",83),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.is_active=e}),q.qZA(),q.TgZ(97,"label",84),q._uU(98),q.ALo(99,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(100,"div",85),q.TgZ(101,"label",86),q._uU(102),q.ALo(103,"translate"),q.qZA(),q.TgZ(104,"input",87),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entity.estimated_cost=e}),q.qZA(),q.qZA(),q.TgZ(105,"div",88),q.TgZ(106,"label",89),q._uU(107),q.ALo(108,"translate"),q.YNc(109,fi,6,4,"ng-container",25),q.qZA(),q.TgZ(110,"input",90,91),q.NdJ("change",function(e){q.CHM(n);var t=q.MAs(111);return q.oxw().fileEvent1(e,t)}),q.qZA(),q.TgZ(112,"input",92),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entityUpload1.fileUpload=e}),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(113,"div",93),q.TgZ(114,"button",94),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(115),q.ALo(116,"translate"),q.qZA(),q.YNc(117,pi,5,3,"ng-container",25),q.YNc(118,_i,3,4,"button",95),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ","ADD"==i._flagModal?q.lcZ(5,54,"Add new"):q.lcZ(6,56,"Update")," ",q.lcZ(7,58,i._title)," "),q.xp6(5),q.Q6J("ngClass",i.entity.flag_block?"fa fa-lock":"fa fa-unlock-alt"),q.xp6(8),q.hij("",q.lcZ(18,60,"Profile group")," "),q.xp6(7),q.Q6J("ngModel",i.entity.profile_group_id)("disabled",!!i.entity.flag_block),q.xp6(2),q.Oqu(q.lcZ(27,62,"Please choose")),q.xp6(2),q.Q6J("ngForOf",i._catprofiles),q.xp6(3),q.hij("",q.lcZ(32,64,"Profile code")," "),q.xp6(4),q.Q6J("ngClass",i.entity.flag_block?"form-control jdisabled":"form-control")("ngModel",i.entity.code)("disabled",!!i.entity.flag_block),q.xp6(3),q.hij("",q.lcZ(39,66,"Profile name")," "),q.xp6(4),q.Q6J("ngClass",i.entity.flag_block?"form-control jdisabled":"form-control")("ngModel",i.entity.title)("disabled",!!i.entity.flag_block),q.xp6(3),q.hij("",q.lcZ(46,68,"Type of document")," "),q.xp6(7),q.Q6J("items",i._catdocuments)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("bindLabel","en"==i.user.lang?"name_e":"name_l")("ngModel",i.entity.document_id)("placeholder",q.lcZ(53,70,"Please choose"))("notFoundText",q.lcZ(54,72,"Not found item"))("disabled",!!i.entity.flag_block),q.xp6(5),q.hij("",q.lcZ(58,74,"Configure handling users")," "),q.xp6(8),q.hij(" ",q.lcZ(66,76,"Processing no.")," "),q.xp6(3),q.hij(" ",q.lcZ(69,78,"Manager Unit")," - "),q.xp6(5),q.Oqu(q.lcZ(74,80,"Roles")),q.xp6(3),q.AsE(" ",q.lcZ(77,82,"Time")," (",q.lcZ(78,84,"hours"),") "),q.xp6(4),q.Oqu(q.lcZ(81,86,"Actions")),q.xp6(3),q.Q6J("ngForOf",i.entity.handle_users.data),q.xp6(1),q.Q6J("ngIf",!i.entity.flag_block),q.xp6(3),q.Oqu(q.lcZ(88,88,"Description")),q.xp6(2),q.Q6J("ngIf",!i.entity.flag_block),q.xp6(1),q.Q6J("ngIf",i.entity.flag_block),q.xp6(3),q.Oqu(q.lcZ(94,90,"Status")),q.xp6(3),q.Q6J("ngModel",i.entity.is_active)("disabled",!!i.entity.flag_block),q.xp6(2),q.Oqu(q.lcZ(99,92,i.entity.is_active?"activated":"not activated")),q.xp6(4),q.hij("",q.lcZ(103,94,"Estimated cost")," (VND)"),q.xp6(2),q.Q6J("ngClass",i.entity.flag_block?"form-control jdisabled":"form-control")("ngModel",i.entity.estimated_cost)("disabled",!!i.entity.flag_block),q.xp6(3),q.hij("",q.lcZ(108,96,"Attachment (if any)")," (.doc,.docx,.pdf) "),q.xp6(2),q.Q6J("ngIf",null!=i.entity.attached_file),q.xp6(1),q.Q6J("ngClass",i.entity.flag_block?"form-control jdisabled":"form-control")("disabled",!!i.entity.flag_block),q.xp6(2),q.Q6J("ngModel",i.entityUpload1.fileUpload),q.xp6(3),q.hij(" ",q.lcZ(116,98,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSaveSub),q.xp6(1),q.Q6J("ngIf",!i.isSaveSub&&!i.entity.flag_block)}}function Zi(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",118),q._UZ(2,"img",119),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function mi(e,t){if(1&e&&(q.TgZ(0,"button",120),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function vi(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",52,121),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChangeProfileGroup()}),q.TgZ(2,"div",54),q.TgZ(3,"h4",55),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.ALo(7,"translate"),q.qZA(),q.TgZ(8,"button",58),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(9,"span",59),q._uU(10,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(11,"div",122),q.TgZ(12,"div",61),q.TgZ(13,"div",88),q.TgZ(14,"div",123),q.TgZ(15,"label",124),q._uU(16),q.ALo(17,"translate"),q.TgZ(18,"span",43),q._uU(19,"(*)"),q.qZA(),q.qZA(),q.TgZ(20,"input",125),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.code=e})("keyup",function(){return q.CHM(n),q.oxw().removeBlank()}),q.ALo(21,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(22,"div",74),q.TgZ(23,"div",123),q.TgZ(24,"label",126),q._uU(25),q.ALo(26,"translate"),q.TgZ(27,"span",43),q._uU(28,"(*)"),q.qZA(),q.qZA(),q.TgZ(29,"input",127),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.name_l=e}),q.ALo(30,"translate"),q.ALo(31,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(32,"div",74),q.TgZ(33,"div",123),q.TgZ(34,"input",128),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.name_e=e}),q.ALo(35,"translate"),q.ALo(36,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(37,"div",88),q.TgZ(38,"label",129),q._uU(39),q.ALo(40,"translate"),q.qZA(),q.TgZ(41,"div",82),q.TgZ(42,"input",130),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.is_active=e}),q.qZA(),q.TgZ(43,"label",131),q._uU(44),q.ALo(45,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(46,"div",93),q.TgZ(47,"button",94),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(48),q.ALo(49,"translate"),q.qZA(),q.YNc(50,Zi,5,3,"ng-container",25),q.YNc(51,mi,3,4,"button",95),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ",null==i.entitySub.id?q.lcZ(5,18,"Add new"):q.lcZ(6,20,"Update")," ",q.lcZ(7,22,"Profile group")," "),q.xp6(12),q.hij("",q.lcZ(17,24,"Profile code")," "),q.xp6(4),q.s9C("placeholder",q.lcZ(21,26,"Profile code")),q.Q6J("ngModel",i.entitySub.code),q.xp6(5),q.hij("",q.lcZ(26,28,"Group name")," "),q.xp6(4),q.hYB("placeholder","",q.lcZ(30,30,"Group name")," (",q.lcZ(31,32,"Vietnamese"),")"),q.Q6J("ngModel",i.entitySub.name_l),q.xp6(5),q.hYB("placeholder","",q.lcZ(35,34,"Group name")," (",q.lcZ(36,36,"English"),")"),q.Q6J("ngModel",i.entitySub.name_e),q.xp6(5),q.Oqu(q.lcZ(40,38,"Status")),q.xp6(3),q.Q6J("ngModel",i.entitySub.is_active),q.xp6(2),q.Oqu(q.lcZ(45,40,i.entitySub.is_active?"activated":"not activated")),q.xp6(4),q.hij(" ",q.lcZ(49,42,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSaveSub),q.xp6(1),q.Q6J("ngIf",!i.isSaveSub)}}function Ai(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",118),q._UZ(2,"img",119),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function yi(e,t){if(1&e&&(q.TgZ(0,"button",120),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function bi(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",52,132),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChangeProfileGroup1()}),q.TgZ(2,"div",54),q.TgZ(3,"h4",55),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.ALo(7,"translate"),q.qZA(),q.TgZ(8,"button",58),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(9,"span",59),q._uU(10,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(11,"div",122),q.TgZ(12,"div",61),q.TgZ(13,"div",88),q.TgZ(14,"div",123),q.TgZ(15,"label",133),q._uU(16),q.ALo(17,"translate"),q.TgZ(18,"span",43),q._uU(19,"(*)"),q.qZA(),q.qZA(),q.TgZ(20,"input",134),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.code=e})("keyup",function(){return q.CHM(n),q.oxw().removeBlank()}),q.ALo(21,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(22,"div",74),q.TgZ(23,"div",123),q.TgZ(24,"label",135),q._uU(25),q.ALo(26,"translate"),q.TgZ(27,"span",43),q._uU(28,"(*)"),q.qZA(),q.qZA(),q.TgZ(29,"input",136),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.name_l=e}),q.ALo(30,"translate"),q.ALo(31,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(32,"div",74),q.TgZ(33,"div",123),q.TgZ(34,"input",137),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.name_e=e}),q.ALo(35,"translate"),q.ALo(36,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(37,"div",88),q.TgZ(38,"label",138),q._uU(39),q.ALo(40,"translate"),q.qZA(),q.TgZ(41,"div",82),q.TgZ(42,"input",139),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.is_active=e}),q.qZA(),q.TgZ(43,"label",140),q._uU(44),q.ALo(45,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(46,"div",93),q.TgZ(47,"button",94),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(48),q.ALo(49,"translate"),q.qZA(),q.YNc(50,Ai,5,3,"ng-container",25),q.YNc(51,yi,3,4,"button",95),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ",null==i.entitySub.id?q.lcZ(5,18,"Add new"):q.lcZ(6,20,"Update")," ",q.lcZ(7,22,"Type of document")," "),q.xp6(12),q.hij("",q.lcZ(17,24,"Document code")," "),q.xp6(4),q.s9C("placeholder",q.lcZ(21,26,"Document code")),q.Q6J("ngModel",i.entitySub.code),q.xp6(5),q.hij("",q.lcZ(26,28,"Document name")," "),q.xp6(4),q.hYB("placeholder","",q.lcZ(30,30,"Document name")," (",q.lcZ(31,32,"Vietnamese"),")"),q.Q6J("ngModel",i.entitySub.name_l),q.xp6(5),q.hYB("placeholder","",q.lcZ(35,34,"Document name")," (",q.lcZ(36,36,"English"),")"),q.Q6J("ngModel",i.entitySub.name_e),q.xp6(5),q.Oqu(q.lcZ(40,38,"Status")),q.xp6(3),q.Q6J("ngModel",i.entitySub.is_active),q.xp6(2),q.Oqu(q.lcZ(45,40,i.entitySub.is_active?"activated":"not activated")),q.xp6(4),q.hij(" ",q.lcZ(49,42,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSaveSub),q.xp6(1),q.Q6J("ngIf",!i.isSaveSub)}}function xi(e,t){1&e&&(q.ynx(0),q.TgZ(1,"a",118),q._UZ(2,"img",119),q._uU(3),q.ALo(4,"translate"),q.qZA(),q.BQk()),2&e&&(q.xp6(3),q.hij(" ",q.lcZ(4,1,"Processing")," "))}function Si(e,t){if(1&e&&(q.TgZ(0,"button",120),q._uU(1),q.ALo(2,"translate"),q.qZA()),2&e){q.oxw();var n=q.MAs(1);q.Q6J("disabled",!n.valid),q.xp6(1),q.hij(" ",q.lcZ(2,2,"Save")," ")}}function Ti(e,t){if(1&e){var n=q.EpF();q.TgZ(0,"form",52,141),q.NdJ("ngSubmit",function(){return q.CHM(n),q.oxw().saveChangeDepartment()}),q.TgZ(2,"div",54),q.TgZ(3,"h4",55),q._uU(4),q.ALo(5,"translate"),q.ALo(6,"translate"),q.qZA(),q.TgZ(7,"button",58),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q.TgZ(8,"span",59),q._uU(9,"\xd7"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(10,"div",122),q.TgZ(11,"div",61),q.TgZ(12,"div",74),q.TgZ(13,"div",123),q.TgZ(14,"label",142),q._uU(15),q.ALo(16,"translate"),q.TgZ(17,"span",43),q._uU(18,"(*)"),q.qZA(),q.qZA(),q.TgZ(19,"input",143),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.dept_name_l=e}),q.ALo(20,"translate"),q.ALo(21,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(22,"div",74),q.TgZ(23,"div",123),q.TgZ(24,"input",144),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.dept_name_e=e}),q.ALo(25,"translate"),q.ALo(26,"translate"),q.qZA(),q.qZA(),q.qZA(),q.TgZ(27,"div",88),q.TgZ(28,"label",145),q._uU(29),q.ALo(30,"translate"),q.qZA(),q.TgZ(31,"div",82),q.TgZ(32,"input",146),q.NdJ("ngModelChange",function(e){return q.CHM(n),q.oxw().entitySub.is_active=e}),q.qZA(),q.TgZ(33,"label",147),q._uU(34),q.ALo(35,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(36,"div",93),q.TgZ(37,"button",94),q.NdJ("click",function(){return q.CHM(n).$implicit.dismiss("Cross click")}),q._uU(38),q.ALo(39,"translate"),q.qZA(),q.YNc(40,xi,5,3,"ng-container",25),q.YNc(41,Si,3,4,"button",95),q.qZA(),q.qZA()}if(2&e){var i=q.oxw();q.xp6(4),q.AsE(" ",q.lcZ(5,15,"Add new")," ",q.lcZ(6,17,"Department")," "),q.xp6(11),q.hij("",q.lcZ(16,19,"Name")," "),q.xp6(4),q.hYB("placeholder","",q.lcZ(20,21,"Name")," (",q.lcZ(21,23,"Vietnamese"),")"),q.Q6J("ngModel",i.entitySub.dept_name_l),q.xp6(5),q.hYB("placeholder","",q.lcZ(25,25,"Name")," (",q.lcZ(26,27,"English"),")"),q.Q6J("ngModel",i.entitySub.dept_name_e),q.xp6(5),q.Oqu(q.lcZ(30,29,"Status")),q.xp6(3),q.Q6J("ngModel",i.entitySub.is_active),q.xp6(2),q.Oqu(q.lcZ(35,31,i.entitySub.is_active?"activated":"not activated")),q.xp6(4),q.hij(" ",q.lcZ(39,33,"Close")," "),q.xp6(2),q.Q6J("ngIf",i.isSaveSub),q.xp6(1),q.Q6J("ngIf",!i.isSaveSub)}}var qi=[{path:"",children:[{path:"requests",component:Mn,data:{title:"Requests",breadcrumb:"Requests"}},{path:"type-of-profile",component:function(){var e=function(){function e(t,n,i,o,l,r,s,c,u,d){a(this,e),this._authenService=t,this._dataService=n,this._route=i,this._notifyService=o,this._uploadService=l,this._excelService=r,this._numberFormat=s,this.modalService=c,this._utilyService=u,this.sanitizer=d,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this.entity={},this._flagModal="ADD",this.jfile=null,this.entityUpload1={},this.formData=new FormData,this._catprofiles=[],this._catdocuments=[],this.entitySub={},this.isSaveSub=!1,this._departments=[],this.expandKeys=[],this._selectDept=null,this._getusers=[]}return l(e,[{key:"ngOnInit",value:function(){this.user=this._authenService.getLoggedInUser(),this.loadData(),this.loadCatProfileNP(),this.loadCatDocNP(),this.loadDeptNP()}},{key:"loadData",value:function(){var e=this;this._isLoading=!0,this._dataService.post("/cat-submission/getallMainProfile",{page:this.pageIndex,limit:this.pageSize,filter:this._keyword,short_code:this.user.short_code}).subscribe(function(t){console.log(t),e._isLoading=!1,e._requestslist=t.data,e.totalRow=t.rowCount,e.totalPage=t.totalPages},function(){return e._isLoading=!1})}},{key:"_pageSizeChange",value:function(e){this.pageSize=e.target.value,this.loadData()}},{key:"pageChanged",value:function(e){this.pageIndex=e.page,this.loadData()}},{key:"removeBlankTypeProfile",value:function(){this.entity.code=null==this.entity.code?null:this.entity.code.replace(" ","")}},{key:"loadCatProfileNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallProfileNP",{short_code:this.user.short_code}).subscribe(function(t){e._catprofiles=t.data})}},{key:"loadCatDocNP",value:function(){var e=this;this._dataService.post("/cat-submission/getallDocumentsNP",{short_code:this.user.short_code}).subscribe(function(t){e._catdocuments=t.data})}},{key:"_openModal",value:function(e,t){null==t?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.profile_group_id=null,this.entity.code=null,this.entity.title=null,this.entity.document_id=null,this.entity.description=null,this.entity.handle_users={data:[]},this.entity.estimated_cost=null,this.entity.attached_file=null,this.entity.is_active=!0,this.jfile=null,this._title=""):(this._flagModal="UPDATE",this.entity.handle_users={data:[]},this.loadDetailById(t.id)),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}},{key:"loadDetailById",value:function(e){var n=this;this._dataService.post("/cat-submission/detail",{id:e}).subscribe(function(e){n.entity=e.data,n._title=e.data.code;var i,a=t(n.entity.handle_users.data);try{for(a.s();!(i=a.n()).done;){i.value.flag=!0}}catch(r){a.e(r)}finally{a.f()}if(n._detailContent=null==e.data.description?"":n.sanitizer.bypassSecurityTrustHtml(e.data.description),n.entity.flag_block){var o=window.CKEDITOR;if(o.instances)for(var l in o.instances)o.instances[l].destroy()}})}},{key:"fileEvent1",value:function(e,t){var n=e.target.files[0];if(void 0===n||void 0===n.name)this.attached_file1=null,this.entityUpload1.fileUpload=null,this._notifyService.showError("en"==this.user.lang?x.W.recheck_file_en:x.W.recheck_file,"en"==this.user.lang?x.W.error_title_en:x.W.error_title);else{this.attached_file1=n.name;var i=this.attached_file1.split(".").pop();"doc"===i||"docx"===i||"pdf"===i?this.jfile=e.target:(this._notifyService.showError("en"==this.user.lang?x.W.format_incorrect_en:x.W.format_incorrect,"en"==this.user.lang?x.W.error_title_en:x.W.error_title),this.attached_file1=null,this.entityUpload1.fileUpload=null,t.value="")}}},{key:"_processUpload1",value:function(e,t){var n=this;if(null==e)this._notifyService.showError("en"==this.user.lang?x.W.recheck_file_en:x.W.recheck_file,"en"==this.user.lang?x.W.error_title_en:x.W.error_title);else{var i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFile("/services/uploads/"+i.id+"/"+i.folder_name,e.files).subscribe(function(e){n._updateProfileById(t.id,e.data)})}}},{key:"_updateProfileById",value:function(e,t){var n=this,i={};i.id=e,i.pathFile=t,this._dataService.post("/cat-submission/updateProfileById",i).subscribe(function(e){n.isSave=!1,"failed"===e.result?n._notifyService.showError("en"==n.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==n.user.lang?x.W.error_title_en:x.W.error_title):("ADD"==n._flagModal?(n._flagModal="ADD",n.entity={},n.entity.id=null,n.entity.profile_group_id=null,n.entity.code=null,n.entity.title=null,n.entity.document_id=null,n.entity.description=null,n.entity.handle_users={data:[]},n.entity.estimated_cost=null,n.entity.attached_file=null,n.entity.is_active=!0,n.jfile=null,n._title=""):n.modalService.dismissAll(),n.loadData(),n._notifyService.showSuccess("en"==n.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){n.isSave=!1,n._notifyService.showError("en"==n.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==n.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"saveChange",value:function(){var e=this;this.isSave=!0,console.log(this.entity),0!=this.entity.handle_users.data.length?"ADD"==this._flagModal?null==this.attached_file1?this._dataService.post("/cat-submission/add",this.entity).subscribe(function(t){e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e._flagModal="ADD",e.entity={},e.entity.id=null,e.entity.profile_group_id=null,e.entity.code=null,e.entity.title=null,e.entity.document_id=null,e.entity.description=null,e.entity.handle_users={data:[]},e.entity.estimated_cost=null,e.entity.attached_file=null,e.entity.is_active=!0,e.jfile=null,e._title="",e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)}):this._dataService.post("/cat-submission/add",this.entity).subscribe(function(t){"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):e._processUpload1(e.jfile,t.data)},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)}):null==this.attached_file1?(console.log("No file",this.entity),this.entity.attached_file=null,this._dataService.post("/cat-submission/update",this.entity).subscribe(function(t){console.log(t),e.isSave=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.modalService.dismissAll(),e.loadData(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})):this._dataService.post("/cat-submission/update",this.entity).subscribe(function(t){"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):e._processUpload1(e.jfile,t.data)},function(){e.isSave=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)}):this._notifyService.showError("en"==this.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==this.user.lang?x.W.error_title_en:x.W.error_title)}},{key:"deleteItem",value:function(e){var t=this;T().fire({title:"en"==this.user.lang?x.W.are_you_sure_en:x.W.are_you_sure,text:e.code,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?x.W.cancel_en:x.W.cancel,confirmButtonText:"en"==this.user.lang?x.W.confirmtext_en:x.W.confirmtext}).then(function(n){if(n.value){var i={};i.id=e.id,t._dataService.post("/cat-submission/delete",i).subscribe(function(e){"failed"!=e.result?(t._notifyService.showSuccess("en"==t.user.lang?x.W.MSG_DELETE_EN:x.W.MSG_DELETE,"OK"),t.loadData()):t._notifyService.showError("en"==t.user.lang?x.W.MSG_DELETENO_EN:x.W.MSG_DELETENO,"en"==t.user.lang?x.W.error_title_en:x.W.error_title)},function(){t._notifyService.showError("en"==t.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==t.user.lang?x.W.error_title_en:x.W.error_title)})}})}},{key:"_addItemHandle",value:function(e){if(this.loadDeptNP(),this._selectDept="all",null==e)if(0==this.entity.handle_users.data.length)this.entity.handle_users.data.push({id:1,order:1,user:null,role:null,time:1,flag:!1});else{var n,i=0,a=t(this.entity.handle_users.data);try{for(a.s();!(n=a.n()).done;){var o=n.value;null==o.user&&(o.user={title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"}),null==o.role&&(i+=1)}}catch(s){a.e(s)}finally{a.f()}if(0!=i)return void this._notifyService.showWarning("e"==this.user.lang?x.W.MSG_ERROR_EMPTY_EN:x.W.MSG_ERROR_EMPTY,"e"==this.user.lang?x.W.error_title_en:x.W.error_title);var l,r=t(this.entity.handle_users.data.filter(function(e){return!e.flag}));try{for(r.s();!(l=r.n()).done;){l.value.flag=!0}}catch(s){r.e(s)}finally{r.f()}0==this.entity.handle_users.data.filter(function(e){return!e.flag}).length&&this.entity.handle_users.data.push({id:this.entity.handle_users.data.length+1,order:1,user:null,role:null,time:1,flag:!1})}}},{key:"_removeItemHandle",value:function(e){var n,i=[],a=1,o=t(this.entity.handle_users.data.filter(function(t){return t.id!=e.id}));try{for(o.s();!(n=o.n()).done;){var l=n.value;i.push({id:a,order:l.order,user:l.user,role:l.role,time:l.time,flag:l.flag}),a+=1}}catch(r){o.e(r)}finally{o.f()}this.entity.handle_users.data=i}},{key:"_getUser",value:function(e,n){if(null!=n&&null!=e.role){var i,a=t(this.entity.handle_users.data);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.id==e.id&&(o.user="all"!=n?{title:this._departments.filter(function(e){return e.key==n})[0].title,key:this._departments.filter(function(e){return e.key==n})[0].key,value:this._departments.filter(function(e){return e.key==n})[0].value}:{title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"})}}catch(l){a.e(l)}finally{a.f()}}else this._notifyService.showWarning("e"==this.user.lang?x.W.MSG_ERROR_EMPTY_EN:x.W.MSG_ERROR_EMPTY,"e"==this.user.lang?x.W.error_title_en:x.W.error_title)}},{key:"removeBlank",value:function(){this.entitySub.code=null==this.entitySub.code?null:this.entitySub.code.replace(" ","")}},{key:"_popupCategory",value:function(e,t){this.entitySub={},this.entitySub.name_l=null,this.entitySub.name_e=null,this.entitySub.is_active=!0,this.entitySub.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeProfileGroup",value:function(){var e=this;this.isSaveSub=!0,this.entitySub.code=this.entitySub.code.toUpperCase(),console.log(this.entitySub),this._dataService.post("/cat-submission/addProfile",this.entitySub).subscribe(function(t){e.isSaveSub=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.entitySub={},e.entitySub.name_l=null,e.entitySub.name_e=null,e.entitySub.is_active=!0,e.loadCatProfileNP(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"_popupCategory1",value:function(e,t){this.entitySub={},this.entitySub.name_l=null,this.entitySub.name_e=null,this.entitySub.is_active=!0,this.entitySub.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeProfileGroup1",value:function(){var e=this;this.isSaveSub=!0,this.entitySub.code=this.entitySub.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entitySub).subscribe(function(t){e.isSaveSub=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.entitySub={},e.entitySub.name_l=null,e.entitySub.name_e=null,e.entitySub.is_active=!0,e.loadCatDocNP(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"_popupDepartment",value:function(e,t){this.entitySub={},this.entitySub.dept_name_l=null,this.entitySub.dept_name_e=null,this.entitySub.is_active=!0,this.entitySub.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}},{key:"saveChangeDepartment",value:function(){var e=this;this.isSaveSub=!0,this._dataService.post("/dept/add",this.entitySub).subscribe(function(t){e.isSaveSub=!1,"failed"===t.result?e._notifyService.showError("en"==e.user.lang?x.W.MSG_ADDNO_EN:x.W.MSG_ADDNO,"en"==e.user.lang?x.W.error_title_en:x.W.error_title):(e.entitySub={},e.entitySub.dept_name_l=null,e.entitySub.dept_name_e=null,e.entitySub.is_active=!0,e.entitySub.short_code=e.user.short_code,e.loadDeptNP(),e._notifyService.showSuccess("en"==e.user.lang?x.W.MSG_ADD_EN:x.W.MSG_ADD,"OK"))},function(){e.isSaveSub=!1,e._notifyService.showError("en"==e.user.lang?x.W.MSG_ERROR_EN:x.W.MSG_ERROR,"en"==e.user.lang?x.W.error_title_en:x.W.error_title)})}},{key:"loadDeptNP",value:function(){var e=this,n={};n.short_code=this.user.short_code,this._dataService.post("/dept/getallnopaging",n).subscribe(function(n){var i=[];i.push({key:"all",title:"en"==e.user.lang?"All":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",is_active:!1,parent_id:null,value:"all"});var a,o=t(n.data);try{for(o.s();!(a=o.n()).done;){var l=a.value;i.push({key:l.id,title:"en"==e.user.lang?l.dept_name_e:l.dept_name_l,parent_id:l.parent_id,value:l.id})}}catch(s){o.e(s)}finally{o.f()}var r=e._utilyService.UnflattenFunc(i);e._departments=r})}},{key:"_downloadFileResult",value:function(e){window.open(H.h.BASE_API+"/"+e,"blank")}},{key:"removeFile",value:function(e){var t=this;this._dataService.post("/cat-submission/deleteProfileFile",{id:e.id,path:e.attached_file}).subscribe(function(n){t.loadDetailById(e.id)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(q.Y36(d.e),q.Y36(u.D),q.Y36(b.F0),q.Y36(M.c),q.Y36(c.C),q.Y36(s.x),q.Y36(C.p),q.Y36(N.FF),q.Y36(w.t),q.Y36($.H7))},e.\u0275cmp=q.Xpm({type:e,selectors:[["app-subm-typeprofile"]],viewQuery:function(e,t){var n;(1&e&&q.Gf(Qn,5),2&e)&&(q.iGM(n=q.CRH())&&(t.attached_file1=n.first))},decls:75,vars:51,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],["class","btn btn-sm btn-info mr-sm-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-secondary mr-sm-2","routerLink","/submissions/requests",4,"ngIf"],["class","fa fa-spinner fa-spin text-primary","style","font-size: 16pt",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"custom-select","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],["content",""],["categoryModal",""],["categoryModal1",""],["deptModal",""],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],[1,"fa","fa-plus"],["routerLink","/submissions/requests",1,"btn","btn-sm","btn-secondary","mr-sm-2"],[1,"fa","fa-clipboard"],[1,"fa","fa-spinner","fa-spin","text-primary",2,"font-size","16pt"],["colspan","8",2,"text-align","center"],[1,"text-danger"],["src","../../../../assets/img/icon-no.svg",4,"ngIf"],["src","../../../../assets/img/icon-yes.svg",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-sm-1",3,"ngbTooltip","disabled","click"],[1,"fa","fa-pencil"],[1,"btn","btn-sm","btn-danger",3,"ngbTooltip","disabled","click"],[1,"fa","fa-trash"],["src","../../../../assets/img/icon-no.svg"],["src","../../../../assets/img/icon-yes.svg"],[1,"form","theme-form",3,"ngSubmit"],["f","ngForm"],[1,"modal-header"],[1,"modal-title"],["href","javascript:;",1,"text-danger",3,"click"],[3,"ngClass"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"form-group","row"],[1,"col-md-3"],["for","profile_group",1,"jbold"],["href","javascript:;",1,"btn","btn-outline-info","btn-pill","btn-xs",3,"click"],["id","profile_group","name","profile_group","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","profile_code",1,"jbold"],["type","text","id","profile_code","name","profile_code","required","","autocomplete","off",3,"ngClass","ngModel","disabled","ngModelChange","keyup"],["for","profile_name",1,"jbold"],["type","text","id","profile_name","name","profile_name","required","","autocomplete","off",3,"ngClass","ngModel","disabled","ngModelChange"],["for","type_document",1,"jbold"],["name","type_document","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","disabled","ngModelChange"],[1,"col-md-12"],["for","handling_users",1,"jbold"],[1,"table"],["for","desc",1,"jbold"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange",4,"ngIf"],[3,"innerHtml",4,"ngIf"],[1,"col-md-2"],["for","Status11",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","Status11","type","checkbox","name","Status11",3,"ngModel","disabled","ngModelChange"],["for","Status11"],[1,"col-md-4"],["for","estimated_cost1",1,"jbold"],["id","estimated_cost1","name","estimated_cost1","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",3,"ngClass","ngModel","disabled","ngModelChange"],[1,"col-md-6"],["for","attached_file1",1,"jbold"],["name","attached_file1","type","file","id","attached_file1",3,"ngClass","disabled","change"],["attached_file1",""],["type","hidden","name","attached_file11","accept",".pdf,.doc,.docx",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[3,"value"],["type","number","class","form-control","required","","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["style","width: 100%","nzShowSearch","",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange",4,"ngIf"],["class","form-control","required","",3,"name","ngModel","ngModelChange","change",4,"ngIf"],["type","number","class","form-control","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["href","javascript:;","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["type","number","required","","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["nzShowSearch","",2,"width","100%",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange"],["required","",1,"form-control",3,"name","ngModel","ngModelChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["type","number","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["href","javascript:;",1,"btn","btn-sm","btn-danger",3,"click"],["colspan","4",1,"text-truncate"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange"],["ckeEditor1",""],[3,"innerHtml"],["href","javascript:;",1,"mr-sm-2",3,"click"],["href","javascript:;","class","text-danger",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","submit",1,"btn","btn-primary",3,"disabled"],["formPG","ngForm"],[1,"modal-body"],[1,"form-group"],["for","CodePG",1,"jbold"],["type","text","id","CodePG","name","CodePG","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name1",1,"jbold"],["type","text","id","Name1","name","Name1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name1a","name","Name1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG",1,"jbold"],["id","StatusPG","type","checkbox","name","StatusPG",3,"ngModel","ngModelChange"],["for","StatusPG"],["formPG1","ngForm"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],["formDept","ngForm"],["for","Department1",1,"jbold"],["type","text","id","Department1","name","Department1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Department1a","name","Department1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusDept",1,"jbold"],["id","StatusDept","type","checkbox","name","StatusDept",3,"ngModel","ngModelChange"],["for","StatusDept"]],template:function(e,t){1&e&&(q.TgZ(0,"div",0),q.TgZ(1,"div",1),q.TgZ(2,"div",2),q.TgZ(3,"div",3),q.TgZ(4,"div",4),q.TgZ(5,"div",5),q.TgZ(6,"div",6),q.TgZ(7,"div",2),q.TgZ(8,"div",7),q.TgZ(9,"div",8),q.TgZ(10,"input",9),q.NdJ("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),q.ALo(11,"translate"),q.qZA(),q.YNc(12,On,4,3,"a",10),q.YNc(13,Pn,4,3,"a",11),q.YNc(14,Rn,1,0,"i",12),q.qZA(),q.qZA(),q.TgZ(15,"div",13),q.TgZ(16,"div",14),q.TgZ(17,"select",15),q.NdJ("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),q.TgZ(18,"option",16),q._uU(19,"#10"),q.qZA(),q.TgZ(20,"option",17),q._uU(21,"#25"),q.qZA(),q.TgZ(22,"option",18),q._uU(23,"#50"),q.qZA(),q.TgZ(24,"option",19),q._uU(25,"#100"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.TgZ(26,"div",20),q.TgZ(27,"div",21),q.TgZ(28,"table",22),q.TgZ(29,"thead"),q.TgZ(30,"th",23),q._uU(31,"#"),q.qZA(),q.TgZ(32,"th",24),q._uU(33),q.ALo(34,"translate"),q.qZA(),q.TgZ(35,"th",24),q._uU(36),q.ALo(37,"translate"),q.qZA(),q.TgZ(38,"th",24),q._uU(39),q.ALo(40,"translate"),q.qZA(),q.TgZ(41,"th",24),q._uU(42),q.ALo(43,"translate"),q.qZA(),q.TgZ(44,"th",24),q._uU(45),q.ALo(46,"translate"),q.qZA(),q.TgZ(47,"th",24),q._uU(48),q.ALo(49,"translate"),q.qZA(),q.TgZ(50,"th",24),q._uU(51),q.ALo(52,"translate"),q.qZA(),q.qZA(),q.TgZ(53,"tbody"),q.YNc(54,Gn,6,3,"ng-container",25),q.YNc(55,Fn,25,16,"ng-container",26),q.qZA(),q.qZA(),q.qZA(),q.TgZ(56,"div",27),q.TgZ(57,"div",28),q.TgZ(58,"div",29),q.TgZ(59,"pagination",30),q.NdJ("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),q.qZA(),q.qZA(),q.TgZ(60,"div",31),q.TgZ(61,"a",32),q._uU(62),q.ALo(63,"translate"),q.ALo(64,"translate"),q.ALo(65,"translate"),q.ALo(66,"translate"),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.qZA(),q.YNc(67,hi,119,100,"ng-template",null,33,q.W1O),q.YNc(69,vi,52,44,"ng-template",null,34,q.W1O),q.YNc(71,bi,52,44,"ng-template",null,35,q.W1O),q.YNc(73,Ti,42,35,"ng-template",null,36,q.W1O)),2&e&&(q.xp6(10),q.Q6J("placeholder",q.lcZ(11,27,"Search"))("ngModel",t._keyword),q.xp6(2),q.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),q.xp6(1),q.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),q.xp6(1),q.Q6J("ngIf",t._isLoading),q.xp6(3),q.Q6J("ngModel",t.pageSize),q.xp6(16),q.hij(" ",q.lcZ(34,29,"Profile group")," "),q.xp6(3),q.hij(" ",q.lcZ(37,31,"Type of document")," "),q.xp6(3),q.hij(" ",q.lcZ(40,33,"Code")," "),q.xp6(3),q.hij(" ",q.lcZ(43,35,"Title")," "),q.xp6(3),q.hij(" ",q.lcZ(46,37,"Configure handling users")," "),q.xp6(3),q.hij(" ",q.lcZ(49,39,"Status")," "),q.xp6(3),q.hij(" ",q.lcZ(52,41,"Actions")," "),q.xp6(3),q.Q6J("ngIf",0==t._requestslist.length),q.xp6(1),q.Q6J("ngForOf",t._requestslist),q.xp6(4),q.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),q.xp6(3),q.Q0o("",q.lcZ(63,43,"Total of records"),": ",t.totalRow," - ",q.lcZ(64,45,"Page")," ",t.pageIndex," ",q.lcZ(65,47,"of")," ",t.totalPage," ",q.lcZ(66,49,"page"),""))},directives:[y.Fj,y.JJ,y.On,r.O5,y.EJ,y.YN,y.Kr,r.sg,h.Qt,b.yS,N._L,y._Y,y.JL,y.F,r.mk,y.Q7,K.w9,y.Wl,V.hx,y.wV,ee.zr,X.u],pipes:[U.X$],styles:[""]}),e}(),data:{title:"Type of profile",breadcrumb:"Type of profile"}},{path:"profile-group",component:G,data:{title:"Profile group",breadcrumb:"Profile group"}},{path:"type-of-document",component:In,data:{title:"Type of document",breadcrumb:"Type of document"}}]}],Mi=function(){var e=function e(){a(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=q.oAB({type:e}),e.\u0275inj=q.cJS({imports:[[b.Bz.forChild(qi)],b.Bz]}),e}(),Ci=o(25689),Ni=o(36845),wi=o(16417),Ui=o(45593),ki=function(){var e=function e(){a(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=q.oAB({type:e}),e.\u0275inj=q.cJS({providers:[d.e,u.D,c.C,s.x,U.sK,C.p],imports:[[r.ez,Mi,y.u5,A.JX,v.m9,U.aw,m.mr,Z.kn.forRoot(),h.u3.forRoot(),_.f.forRoot(),p.zk.forRoot(),wi.xc,f.P4,g.F5,Ci.kW,N.IJ,K.A0,V.yI.forRoot(),Ni.Xd,Ui.s8,X.d,ee.cq,te.xC]]}),e}()}}])}();