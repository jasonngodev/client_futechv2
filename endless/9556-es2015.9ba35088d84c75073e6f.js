"use strict";(self.webpackChunkendless=self.webpackChunkendless||[]).push([[9556],{79556:function(e,t,i){i.r(t),i.d(t,{SubmissionsModule:function(){return Mn}});var n=i(38583),s=i(49690),o=i(90217),l=i(65925),a=i(15483),r=i(58920),c=i(75690),d=i(63301),u=i(70453),g=i(72214),h=i(81946),p=i(10743),_=i(93184),f=i(72533),Z=i(3679),m=i(39895),A=i(29022),b=i(88259),y=i.n(b),x=i(37716),v=i(75208),S=i(59543),T=i(12664),q=i(32579),M=i(29790);function C(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"a",34),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(),i=x.MAs(64);return t._openModal(i,null)}),x._UZ(1,"i",35),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"Add new")," "))}function N(e,t){1&e&&(x.TgZ(0,"a",36),x._UZ(1,"i",37),x._uU(2),x.ALo(3,"translate"),x.qZA()),2&e&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"Submissions")," "))}function w(e,t){1&e&&x._UZ(0,"i",38)}function U(e,t){1&e&&(x.ynx(0),x.TgZ(1,"tr"),x.TgZ(2,"td",39),x.TgZ(3,"h3",40),x._uU(4),x.ALo(5,"translate"),x.qZA(),x.qZA(),x.qZA(),x.BQk()),2&e&&(x.xp6(4),x.hij(" ",x.lcZ(5,1,"No records now!!!")," "))}function E(e,t){1&e&&x._UZ(0,"img",47)}function J(e,t){1&e&&x._UZ(0,"img",48)}function D(e,t){if(1&e){const e=x.EpF();x.ynx(0),x.TgZ(1,"tr"),x.TgZ(2,"td",24),x._uU(3),x.qZA(),x.TgZ(4,"td",24),x._uU(5),x.qZA(),x.TgZ(6,"td",24),x._uU(7),x.qZA(),x.TgZ(8,"td",24),x._uU(9),x.qZA(),x.TgZ(10,"td",24),x.YNc(11,E,1,0,"img",41),x.YNc(12,J,1,0,"img",42),x.qZA(),x.TgZ(13,"td",24),x.TgZ(14,"a",43),x.NdJ("click",function(){const t=x.CHM(e).$implicit,i=x.oxw(),n=x.MAs(64);return i._openModal(n,t)}),x.ALo(15,"translate"),x._UZ(16,"i",44),x.qZA(),x.TgZ(17,"a",45),x.NdJ("click",function(){const t=x.CHM(e).$implicit;return x.oxw().deleteItem(t)}),x.ALo(18,"translate"),x._UZ(19,"i",46),x.qZA(),x.qZA(),x.qZA(),x.BQk()}if(2&e){const e=t.$implicit,i=t.index,n=x.oxw();x.xp6(3),x.hij(" ",i+1," "),x.xp6(2),x.hij(" ",e.code," "),x.xp6(2),x.hij(" ",e.name_l," "),x.xp6(2),x.hij(" ",e.name_e," "),x.xp6(2),x.Q6J("ngIf",!e.is_active),x.xp6(1),x.Q6J("ngIf",e.is_active),x.xp6(2),x.s9C("ngbTooltip",x.lcZ(15,10,"Edit")),x.Q6J("disabled","Admin"===e.name_e||!n._authenService.hasPermission("DEPT","update")),x.xp6(3),x.s9C("ngbTooltip",x.lcZ(18,12,"Delete")),x.Q6J("disabled","Admin"===e.name_e||!n._authenService.hasPermission("DEPT","delete"))}}function W(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",72),x._UZ(2,"img",73),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function L(e,t){if(1&e&&(x.TgZ(0,"button",74),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function k(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",49,50),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChange()}),x.TgZ(2,"div",51),x.TgZ(3,"h4",52),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.qZA(),x.TgZ(7,"button",53),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(8,"span",54),x._uU(9,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(10,"div",55),x.TgZ(11,"div",56),x.TgZ(12,"div",57),x.TgZ(13,"div",58),x.TgZ(14,"label",59),x._uU(15),x.ALo(16,"translate"),x.TgZ(17,"span",40),x._uU(18,"(*)"),x.qZA(),x.qZA(),x.TgZ(19,"input",60),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.code=t})("keyup",function(){return x.CHM(e),x.oxw().removeBlank()}),x.ALo(20,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(21,"div",61),x.TgZ(22,"div",58),x.TgZ(23,"label",62),x._uU(24),x.ALo(25,"translate"),x.TgZ(26,"span",40),x._uU(27,"(*)"),x.qZA(),x.qZA(),x.TgZ(28,"input",63),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.name_l=t}),x.ALo(29,"translate"),x.ALo(30,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(31,"div",61),x.TgZ(32,"div",58),x.TgZ(33,"input",64),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.name_e=t}),x.ALo(34,"translate"),x.ALo(35,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(36,"div",57),x.TgZ(37,"label",65),x._uU(38),x.ALo(39,"translate"),x.qZA(),x.TgZ(40,"div",66),x.TgZ(41,"input",67),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.is_active=t}),x.qZA(),x.TgZ(42,"label",68),x._uU(43),x.ALo(44,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(45,"div",69),x.TgZ(46,"button",70),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(47),x.ALo(48,"translate"),x.qZA(),x.YNc(49,W,5,3,"ng-container",25),x.YNc(50,L,3,4,"button",71),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ",null==e.entity.id?x.lcZ(5,20,"Add new"):x.lcZ(6,22,"Update")," ",e._title," "),x.xp6(11),x.hij("",x.lcZ(16,24,"Group code")," "),x.xp6(4),x.s9C("placeholder",x.lcZ(20,26,"Group code")),x.Q6J("ngClass",null==e.entity.id?"form-control":"form-control jdisabled")("ngModel",e.entity.code)("disabled",null!=e.entity.id),x.xp6(5),x.hij("",x.lcZ(25,28,"Group name")," "),x.xp6(4),x.hYB("placeholder","",x.lcZ(29,30,"Group name")," (",x.lcZ(30,32,"Vietnamese"),")"),x.Q6J("ngModel",e.entity.name_l),x.xp6(5),x.hYB("placeholder","",x.lcZ(34,34,"Group name")," (",x.lcZ(35,36,"English"),")"),x.Q6J("ngModel",e.entity.name_e),x.xp6(5),x.Oqu(x.lcZ(39,38,"Status")),x.xp6(3),x.Q6J("ngModel",e.entity.is_active),x.xp6(2),x.Oqu(x.lcZ(44,40,e.entity.is_active?"activated":"not activated")),x.xp6(4),x.hij(" ",x.lcZ(48,42,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSave),x.xp6(1),x.Q6J("ngIf",!e.isSave)}}let I=(()=>{class e{constructor(e,t,i,n,s,o,l,a,r){this._authenService=e,this._dataService=t,this._route=i,this._notifyService=n,this._uploadService=s,this._excelService=o,this._numberFormat=l,this.modalService=a,this._utilyService=r,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this.entity={}}ngOnInit(){this.user=this._authenService.getLoggedInUser(),this.loadData()}loadData(){this._isLoading=!0,this._dataService.post("/cat-submission/getallProfiles",{page:this.pageIndex,limit:this.pageSize,filter:this._keyword,short_code:this.user.short_code}).subscribe(e=>{this._isLoading=!1,this._requestslist=e.data,this.totalRow=e.rowCount,this.totalPage=e.totalPages},()=>this._isLoading=!1)}_pageSizeChange(e){this.pageSize=e.target.value,this.loadData()}pageChanged(e){this.pageIndex=e.page,this.loadData()}removeBlank(){this.entity.code=null==this.entity.code?null:this.entity.code.replace(" ","")}_openModal(e,t){null==t?(this.entity={},this.entity.name_l=null,this.entity.name_e=null,this.entity.is_active=!0,this.entity.short_code=this.user.short_code,this._title=""):(this.entity=t,this._title=t.code),this.modalService.open(e,{size:"md",centered:!0})}saveChange(){this.isSave=!0,null==this.entity.id?(this.entity.code=this.entity.code.toUpperCase(),this._dataService.post("/cat-submission/addProfile",this.entity).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entity={},this.entity.name_l=null,this.entity.name_e=null,this.entity.is_active=!0,this.loadData(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})):this._dataService.post("/cat-submission/updateProfile",this.entity).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_UPDATENO_EN:A.W.MSG_UPDATENO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.loadData(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"),this.modalService.dismissAll())},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}deleteItem(e){y().fire({title:"en"==this.user.lang?A.W.are_you_sure_en:A.W.are_you_sure,text:"en"==this.user.lang?e.name_e:e.name_l,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?A.W.cancel_en:A.W.cancel,confirmButtonText:"en"==this.user.lang?A.W.confirmtext_en:A.W.confirmtext}).then(t=>{if(t.value){let t={};t.id=e.id,this._dataService.post("/cat-submission/deleteProfile",t).subscribe(e=>{"failed"!=e.result?(this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_DELETE_EN:A.W.MSG_DELETE,"OK"),this.loadData()):this._notifyService.showError("en"==this.user.lang?A.W.MSG_DELETENO_EN:A.W.MSG_DELETENO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)},()=>{this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}})}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(a.e),x.Y36(l.D),x.Y36(m.F0),x.Y36(v.c),x.Y36(o.C),x.Y36(s.x),x.Y36(S.p),x.Y36(T.FF),x.Y36(q.t))},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-subm-profilegroup"]],decls:65,vars:51,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],["class","btn btn-sm btn-info mr-sm-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-secondary mr-sm-2","routerLink","/submissions/requests",4,"ngIf"],["class","fa fa-spinner fa-spin text-primary","style","font-size: 16pt",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"custom-select","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],["content",""],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],[1,"fa","fa-plus"],["routerLink","/submissions/requests",1,"btn","btn-sm","btn-secondary","mr-sm-2"],[1,"fa","fa-clipboard"],[1,"fa","fa-spinner","fa-spin","text-primary",2,"font-size","16pt"],["colspan","6",2,"text-align","center"],[1,"text-danger"],["src","../../../../assets/img/icon-no.svg",4,"ngIf"],["src","../../../../assets/img/icon-yes.svg",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-sm-1",3,"ngbTooltip","disabled","click"],[1,"fa","fa-pencil"],[1,"btn","btn-sm","btn-danger",3,"ngbTooltip","disabled","click"],[1,"fa","fa-trash"],["src","../../../../assets/img/icon-no.svg"],["src","../../../../assets/img/icon-yes.svg"],[1,"form","theme-form",3,"ngSubmit"],["formPG1","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-6"],[1,"form-group"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",3,"ngClass","placeholder","ngModel","disabled","ngModelChange","keyup"],[1,"col-md-12"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.TgZ(4,"div",4),x.TgZ(5,"div",5),x.TgZ(6,"div",6),x.TgZ(7,"div",2),x.TgZ(8,"div",7),x.TgZ(9,"div",8),x.TgZ(10,"input",9),x.NdJ("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),x.ALo(11,"translate"),x.qZA(),x.YNc(12,C,4,3,"a",10),x.YNc(13,N,4,3,"a",11),x.YNc(14,w,1,0,"i",12),x.qZA(),x.qZA(),x.TgZ(15,"div",13),x.TgZ(16,"div",14),x.TgZ(17,"select",15),x.NdJ("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),x.TgZ(18,"option",16),x._uU(19,"#10"),x.qZA(),x.TgZ(20,"option",17),x._uU(21,"#25"),x.qZA(),x.TgZ(22,"option",18),x._uU(23,"#50"),x.qZA(),x.TgZ(24,"option",19),x._uU(25,"#100"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(26,"div",20),x.TgZ(27,"div",21),x.TgZ(28,"table",22),x.TgZ(29,"thead"),x.TgZ(30,"th",23),x._uU(31,"#"),x.qZA(),x.TgZ(32,"th",24),x._uU(33),x.ALo(34,"translate"),x.qZA(),x.TgZ(35,"th",24),x._uU(36),x.ALo(37,"translate"),x.ALo(38,"translate"),x.qZA(),x.TgZ(39,"th",24),x._uU(40),x.ALo(41,"translate"),x.ALo(42,"translate"),x.qZA(),x.TgZ(43,"th",24),x._uU(44),x.ALo(45,"translate"),x.qZA(),x.TgZ(46,"th",24),x._uU(47),x.ALo(48,"translate"),x.qZA(),x.qZA(),x.TgZ(49,"tbody"),x.YNc(50,U,6,3,"ng-container",25),x.YNc(51,D,20,14,"ng-container",26),x.qZA(),x.qZA(),x.qZA(),x.TgZ(52,"div",27),x.TgZ(53,"div",28),x.TgZ(54,"div",29),x.TgZ(55,"pagination",30),x.NdJ("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),x.qZA(),x.qZA(),x.TgZ(56,"div",31),x.TgZ(57,"a",32),x._uU(58),x.ALo(59,"translate"),x.ALo(60,"translate"),x.ALo(61,"translate"),x.ALo(62,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.YNc(63,k,51,44,"ng-template",null,33,x.W1O)),2&e&&(x.xp6(10),x.Q6J("placeholder",x.lcZ(11,27,"Search"))("ngModel",t._keyword),x.xp6(2),x.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),x.xp6(1),x.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),x.xp6(1),x.Q6J("ngIf",t._isLoading),x.xp6(3),x.Q6J("ngModel",t.pageSize),x.xp6(16),x.hij(" ",x.lcZ(34,29,"Code")," "),x.xp6(3),x.AsE(" ",x.lcZ(37,31,"Group name")," (",x.lcZ(38,33,"Vietnamese"),") "),x.xp6(4),x.AsE(" ",x.lcZ(41,35,"Group name")," (",x.lcZ(42,37,"English"),") "),x.xp6(4),x.hij(" ",x.lcZ(45,39,"Status")," "),x.xp6(3),x.hij(" ",x.lcZ(48,41,"Actions")," "),x.xp6(3),x.Q6J("ngIf",0==t._requestslist.length),x.xp6(1),x.Q6J("ngForOf",t._requestslist),x.xp6(4),x.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),x.xp6(3),x.Q0o("",x.lcZ(59,43,"Total of records"),": ",t.totalRow," - ",x.lcZ(60,45,"Page")," ",t.pageIndex," ",x.lcZ(61,47,"of")," ",t.totalPage," ",x.lcZ(62,49,"page"),""))},directives:[Z.Fj,Z.JJ,Z.On,n.O5,Z.EJ,Z.YN,Z.Kr,n.sg,g.Qt,m.yS,T._L,Z._Y,Z.JL,Z.F,Z.Q7,n.mk,Z.Wl],pipes:[M.X$],styles:[""]}),e})();var Q=i(49962),O=i.n(Q),P=i(65206),R=i(40496),G=i.n(R),j=i(33098),Y=i(39075),H=i(86640),F=i(72808),B=i(41365),z=i(21388),$=i(3621);const K=["ckeEditor"],V=["ckeEditor1"],X=["combo"],ee=["attached_file"],te=["attached_file1"];function ie(e,t){1&e&&(x.TgZ(0,"div",37),x.TgZ(1,"button",38),x._UZ(2,"i",39),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.TgZ(5,"div",40),x.TgZ(6,"a",41),x._UZ(7,"i",42),x._uU(8),x.ALo(9,"translate"),x.qZA(),x.TgZ(10,"a",43),x._UZ(11,"i",44),x._uU(12),x.ALo(13,"translate"),x.qZA(),x.TgZ(14,"a",45),x._UZ(15,"i",46),x._uU(16),x.ALo(17,"translate"),x.qZA(),x.TgZ(18,"a",47),x._UZ(19,"i",48),x._uU(20),x.ALo(21,"translate"),x.qZA(),x.qZA(),x.qZA()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,5,"Category")," "),x.xp6(5),x.hij(" ",x.lcZ(9,7,"Type of profile")," "),x.xp6(4),x.hij(" ",x.lcZ(13,9,"Profile group")," "),x.xp6(4),x.hij(" ",x.lcZ(17,11,"Type of document")," "),x.xp6(4),x.hij(" ",x.lcZ(21,13,"Manager Unit")," "))}function ne(e,t){1&e&&(x.ynx(0),x.TgZ(1,"tr"),x.TgZ(2,"td",49),x.TgZ(3,"h3",50),x._uU(4),x.ALo(5,"translate"),x.qZA(),x.qZA(),x.qZA(),x.BQk()),2&e&&(x.xp6(4),x.hij(" ",x.lcZ(5,1,"No records now!!!")," "))}function se(e,t){1&e&&(x.TgZ(0,"span",59),x._UZ(1,"i",60),x.qZA())}function oe(e,t){if(1&e&&(x.TgZ(0,"li"),x._uU(1),x.YNc(2,se,2,0,"span",53),x._UZ(3,"br"),x.TgZ(4,"small",52),x._uU(5),x.qZA(),x.qZA()),2&e){const e=t.$implicit,i=t.index,n=x.oxw(2);x.xp6(1),x.AsE(" ",i+1,".",e.user.name," "),x.xp6(1),x.Q6J("ngIf",e.show),x.xp6(3),x.Oqu("en"==n.user.lang?e.user.dept_name_e:e.user.dept_name_l)}}function le(e,t){1&e&&(x.TgZ(0,"span",59),x._UZ(1,"i",60),x.qZA())}function ae(e,t){if(1&e&&(x.ynx(0),x._uU(1),x.ALo(2,"date"),x.BQk()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.hij("",x.xi3(2,1,e.logs.timestamp,"dd/MM/yyyy HH:mm a")," ")}}function re(e,t){1&e&&(x.TgZ(0,"span",61),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Draft")))}function ce(e,t){1&e&&(x.TgZ(0,"span",62),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Processing")))}function de(e,t){1&e&&(x.TgZ(0,"span",63),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Recall")))}function ue(e,t){1&e&&(x.TgZ(0,"span",64),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Completed")))}function ge(e,t){1&e&&(x.TgZ(0,"span",65),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Cancel")))}function he(e,t){if(1&e){const e=x.EpF();x.ynx(0),x.TgZ(1,"tr",51),x.NdJ("click",function(){const t=x.CHM(e).$implicit,i=x.oxw(),n=x.MAs(83);return i._openModal(n,t)}),x.TgZ(2,"td",26),x._uU(3),x.qZA(),x.TgZ(4,"td",26),x._uU(5),x._UZ(6,"br"),x.TgZ(7,"small",52),x._uU(8),x.ALo(9,"translate"),x.qZA(),x.qZA(),x.TgZ(10,"td",26),x._uU(11),x.ALo(12,"date"),x._UZ(13,"br"),x.TgZ(14,"small",52),x._uU(15),x.ALo(16,"translate"),x.qZA(),x.qZA(),x.TgZ(17,"td",26),x.TgZ(18,"ul"),x.YNc(19,oe,6,4,"li",28),x.qZA(),x.qZA(),x.TgZ(20,"td",26),x._uU(21),x.YNc(22,le,2,0,"span",53),x._UZ(23,"br"),x.TgZ(24,"small",52),x._uU(25),x.qZA(),x.qZA(),x.TgZ(26,"td",26),x.YNc(27,ae,3,4,"ng-container",27),x.qZA(),x.TgZ(28,"td",26),x.YNc(29,re,3,3,"span",54),x.YNc(30,ce,3,3,"span",55),x.YNc(31,de,3,3,"span",56),x.YNc(32,ue,3,3,"span",57),x.YNc(33,ge,3,3,"span",58),x.qZA(),x.qZA(),x.BQk()}if(2&e){const e=t.$implicit,i=t.index,n=x.oxw();x.xp6(3),x.hij(" ",i+1," "),x.xp6(2),x.hij(" ",e.title,""),x.xp6(3),x.AsE("",x.lcZ(9,17,"Code"),": ",e.code,""),x.xp6(3),x.hij(" ",x.xi3(12,19,e.timestamp,"dd/MM/yyyy HH:mm"),""),x.xp6(4),x.AsE("",x.lcZ(16,22,"Created by"),": ",e.name,""),x.xp6(4),x.Q6J("ngForOf",e.reviews),x.xp6(2),x.hij(" ",e.approve.user.name," "),x.xp6(1),x.Q6J("ngIf",e.approve.show),x.xp6(3),x.Oqu("en"==n.user.lang?e.approve.user.dept_name_e:e.approve.user.dept_name_l),x.xp6(2),x.Q6J("ngIf",null!=e.logs),x.xp6(2),x.Q6J("ngIf",0==e.is_active),x.xp6(1),x.Q6J("ngIf",1==e.is_active),x.xp6(1),x.Q6J("ngIf",2==e.is_active),x.xp6(1),x.Q6J("ngIf",3==e.is_active),x.xp6(1),x.Q6J("ngIf",4==e.is_active)}}function pe(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",74),x.NdJ("click",function(){return x.CHM(e),x.oxw(2)._chooseButton(2)}),x._uU(1),x.ALo(2,"translate"),x.qZA()}if(2&e){const e=x.oxw(2);x.Q6J("ngClass",2==e._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Timeline")," ")}}function _e(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",74),x.NdJ("click",function(){return x.CHM(e),x.oxw(2)._chooseButton(3)}),x._UZ(1,"i",80),x._uU(2),x.ALo(3,"translate"),x.qZA()}if(2&e){const e=x.oxw(2);x.Q6J("ngClass",3==e._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),x.xp6(2),x.hij(" ",x.lcZ(3,2,"History")," ")}}function fe(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",74),x.NdJ("click",function(){return x.CHM(e),x.oxw(2)._chooseButton(4)}),x._UZ(1,"i",81),x._uU(2),x.ALo(3,"translate"),x.qZA()}if(2&e){const e=x.oxw(2);x.Q6J("ngClass",4==e._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),x.xp6(2),x.hij(" ",x.lcZ(3,2,"Comments")," ")}}function Ze(e,t){if(1&e){const e=x.EpF();x.ynx(0),x._uU(1,"- "),x.TgZ(2,"a",116),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(3),i=x.MAs(85);return t._popupProfile(i,null)}),x._UZ(3,"i",15),x.qZA(),x.BQk()}}function me(e,t){if(1&e&&(x.TgZ(0,"div",117),x._uU(1),x.ALo(2,"slice"),x.qZA()),2&e){const e=t.item;x.Q6J("ngbTooltip",e.title.length>25?e.title:""),x.xp6(1),x.hij(" ",e.title.length>25?x.Dn7(2,2,e.title,0,20)+"..":e.title," ")}}function Ae(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"input",118),x.NdJ("change",function(t){return x.CHM(e),x.oxw(3).toggleCheckAll(t)}),x.qZA(),x._uU(1),x.ALo(2,"translate")}if(2&e){const e=x.oxw(3);x.Q6J("ngModel",e.checkAllIDs),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Choose all")," ")}}function be(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"div",121),x.TgZ(1,"span",122),x._uU(2),x.qZA(),x.TgZ(3,"span",123),x.NdJ("click",function(){const t=x.CHM(e).$implicit;return x.oxw().clear(t)}),x._uU(4,"\xd7"),x.qZA(),x.qZA()}if(2&e){const e=t.$implicit;x.xp6(2),x.AsE("",e.name,"",e.login,"")}}function ye(e,t){if(1&e&&(x.TgZ(0,"div",121),x.TgZ(1,"span",122),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.qZA()),2&e){const e=x.oxw().items;x.xp6(2),x.AsE("",e.length-2," ",x.lcZ(3,2,"more"),"...")}}function xe(e,t){if(1&e&&(x.YNc(0,be,5,2,"div",119),x.ALo(1,"slice"),x.YNc(2,ye,4,4,"div",120)),2&e){const e=t.items;x.Q6J("ngForOf",x.Dn7(1,2,e,0,2)),x.xp6(2),x.Q6J("ngIf",e.length>2)}}function ve(e,t){if(1&e&&(x._UZ(0,"input",124),x._uU(1)),2&e){const e=t.item,i=t.item$;x.MGl("id","item-",t.index,""),x.Q6J("checked",i.selected),x.xp6(1),x.hij(" ",e.name," ")}}function Se(e,t){if(1&e){const e=x.EpF();x.ynx(0),x.TgZ(1,"ck-editor",125,126),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(3).entity.content=t})("change",function(){x.CHM(e);const t=x.oxw(3);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),x.qZA(),x.BQk()}if(2&e){const e=x.oxw(3);x.xp6(1),x.Q6J("ngModel",e.entity.content)("fullPage",!0)("config",e.ckEditorConfig)}}function Te(e,t){if(1&e&&x._UZ(0,"p",127),2&e){const e=x.oxw(3);x.Q6J("innerHtml",e._displayContent,x.oJD)}}function qe(e,t){if(1&e){const e=x.EpF();x.ynx(0),x._uU(1,"- "),x.TgZ(2,"a",128),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(3),i=x.MAs(95);return t.openViewDoc(i,t._originFile)}),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()}2&e&&(x.xp6(3),x.Oqu(x.lcZ(4,1,"Download file")))}function Me(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"input",129,130),x.NdJ("change",function(t){x.CHM(e);const i=x.MAs(1);return x.oxw(3).fileEvent(t,i)}),x.qZA()}}function Ce(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"i",133),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(4);return t.removeAttachment(t.entity.id,t.entity.attached_file,0)}),x.qZA()}}function Ne(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"div",113),x.TgZ(1,"img",131),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(3),i=x.MAs(95);return t.openViewDoc(i,t._originFile)}),x.qZA(),x.TgZ(2,"span",59),x.YNc(3,Ce,1,0,"i",132),x.qZA(),x.qZA()}if(2&e){const e=x.oxw(3);x.xp6(3),x.Q6J("ngIf",0==e.entity.is_active)}}function we(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"input",134,135),x.NdJ("change",function(t){x.CHM(e);const i=x.MAs(1);return x.oxw(3).fileEventMore(t,i)}),x.qZA()}}function Ue(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"span",137),x.TgZ(1,"i",133),x.NdJ("click",function(){x.CHM(e);const t=x.oxw().$implicit,i=x.oxw(3);return i.removeAttachment(i.entity.id,t,1)}),x.qZA(),x.qZA()}}function Ee(e,t){if(1&e){const e=x.EpF();x.ynx(0),x.TgZ(1,"img",131),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(3),i=x.MAs(95);return t.openViewDoc(i,t._originFile)}),x.qZA(),x.YNc(2,Ue,2,0,"span",136),x.BQk()}if(2&e){const e=x.oxw(3);x.xp6(2),x.Q6J("ngIf",0==e.entity.is_active)}}function Je(e,t){if(1&e&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Oqu(e.order)}}function De(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"input",141),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().$implicit.order=t})("change",function(){x.CHM(e);const t=x.oxw(4);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),x.qZA()}if(2&e){const e=x.oxw(),t=e.index,i=e.$implicit;x.MGl("name","orderno",t+1,""),x.MGl("id","orderno",t+1,""),x.Q6J("ngModel",i.order)}}function We(e,t){1&e&&(x.TgZ(0,"span",59),x._UZ(1,"i",60),x.qZA())}function Le(e,t){if(1&e&&(x.TgZ(0,"span"),x._uU(1),x.YNc(2,We,2,0,"span",53),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.hij("",e.user.name," "),x.xp6(1),x.Q6J("ngIf",e.show)}}function ke(e,t){if(1&e){const e=x.EpF();x.ynx(0),x.TgZ(1,"nz-tree-select",142),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(4)._selectUser=t})("ngModelChange",function(){x.CHM(e);const t=x.oxw().$implicit,i=x.oxw(3);return i._getUserNew(t,i._selectUser)}),x.ALo(2,"translate"),x.qZA(),x.BQk()}if(2&e){const e=x.oxw(4);x.xp6(1),x.s9C("nzPlaceHolder",x.lcZ(2,4,"Please choose")),x.Q6J("nzExpandedKeys",e.expandKeys1)("nzNodes",e._getusers)("ngModel",e._selectUser)}}function Ie(e,t){if(1&e&&(x.ynx(0),x._uU(1),x._UZ(2,"br"),x.TgZ(3,"small",52),x._uU(4),x.qZA(),x.BQk()),2&e){const e=x.oxw().$implicit,t=x.oxw(3);x.xp6(1),x.hij(" ","en"==t.user.lang?e.user.title_name_e:e.user.title_name_l,""),x.xp6(3),x.Oqu("en"==t.user.lang?e.user.dept_name_e:e.user.dept_name_l)}}function Qe(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Only view")))}function Oe(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Passed signature")))}function Pe(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Reviewed signature")))}function Re(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Approved signature")))}function Ge(e,t){if(1&e&&(x.ynx(0),x.YNc(1,Qe,3,3,"span",27),x.YNc(2,Oe,3,3,"span",27),x.YNc(3,Pe,3,3,"span",27),x.YNc(4,Re,3,3,"span",27),x.BQk()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Q6J("ngIf",0==e.role),x.xp6(1),x.Q6J("ngIf",1==e.role),x.xp6(1),x.Q6J("ngIf",2==e.role),x.xp6(1),x.Q6J("ngIf",3==e.role)}}function je(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"select",143),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().$implicit.role=t})("change",function(){x.CHM(e);const t=x.oxw(4);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),x.TgZ(1,"option",91),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.TgZ(4,"option",92),x._uU(5),x.ALo(6,"translate"),x.qZA(),x.TgZ(7,"option",93),x._uU(8),x.ALo(9,"translate"),x.qZA(),x.TgZ(10,"option",94),x._uU(11),x.ALo(12,"translate"),x.qZA(),x.qZA()}if(2&e){const e=x.oxw(),t=e.$implicit;x.MGl("name","r",e.index+1,""),x.Q6J("ngModel",t.role),x.xp6(2),x.Oqu(x.lcZ(3,6,"Only view")),x.xp6(3),x.hij(" ",x.lcZ(6,8,"Passed signature")," "),x.xp6(3),x.hij(" ",x.lcZ(9,10,"Reviewed signature")," "),x.xp6(3),x.hij(" ",x.lcZ(12,12,"Approved signature")," ")}}function Ye(e,t){if(1&e&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Oqu(e.time)}}function He(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"input",141),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().$implicit.time=t})("change",function(){x.CHM(e);const t=x.oxw(4);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),x.qZA()}if(2&e){const e=x.oxw(),t=e.index,i=e.$implicit;x.MGl("name","timer",t+1,""),x.MGl("id","timer",t+1,""),x.Q6J("ngModel",i.time)}}function Fe(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"a",144),x.NdJ("click",function(){x.CHM(e);const t=x.oxw().$implicit;return x.oxw(3).removeItemNew(t)}),x._UZ(1,"i",145),x.qZA()}}function Be(e,t){if(1&e&&(x.TgZ(0,"tr"),x.TgZ(1,"td",26),x.YNc(2,Je,2,1,"span",27),x.YNc(3,De,1,3,"input",138),x.qZA(),x.TgZ(4,"td",26),x.YNc(5,Le,3,2,"span",27),x.YNc(6,ke,3,6,"ng-container",27),x.qZA(),x.TgZ(7,"td",26),x.YNc(8,Ie,5,2,"ng-container",27),x.qZA(),x.TgZ(9,"td",26),x.YNc(10,Ge,5,4,"ng-container",27),x.YNc(11,je,13,14,"select",139),x.qZA(),x.TgZ(12,"td",26),x.YNc(13,Ye,2,1,"span",27),x.YNc(14,He,1,3,"input",138),x.qZA(),x.TgZ(15,"td",26),x.YNc(16,Fe,2,0,"a",140),x.qZA(),x.qZA()),2&e){const e=t.$implicit,i=x.oxw(3);x.xp6(2),x.Q6J("ngIf",0!=i.entity.is_active),x.xp6(1),x.Q6J("ngIf",0==i.entity.is_active),x.xp6(2),x.Q6J("ngIf",e.flag||null!=e.user),x.xp6(1),x.Q6J("ngIf",null==e.user),x.xp6(2),x.Q6J("ngIf",null!=e.user),x.xp6(2),x.Q6J("ngIf",e.flag),x.xp6(1),x.Q6J("ngIf",!e.flag),x.xp6(2),x.Q6J("ngIf",e.flag),x.xp6(1),x.Q6J("ngIf",!e.flag),x.xp6(2),x.Q6J("ngIf",!e.allow)}}function ze(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"tfoot"),x.TgZ(1,"tr"),x._UZ(2,"td",146),x.TgZ(3,"td",26),x.TgZ(4,"a",147),x.NdJ("click",function(){return x.CHM(e),x.oxw(3).addItemNew()}),x._UZ(5,"i",15),x.qZA(),x.qZA(),x.qZA(),x.qZA()}}function $e(e,t){if(1&e){const e=x.EpF();x.ynx(0),x.TgZ(1,"div",82),x.TgZ(2,"label",83),x._uU(3),x.ALo(4,"translate"),x.TgZ(5,"span",50),x._uU(6,"(*)"),x.qZA(),x.qZA(),x.TgZ(7,"input",84),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(2).entity.title=t})("change",function(){x.CHM(e);const t=x.oxw(2);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),x.qZA(),x.qZA(),x.TgZ(8,"div",82),x.TgZ(9,"label",85),x._uU(10),x.ALo(11,"translate"),x.TgZ(12,"span",50),x._uU(13,"(*)"),x.qZA(),x.YNc(14,Ze,4,0,"ng-container",27),x.qZA(),x.TgZ(15,"ng-select",86),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(2).entity.profile_cat_id=t})("change",function(){x.CHM(e);const t=x.oxw(2);return t._diagramChange(t.entity.profile_cat_id)}),x.ALo(16,"translate"),x.ALo(17,"translate"),x.YNc(18,me,3,6,"ng-template",87),x.qZA(),x.qZA(),x.TgZ(19,"div",88),x.TgZ(20,"label",89),x._uU(21),x.ALo(22,"translate"),x.qZA(),x.TgZ(23,"select",90),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(2).entity.critical_level=t})("change",function(){x.CHM(e);const t=x.oxw(2);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),x.TgZ(24,"option",91),x._uU(25),x.ALo(26,"translate"),x.qZA(),x.TgZ(27,"option",92),x._uU(28),x.ALo(29,"translate"),x.qZA(),x.TgZ(30,"option",93),x._uU(31),x.ALo(32,"translate"),x.qZA(),x.TgZ(33,"option",94),x._uU(34),x.ALo(35,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(36,"div",88),x.TgZ(37,"label",95),x._uU(38),x.ALo(39,"translate"),x.qZA(),x.TgZ(40,"select",96),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(2).entity.priority_level=t})("change",function(){x.CHM(e);const t=x.oxw(2);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),x.TgZ(41,"option",91),x._uU(42),x.ALo(43,"translate"),x.qZA(),x.TgZ(44,"option",92),x._uU(45),x.ALo(46,"translate"),x.qZA(),x.TgZ(47,"option",93),x._uU(48),x.ALo(49,"translate"),x.qZA(),x.TgZ(50,"option",94),x._uU(51),x.ALo(52,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(53,"div",97),x.TgZ(54,"label",98),x._uU(55),x.ALo(56,"translate"),x.qZA(),x.TgZ(57,"ng-select",99,100),x.NdJ("blur",function(){return x.CHM(e),x.oxw(2).onTouched()})("change",function(){x.CHM(e);const t=x.oxw(2);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null}),x.ALo(59,"translate"),x.ALo(60,"translate"),x.YNc(61,Ae,3,4,"ng-template",101),x.YNc(62,xe,3,6,"ng-template",102),x.YNc(63,ve,2,3,"ng-template",87),x.qZA(),x.qZA(),x.TgZ(64,"div",82),x.TgZ(65,"label",103),x._uU(66),x.ALo(67,"translate"),x.qZA(),x.TgZ(68,"input",104),x.NdJ("change",function(){x.CHM(e);const t=x.oxw(2);return 0==t.entity.is_active&&null!=t.entity.id?t.updateSubmissionChanges():null})("ngModelChange",function(t){return x.CHM(e),x.oxw(2).entity.estimated_cost=t}),x.qZA(),x.qZA(),x.TgZ(69,"div",73),x.TgZ(70,"label",105),x._uU(71),x.ALo(72,"translate"),x.qZA(),x.YNc(73,Se,3,3,"ng-container",27),x.YNc(74,Te,1,1,"p",106),x.qZA(),x.TgZ(75,"div",73),x.TgZ(76,"label",107),x._uU(77),x.ALo(78,"translate"),x.YNc(79,qe,5,3,"ng-container",27),x.qZA(),x.YNc(80,Me,2,0,"input",108),x.TgZ(81,"input",109),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(2).entityUpload.fileUpload=t}),x.qZA(),x.YNc(82,Ne,4,1,"div",110),x.qZA(),x.TgZ(83,"div",73),x.TgZ(84,"label",111),x._uU(85),x.ALo(86,"translate"),x.qZA(),x.YNc(87,we,2,0,"input",112),x.TgZ(88,"div",113),x.YNc(89,Ee,3,1,"ng-container",28),x.qZA(),x.qZA(),x.TgZ(90,"div",73),x.TgZ(91,"label",114),x._uU(92),x.ALo(93,"translate"),x.qZA(),x.TgZ(94,"div",23),x.TgZ(95,"table",115),x.TgZ(96,"thead"),x.TgZ(97,"th",26),x._uU(98),x.ALo(99,"translate"),x.qZA(),x.TgZ(100,"th",26),x._uU(101),x.ALo(102,"translate"),x.qZA(),x.TgZ(103,"th",26),x._uU(104),x.ALo(105,"translate"),x.qZA(),x.TgZ(106,"th",26),x._uU(107),x.ALo(108,"translate"),x.qZA(),x.TgZ(109,"th",26),x._uU(110),x.ALo(111,"translate"),x.qZA(),x.TgZ(112,"th",26),x._uU(113),x.ALo(114,"translate"),x.qZA(),x.qZA(),x.TgZ(115,"tbody"),x.YNc(116,Be,17,10,"tr",28),x.qZA(),x.YNc(117,ze,6,0,"tfoot",27),x.qZA(),x.qZA(),x.qZA(),x.BQk()}if(2&e){const e=x.oxw(2);x.xp6(3),x.hij("",x.lcZ(4,62,"Title")," "),x.xp6(4),x.Q6J("ngModel",e.entity.title)("ngClass",0==e.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=e.entity.is_active),x.xp6(3),x.hij("",x.lcZ(11,64,"Type of profile")," "),x.xp6(4),x.Q6J("ngIf",0==e.entity.is_active),x.xp6(1),x.Q6J("items",e._profiles)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("ngModel",e.entity.profile_cat_id)("placeholder",x.lcZ(16,66,"Please choose"))("notFoundText",x.lcZ(17,68,"Not found item"))("disabled",0!=e.entity.is_active),x.xp6(6),x.Oqu(x.lcZ(22,70,"Critical level")),x.xp6(2),x.Q6J("ngModel",e.entity.critical_level)("ngClass",0==e.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=e.entity.is_active),x.xp6(2),x.Oqu(x.lcZ(26,72,"Normal")),x.xp6(3),x.Oqu(x.lcZ(29,74,"Important")),x.xp6(3),x.Oqu(x.lcZ(32,76,"Very important")),x.xp6(3),x.Oqu(x.lcZ(35,78,"Urgent")),x.xp6(4),x.Oqu(x.lcZ(39,80,"Priority level")),x.xp6(2),x.Q6J("ngModel",e.entity.priority_level)("ngClass",0==e.entity.is_active?"form-control":"form-control jdisabled")("disabled",0!=e.entity.is_active),x.xp6(2),x.Oqu(x.lcZ(43,82,"Normal")),x.xp6(3),x.Oqu(x.lcZ(46,84,"Hurry up")),x.xp6(3),x.Oqu(x.lcZ(49,86,"Urgent")),x.xp6(3),x.Oqu(x.lcZ(52,88,"Very urgent")),x.xp6(4),x.Oqu(x.lcZ(56,90,"Related requests")),x.xp6(2),x.Q6J("multiple",!0)("items",e.related_requests)("closeOnSelect",!1)("placeholder",x.lcZ(59,92,"Please choose"))("notFoundText",x.lcZ(60,94,"Not found item"))("ngModel",e.entity.related_ids)("disabled",0!=e.entity.is_active),x.xp6(9),x.hij("",x.lcZ(67,96,"Estimated cost")," (VND)"),x.xp6(2),x.Q6J("ngClass",0==e.entity.is_active?"form-control":"form-control jdisabled")("ngModel",e.entity.estimated_cost)("disabled",0!=e.entity.is_active),x.xp6(3),x.Oqu(x.lcZ(72,98,"Content")),x.xp6(2),x.Q6J("ngIf",0==e.entity.is_active),x.xp6(1),x.Q6J("ngIf",0!=e.entity.is_active),x.xp6(3),x.hij("",x.lcZ(78,100,"Attachment (if any)")," (.doc,.docx,.pdf) "),x.xp6(2),x.Q6J("ngIf",null!=e._originFile),x.xp6(1),x.Q6J("ngIf",0==e.entity.is_active&&null==e.entity.attached_file),x.xp6(1),x.Q6J("ngModel",e.entityUpload.fileUpload),x.xp6(1),x.Q6J("ngIf",null!=e.entity.attached_file),x.xp6(3),x.hij("",x.lcZ(86,102,"More attachment (if any)")," (.doc,.docx,.pdf) "),x.xp6(2),x.Q6J("ngIf",0==e.entity.is_active),x.xp6(2),x.Q6J("ngForOf",e.other_attached_files),x.xp6(3),x.Oqu(x.lcZ(93,104,"Handling staff")),x.xp6(6),x.hij(" ",x.lcZ(99,106,"Processing no.")," "),x.xp6(3),x.Oqu(x.lcZ(102,108,"Fullname")),x.xp6(3),x.Oqu(x.lcZ(105,110,"Title1")),x.xp6(3),x.Oqu(x.lcZ(108,112,"Method1")),x.xp6(3),x.Oqu(x.lcZ(111,114,"Time")),x.xp6(3),x.Oqu(x.lcZ(114,116,"Actions")),x.xp6(3),x.Q6J("ngForOf",e.handling_users),x.xp6(1),x.Q6J("ngIf",0==e.entity.is_active)}}function Ke(e,t){1&e&&(x.TgZ(0,"div",152),x.TgZ(1,"h4",50),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.qZA()),2&e&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"No records now!!!")," "))}function Ve(e,t){1&e&&x._UZ(0,"img",156)}function Xe(e,t){if(1&e&&(x.ynx(0),x._uU(1),x.ALo(2,"date"),x.ALo(3,"date"),x.BQk()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.AsE(", ",x.xi3(2,2,e.timestamp,"HH:mm a")," - ",x.xi3(3,5,e.timestamp,"dd/MM/yyyy"),"")}}function et(e,t){if(1&e&&(x.TgZ(0,"div",152),x.TgZ(1,"div"),x.YNc(2,Ve,1,0,"img",153),x.qZA(),x.TgZ(3,"div",154),x.TgZ(4,"h6"),x._uU(5),x.TgZ(6,"span",155),x._uU(7),x.ALo(8,"date"),x.qZA(),x.qZA(),x._uU(9),x.ALo(10,"translate"),x.YNc(11,Xe,4,8,"ng-container",27),x.qZA(),x.qZA()),2&e){const e=t.$implicit;x.xp6(1),x.Gre("timeline-round m-r-30 timeline-line-1 ",null!=e.timestamp?"":e.flag?"bg-info":"bg-warning",""),x.xp6(1),x.Q6J("ngIf",null!=e.timestamp),x.xp6(3),x.hij(" ",e.user.name," "),x.xp6(2),x.Oqu(x.xi3(8,8,e.timestamp,"dd/MM/yyyy HH:mm")),x.xp6(2),x.hij(" ",x.lcZ(10,11,e.content),""),x.xp6(2),x.Q6J("ngIf",null!=e.timestamp)}}function tt(e,t){if(1&e&&(x.TgZ(0,"div",148),x._UZ(1,"hr"),x.TgZ(2,"div",2),x.TgZ(3,"div",6),x.TgZ(4,"div",149),x.YNc(5,Ke,4,3,"div",150),x.YNc(6,et,12,13,"div",151),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&e){const e=x.oxw(2);x.xp6(5),x.Q6J("ngIf",0==e._diagrams.length),x.xp6(1),x.Q6J("ngForOf",e._diagrams)}}function it(e,t){1&e&&(x.TgZ(0,"div",152),x.TgZ(1,"h4",50),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.qZA()),2&e&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"No records now!!!")," "))}function nt(e,t){if(1&e&&(x.ynx(0),x.TgZ(1,"small",52),x._uU(2),x.ALo(3,"translate"),x.ALo(4,"translate"),x.qZA(),x._UZ(5,"br"),x.BQk()),2&e){const e=x.oxw().$implicit;x.xp6(2),x.AsE("",x.lcZ(3,2,"Messages"),": ",x.lcZ(4,4,e.messages),"")}}function st(e,t){if(1&e&&(x.ynx(0),x.TgZ(1,"small",52),x._uU(2),x.ALo(3,"translate"),x.qZA(),x._UZ(4,"br"),x.BQk()),2&e){const e=x.oxw().$implicit;x.xp6(2),x.AsE("",x.lcZ(3,2,"Content"),": ",e.content,"")}}function ot(e,t){if(1&e&&(x.TgZ(0,"small",52),x._uU(1),x.ALo(2,"translate"),x.ALo(3,"translate"),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.AsE("",x.lcZ(2,2,"Approved cost"),": ",x.lcZ(3,4,e.approved_cost),"")}}function lt(e,t){if(1&e&&(x.TgZ(0,"div",152),x.TgZ(1,"div",157),x._UZ(2,"img",156),x.qZA(),x.TgZ(3,"div",154),x.TgZ(4,"h6"),x._uU(5),x.TgZ(6,"span",155),x._uU(7),x.ALo(8,"date"),x.qZA(),x.qZA(),x.YNc(9,nt,6,6,"ng-container",27),x.YNc(10,st,5,4,"ng-container",27),x.YNc(11,ot,4,6,"small",158),x.qZA(),x.qZA()),2&e){const e=t.$implicit;x.xp6(5),x.hij(" ",e.user.name," "),x.xp6(2),x.Oqu(x.xi3(8,5,e.timestamp,"dd/MM/yyyy HH:mm")),x.xp6(2),x.Q6J("ngIf",null!=e.messages),x.xp6(1),x.Q6J("ngIf",null!=e.content),x.xp6(1),x.Q6J("ngIf",null!=e.approved_cost)}}function at(e,t){if(1&e&&(x.TgZ(0,"div",73),x._UZ(1,"hr"),x.TgZ(2,"div",2),x.TgZ(3,"div",6),x.TgZ(4,"div",149),x.YNc(5,it,4,3,"div",150),x.YNc(6,lt,12,8,"div",151),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&e){const e=x.oxw(2);x.xp6(5),x.Q6J("ngIf",0==e._histories.length),x.xp6(1),x.Q6J("ngForOf",e._histories)}}function rt(e,t){if(1&e&&(x.ynx(0),x._UZ(1,"img",177),x.BQk()),2&e){const e=x.oxw(2).$implicit,t=x.oxw(3);x.xp6(1),x.Q6J("src",t.baseFolder+"/"+e.avatar,x.LSH)}}function ct(e,t){1&e&&(x.ynx(0),x._UZ(1,"img",178),x.BQk())}function dt(e,t){if(1&e&&(x.TgZ(0,"div",173),x.YNc(1,rt,2,1,"ng-container",27),x.YNc(2,ct,2,0,"ng-container",27),x.TgZ(3,"div",174),x.TgZ(4,"small",175),x._uU(5),x.qZA(),x.TgZ(6,"span",176),x._uU(7),x.ALo(8,"date"),x.qZA(),x.qZA(),x._uU(9),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Q6J("ngIf",null!=e.avatar&&""!=e.avatar),x.xp6(1),x.Q6J("ngIf",null==e.avatar||""==e.avatar),x.xp6(3),x.hij("",e.name,","),x.xp6(2),x.Oqu(x.xi3(8,5,null==e?null:e.timestamp,"dd/MM/yyyy HH:mm a")),x.xp6(2),x.hij(" ",null==e?null:e.messages," ")}}function ut(e,t){if(1&e&&(x.ynx(0),x._UZ(1,"img",181),x.BQk()),2&e){const e=x.oxw(2).$implicit,t=x.oxw(3);x.xp6(1),x.Q6J("src",t.baseFolder+"/"+e.avatar,x.LSH)}}function gt(e,t){1&e&&(x.ynx(0),x._UZ(1,"img",182),x.BQk())}function ht(e,t){if(1&e&&(x.TgZ(0,"div",179),x.YNc(1,ut,2,1,"ng-container",27),x.YNc(2,gt,2,0,"ng-container",27),x.TgZ(3,"div",180),x.TgZ(4,"small",175),x._uU(5),x.qZA(),x.TgZ(6,"span",176),x._uU(7),x.ALo(8,"date"),x.qZA(),x.qZA(),x._uU(9),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Q6J("ngIf",null!=e.avatar&&""!=e.avatar),x.xp6(1),x.Q6J("ngIf",null==e.avatar||""==e.avatar),x.xp6(3),x.hij("",e.name,","),x.xp6(2),x.Oqu(x.xi3(8,5,null==e?null:e.timestamp,"dd/MM/yyyy HH:mm a")),x.xp6(2),x.hij(" ",null==e?null:e.messages," ")}}const pt=function(e){return{clearfix:e}};function _t(e,t){if(1&e&&(x.TgZ(0,"li",170),x.YNc(1,dt,10,8,"div",171),x.YNc(2,ht,10,8,"ng-template",null,172,x.W1O),x.qZA()),2&e){const e=t.$implicit,i=x.MAs(3),n=x.oxw(3);x.Q6J("ngClass",x.VKq(3,pt,e.depended_id==n.user.id)),x.xp6(1),x.Q6J("ngIf",e.depended_id!=n.user.id)("ngIfElse",i)}}function ft(e,t){1&e&&(x.ynx(0),x.TgZ(1,"div",183),x.TgZ(2,"div",184),x._UZ(3,"img",185),x.qZA(),x.qZA(),x.BQk())}function Zt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"div",73),x.TgZ(1,"div",2),x.TgZ(2,"div",6),x.TgZ(3,"div",159),x.TgZ(4,"div",160),x.TgZ(5,"div",161),x.TgZ(6,"div",162),x.TgZ(7,"input",163),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(2)._contents=t})("change",function(){return x.CHM(e),x.oxw(2)._addChat()}),x.ALo(8,"translate"),x.qZA(),x.TgZ(9,"ul",164),x.TgZ(10,"li",165),x.TgZ(11,"a",166),x._UZ(12,"i",167),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(13,"div",168),x.TgZ(14,"ul"),x.YNc(15,_t,4,5,"li",169),x.YNc(16,ft,4,0,"ng-container",27),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA()}if(2&e){const e=x.oxw(2);x.xp6(7),x.MGl("placeholder","",x.lcZ(8,4,"Enter content"),"..."),x.Q6J("ngModel",e._contents),x.xp6(8),x.Q6J("ngForOf",e.chats),x.xp6(1),x.Q6J("ngIf",!(null!=e.chats&&e.chats.length))}}function mt(e,t){if(1&e){const e=x.EpF();x.ynx(0),x.TgZ(1,"button",188),x.NdJ("click",function(){return x.CHM(e),x.oxw(3).cancelSubmission()}),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.BQk()}2&e&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"Cancel")," "))}function At(e,t){if(1&e){const e=x.EpF();x.ynx(0),x.TgZ(1,"button",189),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(4),i=x.MAs(97);return t.disagreeSubmission(i,"disagree")}),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.BQk()}2&e&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"Disagree")," "))}function bt(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",190),x._UZ(2,"img",191),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function yt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",193),x.NdJ("click",function(){return x.CHM(e),x.oxw(5).submissionChange(0)}),x._uU(1),x.ALo(2,"translate"),x.qZA()}2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"Save")," "))}function xt(e,t){if(1&e&&(x.ynx(0),x.YNc(1,yt,3,3,"button",192),x.BQk()),2&e){const e=x.oxw(4);x.xp6(1),x.Q6J("ngIf",!e.isSave)}}function vt(e,t){1&e&&x.GkF(0)}function St(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",194),x._UZ(2,"img",191),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function Tt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",196),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(5);return t.approvedByUser(t.entity.is_active,1)}),x._uU(1),x.ALo(2,"translate"),x.qZA()}2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"Sign")," "))}function qt(e,t){if(1&e&&(x.ynx(0),x.YNc(1,Tt,3,3,"button",195),x.BQk()),2&e){const e=x.oxw(4);x.xp6(1),x.Q6J("ngIf",!e.isSaveSigned)}}function Mt(e,t){if(1&e&&(x.TgZ(0,"ng-contatiner"),x.YNc(1,At,4,3,"ng-container",27),x.YNc(2,bt,5,3,"ng-container",27),x.YNc(3,xt,2,1,"ng-container",27),x.YNc(4,vt,1,0,"ng-container",27),x.YNc(5,St,5,3,"ng-container",27),x.YNc(6,qt,2,1,"ng-container",27),x.qZA()),2&e){const e=x.oxw(3);x.xp6(1),x.Q6J("ngIf",e._flagShow),x.xp6(1),x.Q6J("ngIf",e.isSave),x.xp6(1),x.Q6J("ngIf","ADD"==e._flagModal),x.xp6(1),x.Q6J("ngIf","ADD"!=e._flagModal&&0!=e.entity.is_active),x.xp6(1),x.Q6J("ngIf",e.isSaveSigned),x.xp6(1),x.Q6J("ngIf","ADD"!=e._flagModal&&e._flagShow)}}function Ct(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",189),x.NdJ("click",function(){return x.CHM(e),x.oxw(5).submissionRecall()}),x._uU(1),x.ALo(2,"translate"),x.qZA()}2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"Recall")," "))}function Nt(e,t){if(1&e&&(x.ynx(0),x.YNc(1,Ct,3,3,"button",197),x.BQk()),2&e){const e=x.oxw(4);x.xp6(1),x.Q6J("ngIf",!e.isSaveSigned)}}function wt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",196),x.NdJ("click",function(){return x.CHM(e),x.oxw(5).submissionChange(1)}),x._uU(1),x.ALo(2,"translate"),x.qZA()}if(2&e){const e=x.oxw(5);x.xp6(1),x.hij(" ",x.lcZ(2,1,0==e.entity.is_active?"Sign":"Resign")," ")}}function Ut(e,t){if(1&e&&(x.ynx(0),x.YNc(1,wt,3,3,"button",195),x.BQk()),2&e){const e=x.oxw(4);x.xp6(1),x.Q6J("ngIf",!e.isSaveSigned)}}function Et(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"button",196),x.NdJ("click",function(){return x.CHM(e),x.oxw(5).submissionChange(1)}),x._uU(1),x.ALo(2,"translate"),x.qZA()}2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"Sign")," "))}function Jt(e,t){if(1&e&&(x.ynx(0),x.YNc(1,Et,3,3,"button",195),x.BQk()),2&e){const e=x.oxw(4);x.xp6(1),x.Q6J("ngIf",!e.isSaveSigned)}}function Dt(e,t){if(1&e&&(x.ynx(0),x.YNc(1,Nt,2,1,"ng-container",27),x.YNc(2,Ut,2,1,"ng-container",27),x.YNc(3,Jt,2,1,"ng-container",27),x.BQk()),2&e){const e=x.oxw(3);x.xp6(1),x.Q6J("ngIf",1==e.entity.is_active&&null!=e.entity.id),x.xp6(1),x.Q6J("ngIf",0==e.entity.is_active&&null==e.entity.id||2==e.entity.is_active),x.xp6(1),x.Q6J("ngIf",0==e.entity.is_active&&"ADD"!=e._flagModal&&null==e.entity.logs)}}function Wt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"div",186),x.TgZ(1,"button",187),x.NdJ("click",function(){return x.CHM(e),x.oxw().$implicit.dismiss("Cross click")}),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.YNc(4,mt,4,3,"ng-container",27),x.YNc(5,Mt,7,6,"ng-contatiner",27),x.YNc(6,Dt,4,3,"ng-container",27),x.qZA()}if(2&e){const e=x.oxw(2);x.xp6(2),x.hij(" ",x.lcZ(3,4,"Close")," "),x.xp6(2),x.Q6J("ngIf",0==e.entity.is_active&&null!=e.entity.id),x.xp6(1),x.Q6J("ngIf",2!=e.entity.is_active),x.xp6(1),x.Q6J("ngIf",e.entity.created_by==e.user.id)}}const Lt=function(){return{"max-height":"calc(100vh - 300px)"}},kt=function(){return{"max-height":"calc(100vh - 300px)","overflow-y":"auto"}};function It(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",66),x.TgZ(1,"div",67),x.TgZ(2,"h4",68),x._uU(3),x.ALo(4,"translate"),x.ALo(5,"translate"),x.ALo(6,"translate"),x.qZA(),x.TgZ(7,"button",69),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(8,"span",70),x._uU(9,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(10,"div",71),x.TgZ(11,"div",72),x.TgZ(12,"div",73),x.TgZ(13,"div",7),x.TgZ(14,"button",74),x.NdJ("click",function(){return x.CHM(e),x.oxw()._chooseButton(1)}),x._uU(15),x.ALo(16,"translate"),x.qZA(),x.YNc(17,pe,3,4,"button",75),x.YNc(18,_e,4,4,"button",75),x.YNc(19,fe,4,4,"button",75),x.qZA(),x.qZA(),x.qZA(),x.TgZ(20,"div",76),x.YNc(21,$e,118,118,"ng-container",27),x.YNc(22,tt,7,2,"div",77),x.YNc(23,at,7,2,"div",78),x.YNc(24,Zt,17,6,"div",78),x.qZA(),x.qZA(),x.YNc(25,Wt,7,6,"div",79),x.qZA()}if(2&e){const e=x.oxw();x.xp6(3),x.AsE(" ","ADD"==e._flagModal?x.lcZ(4,13,"Add new"):x.lcZ(5,15,"Update")," ",x.lcZ(6,17,e._title)," "),x.xp6(11),x.Q6J("ngClass",1==e._flagButton?"btn btn-sm btn-secondary":"btn btn-sm btn-primary"),x.xp6(1),x.hij(" ",x.lcZ(16,19,"General information")," "),x.xp6(2),x.Q6J("ngIf","ADD"!=e._flagModal),x.xp6(1),x.Q6J("ngIf","ADD"!=e._flagModal&&e._authenService.hasPermission("USERS","read")),x.xp6(1),x.Q6J("ngIf","ADD"!=e._flagModal),x.xp6(1),x.Q6J("ngStyle",4==e._flagButton?x.DdM(21,Lt):x.DdM(22,kt)),x.xp6(1),x.Q6J("ngIf",1==e._flagButton),x.xp6(1),x.Q6J("ngIf",2==e._flagButton&&"ADD"!=e._flagModal),x.xp6(1),x.Q6J("ngIf",3==e._flagButton&&"ADD"!=e._flagModal),x.xp6(1),x.Q6J("ngIf",4==e._flagButton&&"ADD"!=e._flagModal),x.xp6(1),x.Q6J("ngIf",1==e._flagButton)}}function Qt(e,t){if(1&e&&(x.TgZ(0,"option",230),x._uU(1),x.qZA()),2&e){const e=t.$implicit,i=x.oxw(2);x.s9C("value",e.id),x.xp6(1),x.AsE(" ",e.code," - ","en"==i.user.lang?e.name_e:e.name_l," ")}}function Ot(e,t){if(1&e&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Oqu(e.order)}}function Pt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"input",234),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().$implicit.order=t}),x.qZA()}if(2&e){const e=x.oxw(),t=e.$implicit;x.MGl("name","or",e.index+1,""),x.Q6J("ngModel",t.order)}}function Rt(e,t){if(1&e&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Oqu(e.user.title)}}function Gt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"nz-tree-select",142),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(3)._selectDept=t})("ngModelChange",function(){x.CHM(e);const t=x.oxw().$implicit,i=x.oxw(2);return i._getUser(t,i._selectDept)}),x.ALo(1,"translate"),x.qZA()}if(2&e){const e=x.oxw(3);x.s9C("nzPlaceHolder",x.lcZ(1,4,"Please choose")),x.Q6J("nzExpandedKeys",e.expandKeys)("nzNodes",e._departments)("ngModel",e._selectDept)}}function jt(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Only view")))}function Yt(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Passed signature")))}function Ht(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Reviewed signature")))}function Ft(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Approved signature")))}function Bt(e,t){if(1&e&&(x.TgZ(0,"span"),x.YNc(1,jt,3,3,"span",27),x.YNc(2,Yt,3,3,"span",27),x.YNc(3,Ht,3,3,"span",27),x.YNc(4,Ft,3,3,"span",27),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Q6J("ngIf",0==e.role),x.xp6(1),x.Q6J("ngIf",1==e.role),x.xp6(1),x.Q6J("ngIf",2==e.role),x.xp6(1),x.Q6J("ngIf",3==e.role)}}function zt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"select",143),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().$implicit.role=t})("change",function(){x.CHM(e);const t=x.oxw().$implicit,i=x.oxw(2);return i._getUser(t,i._selectDept)}),x.TgZ(1,"option",91),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.TgZ(4,"option",92),x._uU(5),x.ALo(6,"translate"),x.qZA(),x.TgZ(7,"option",93),x._uU(8),x.ALo(9,"translate"),x.qZA(),x.TgZ(10,"option",94),x._uU(11),x.ALo(12,"translate"),x.qZA(),x.qZA()}if(2&e){const e=x.oxw(),t=e.$implicit;x.MGl("name","r",e.index+1,""),x.Q6J("ngModel",t.role),x.xp6(2),x.Oqu(x.lcZ(3,6,"Only view")),x.xp6(3),x.hij(" ",x.lcZ(6,8,"Passed signature")," "),x.xp6(3),x.hij(" ",x.lcZ(9,10,"Reviewed signature")," "),x.xp6(3),x.hij(" ",x.lcZ(12,12,"Approved signature")," ")}}function $t(e,t){if(1&e&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Oqu(e.time)}}function Kt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"input",235),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().$implicit.time=t}),x.qZA()}if(2&e){const e=x.oxw(),t=e.$implicit;x.MGl("name","timer",e.index+1,""),x.Q6J("ngModel",t.time)}}function Vt(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"tr"),x.TgZ(1,"td",26),x.YNc(2,Ot,2,1,"span",27),x.YNc(3,Pt,1,2,"input",231),x.qZA(),x.TgZ(4,"td",26),x.YNc(5,Rt,2,1,"span",27),x.YNc(6,Gt,2,6,"nz-tree-select",232),x.qZA(),x.TgZ(7,"td",26),x.YNc(8,Bt,5,4,"span",27),x.YNc(9,zt,13,14,"select",139),x.qZA(),x.TgZ(10,"td",26),x.YNc(11,$t,2,1,"span",27),x.YNc(12,Kt,1,2,"input",233),x.qZA(),x.TgZ(13,"td",26),x.TgZ(14,"a",144),x.NdJ("click",function(){const t=x.CHM(e).$implicit;return x.oxw(2)._removeItemHandle(t)}),x._UZ(15,"i",145),x.qZA(),x.qZA(),x.qZA()}if(2&e){const e=t.$implicit;x.xp6(2),x.Q6J("ngIf",e.flag),x.xp6(1),x.Q6J("ngIf",!e.flag),x.xp6(2),x.Q6J("ngIf",e.flag),x.xp6(1),x.Q6J("ngIf",!e.flag),x.xp6(2),x.Q6J("ngIf",e.flag),x.xp6(1),x.Q6J("ngIf",!e.flag),x.xp6(2),x.Q6J("ngIf",e.flag),x.xp6(1),x.Q6J("ngIf",!e.flag)}}function Xt(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",190),x._UZ(2,"img",191),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function ei(e,t){if(1&e&&(x.TgZ(0,"button",236),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function ti(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",198,199),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChangeP()}),x.TgZ(2,"div",67),x.TgZ(3,"h4",68),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.ALo(7,"translate"),x.qZA(),x.TgZ(8,"button",69),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(9,"span",70),x._uU(10,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(11,"div",200),x.TgZ(12,"div",72),x.TgZ(13,"div",201),x.TgZ(14,"label",202),x._uU(15),x.ALo(16,"translate"),x.TgZ(17,"span",50),x._uU(18,"(*)"),x.qZA(),x._uU(19," - "),x.TgZ(20,"a",116),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(),i=x.MAs(87);return t._popupCategory(i,null)}),x._UZ(21,"i",15),x.qZA(),x.qZA(),x.TgZ(22,"select",203),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.profile_group_id=t}),x.TgZ(23,"option",204),x._uU(24),x.ALo(25,"translate"),x.qZA(),x.YNc(26,Qt,2,3,"option",205),x.qZA(),x.qZA(),x.TgZ(27,"div",201),x.TgZ(28,"label",206),x._uU(29),x.ALo(30,"translate"),x.TgZ(31,"span",50),x._uU(32,"(*)"),x.qZA(),x.qZA(),x.TgZ(33,"input",207),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.code=t})("keyup",function(){return x.CHM(e),x.oxw().removeBlankTypeProfile()}),x.qZA(),x.qZA(),x.TgZ(34,"div",201),x.TgZ(35,"label",208),x._uU(36),x.ALo(37,"translate"),x.TgZ(38,"span",50),x._uU(39,"(*)"),x.qZA(),x.qZA(),x.TgZ(40,"input",209),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.title=t}),x.qZA(),x.qZA(),x.TgZ(41,"div",201),x.TgZ(42,"label",210),x._uU(43),x.ALo(44,"translate"),x.TgZ(45,"span",50),x._uU(46,"(*)"),x.qZA(),x._uU(47," - "),x.TgZ(48,"a",116),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(),i=x.MAs(89);return t._popupCategory1(i,null)}),x._UZ(49,"i",15),x.qZA(),x.qZA(),x.TgZ(50,"ng-select",211),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.document_id=t}),x.ALo(51,"translate"),x.ALo(52,"translate"),x.qZA(),x.qZA(),x.TgZ(53,"div",73),x.TgZ(54,"label",212),x._uU(55),x.ALo(56,"translate"),x.TgZ(57,"span",50),x._uU(58,"(*)"),x.qZA(),x.qZA(),x.TgZ(59,"div",23),x.TgZ(60,"table",115),x.TgZ(61,"thead"),x.TgZ(62,"th",26),x._uU(63),x.ALo(64,"translate"),x.qZA(),x.TgZ(65,"th",26),x._uU(66),x.ALo(67,"translate"),x.TgZ(68,"a",116),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(),i=x.MAs(93);return t._popupDepartment(i,null)}),x._UZ(69,"i",15),x.qZA(),x.qZA(),x.TgZ(70,"th",26),x._uU(71),x.ALo(72,"translate"),x.qZA(),x.TgZ(73,"th",26),x._uU(74),x.ALo(75,"translate"),x.ALo(76,"translate"),x.qZA(),x.TgZ(77,"th",26),x._uU(78),x.ALo(79,"translate"),x.qZA(),x.qZA(),x.TgZ(80,"tbody"),x.YNc(81,Vt,16,8,"tr",28),x.qZA(),x.TgZ(82,"tfoot"),x.TgZ(83,"tr"),x._UZ(84,"td",213),x.TgZ(85,"td",26),x.TgZ(86,"a",147),x.NdJ("click",function(){return x.CHM(e),x.oxw()._addItemHandle(null)}),x._UZ(87,"i",15),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(88,"div",73),x.TgZ(89,"label",214),x._uU(90),x.ALo(91,"translate"),x.qZA(),x.TgZ(92,"ck-editor",215,216),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.description=t}),x.qZA(),x.qZA(),x.TgZ(94,"div",88),x.TgZ(95,"label",217),x._uU(96),x.ALo(97,"translate"),x.qZA(),x.TgZ(98,"div",218),x.TgZ(99,"input",219),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.is_active=t}),x.qZA(),x.TgZ(100,"label",220),x._uU(101),x.ALo(102,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(103,"div",82),x.TgZ(104,"label",221),x._uU(105),x.ALo(106,"translate"),x.qZA(),x.TgZ(107,"input",222),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.estimated_cost=t}),x.qZA(),x.qZA(),x.TgZ(108,"div",223),x.TgZ(109,"label",224),x._uU(110),x.ALo(111,"translate"),x.qZA(),x.TgZ(112,"input",225,226),x.NdJ("change",function(t){x.CHM(e);const i=x.MAs(113);return x.oxw().fileEvent1(t,i)}),x.qZA(),x.TgZ(114,"input",227),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entityUpload1.fileUpload=t}),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(115,"div",186),x.TgZ(116,"button",228),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(117),x.ALo(118,"translate"),x.qZA(),x.YNc(119,Xt,5,3,"ng-container",27),x.YNc(120,ei,3,4,"button",229),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ","ADD"==e._flagSubModal?x.lcZ(5,41,"Add new"):x.lcZ(6,43,"Update")," ",x.lcZ(7,45,e._subTitle)," "),x.xp6(11),x.hij("",x.lcZ(16,47,"Profile group")," "),x.xp6(7),x.Q6J("ngModel",e.entitySub.profile_group_id),x.xp6(2),x.Oqu(x.lcZ(25,49,"Please choose")),x.xp6(2),x.Q6J("ngForOf",e._catprofiles),x.xp6(3),x.hij("",x.lcZ(30,51,"Profile code")," "),x.xp6(4),x.Q6J("ngModel",e.entitySub.code),x.xp6(3),x.hij("",x.lcZ(37,53,"Profile name")," "),x.xp6(4),x.Q6J("ngModel",e.entitySub.title),x.xp6(3),x.hij("",x.lcZ(44,55,"Type of document")," "),x.xp6(7),x.Q6J("items",e._catdocuments)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("bindLabel","en"==e.user.lang?"name_e":"name_l")("ngModel",e.entitySub.document_id)("placeholder",x.lcZ(51,57,"Please choose"))("notFoundText",x.lcZ(52,59,"Not found item")),x.xp6(5),x.hij("",x.lcZ(56,61,"Configure handling users")," "),x.xp6(8),x.hij(" ",x.lcZ(64,63,"Processing no.")," "),x.xp6(3),x.hij(" ",x.lcZ(67,65,"Manager Unit")," - "),x.xp6(5),x.Oqu(x.lcZ(72,67,"Roles")),x.xp6(3),x.AsE(" ",x.lcZ(75,69,"Time")," (",x.lcZ(76,71,"hours"),") "),x.xp6(4),x.Oqu(x.lcZ(79,73,"Actions")),x.xp6(3),x.Q6J("ngForOf",e.entitySub.handle_users.data),x.xp6(9),x.Oqu(x.lcZ(91,75,"Description")),x.xp6(2),x.Q6J("ngModel",e.entitySub.description)("fullPage",!0)("config",e.ckEditorConfig),x.xp6(4),x.Oqu(x.lcZ(97,77,"Status")),x.xp6(3),x.Q6J("ngModel",e.entitySub.is_active),x.xp6(2),x.Oqu(x.lcZ(102,79,e.entitySub.is_active?"activated":"not activated")),x.xp6(4),x.hij("",x.lcZ(106,81,"Estimated cost")," (VND)"),x.xp6(2),x.Q6J("ngModel",e.entitySub.estimated_cost),x.xp6(3),x.hij("",x.lcZ(111,83,"Attachment (if any)")," (.doc,.docx,.pdf)"),x.xp6(4),x.Q6J("ngModel",e.entityUpload1.fileUpload),x.xp6(3),x.hij(" ",x.lcZ(118,85,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSaveSub),x.xp6(1),x.Q6J("ngIf",!e.isSaveSub)}}function ii(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",190),x._UZ(2,"img",191),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function ni(e,t){if(1&e&&(x.TgZ(0,"button",236),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function si(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",198,237),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChangeProfileGroup()}),x.TgZ(2,"div",67),x.TgZ(3,"h4",68),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.ALo(7,"translate"),x.qZA(),x.TgZ(8,"button",69),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(9,"span",70),x._uU(10,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(11,"div",71),x.TgZ(12,"div",72),x.TgZ(13,"div",223),x.TgZ(14,"div",238),x.TgZ(15,"label",239),x._uU(16),x.ALo(17,"translate"),x.TgZ(18,"span",50),x._uU(19,"(*)"),x.qZA(),x.qZA(),x.TgZ(20,"input",240),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.code=t})("keyup",function(){return x.CHM(e),x.oxw().removeBlank()}),x.ALo(21,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(22,"div",73),x.TgZ(23,"div",238),x.TgZ(24,"label",241),x._uU(25),x.ALo(26,"translate"),x.TgZ(27,"span",50),x._uU(28,"(*)"),x.qZA(),x.qZA(),x.TgZ(29,"input",242),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.name_l=t}),x.ALo(30,"translate"),x.ALo(31,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(32,"div",73),x.TgZ(33,"div",238),x.TgZ(34,"input",243),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.name_e=t}),x.ALo(35,"translate"),x.ALo(36,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(37,"div",223),x.TgZ(38,"label",244),x._uU(39),x.ALo(40,"translate"),x.qZA(),x.TgZ(41,"div",218),x.TgZ(42,"input",245),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.is_active=t}),x.qZA(),x.TgZ(43,"label",246),x._uU(44),x.ALo(45,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(46,"div",186),x.TgZ(47,"button",228),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(48),x.ALo(49,"translate"),x.qZA(),x.YNc(50,ii,5,3,"ng-container",27),x.YNc(51,ni,3,4,"button",229),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ",null==e.entitySubIn.id?x.lcZ(5,18,"Add new"):x.lcZ(6,20,"Update")," ",x.lcZ(7,22,"Profile group")," "),x.xp6(12),x.hij("",x.lcZ(17,24,"Profile code")," "),x.xp6(4),x.s9C("placeholder",x.lcZ(21,26,"Profile code")),x.Q6J("ngModel",e.entitySubIn.code),x.xp6(5),x.hij("",x.lcZ(26,28,"Group name")," "),x.xp6(4),x.hYB("placeholder","",x.lcZ(30,30,"Group name")," (",x.lcZ(31,32,"Vietnamese"),")"),x.Q6J("ngModel",e.entitySubIn.name_l),x.xp6(5),x.hYB("placeholder","",x.lcZ(35,34,"Group name")," (",x.lcZ(36,36,"English"),")"),x.Q6J("ngModel",e.entitySubIn.name_e),x.xp6(5),x.Oqu(x.lcZ(40,38,"Status")),x.xp6(3),x.Q6J("ngModel",e.entitySubIn.is_active),x.xp6(2),x.Oqu(x.lcZ(45,40,e.entitySubIn.is_active?"activated":"not activated")),x.xp6(4),x.hij(" ",x.lcZ(49,42,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSaveSub1),x.xp6(1),x.Q6J("ngIf",!e.isSaveSub1)}}function oi(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",190),x._UZ(2,"img",191),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function li(e,t){if(1&e&&(x.TgZ(0,"button",236),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function ai(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",198,247),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChangeProfileGroup1()}),x.TgZ(2,"div",67),x.TgZ(3,"h4",68),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.ALo(7,"translate"),x.qZA(),x.TgZ(8,"button",69),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(9,"span",70),x._uU(10,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(11,"div",71),x.TgZ(12,"div",72),x.TgZ(13,"div",223),x.TgZ(14,"div",238),x.TgZ(15,"label",248),x._uU(16),x.ALo(17,"translate"),x.TgZ(18,"span",50),x._uU(19,"(*)"),x.qZA(),x.qZA(),x.TgZ(20,"input",249),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.code=t})("keyup",function(){return x.CHM(e),x.oxw().removeBlank()}),x.ALo(21,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(22,"div",73),x.TgZ(23,"div",238),x.TgZ(24,"label",250),x._uU(25),x.ALo(26,"translate"),x.TgZ(27,"span",50),x._uU(28,"(*)"),x.qZA(),x.qZA(),x.TgZ(29,"input",251),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.name_l=t}),x.ALo(30,"translate"),x.ALo(31,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(32,"div",73),x.TgZ(33,"div",238),x.TgZ(34,"input",252),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.name_e=t}),x.ALo(35,"translate"),x.ALo(36,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(37,"div",223),x.TgZ(38,"label",253),x._uU(39),x.ALo(40,"translate"),x.qZA(),x.TgZ(41,"div",218),x.TgZ(42,"input",254),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.is_active=t}),x.qZA(),x.TgZ(43,"label",255),x._uU(44),x.ALo(45,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(46,"div",186),x.TgZ(47,"button",228),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(48),x.ALo(49,"translate"),x.qZA(),x.YNc(50,oi,5,3,"ng-container",27),x.YNc(51,li,3,4,"button",229),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ",null==e.entitySubIn.id?x.lcZ(5,18,"Add new"):x.lcZ(6,20,"Update")," ",x.lcZ(7,22,"Type of document")," "),x.xp6(12),x.hij("",x.lcZ(17,24,"Document code")," "),x.xp6(4),x.s9C("placeholder",x.lcZ(21,26,"Document code")),x.Q6J("ngModel",e.entitySubIn.code),x.xp6(5),x.hij("",x.lcZ(26,28,"Document name")," "),x.xp6(4),x.hYB("placeholder","",x.lcZ(30,30,"Document name")," (",x.lcZ(31,32,"Vietnamese"),")"),x.Q6J("ngModel",e.entitySubIn.name_l),x.xp6(5),x.hYB("placeholder","",x.lcZ(35,34,"Document name")," (",x.lcZ(36,36,"English"),")"),x.Q6J("ngModel",e.entitySubIn.name_e),x.xp6(5),x.Oqu(x.lcZ(40,38,"Status")),x.xp6(3),x.Q6J("ngModel",e.entitySubIn.is_active),x.xp6(2),x.Oqu(x.lcZ(45,40,e.entitySubIn.is_active?"activated":"not activated")),x.xp6(4),x.hij(" ",x.lcZ(49,42,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSaveSub1),x.xp6(1),x.Q6J("ngIf",!e.isSaveSub1)}}function ri(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",190),x._UZ(2,"img",191),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function ci(e,t){if(1&e&&(x.TgZ(0,"button",236),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function di(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",198,256),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChangeTitle()}),x.TgZ(2,"div",67),x.TgZ(3,"h4",68),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.qZA(),x.TgZ(7,"button",69),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(8,"span",70),x._uU(9,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(10,"div",71),x.TgZ(11,"div",72),x.TgZ(12,"div",223),x.TgZ(13,"div",238),x.TgZ(14,"label",257),x._uU(15),x.ALo(16,"translate"),x.TgZ(17,"span",50),x._uU(18,"(*)"),x.qZA(),x.qZA(),x.TgZ(19,"input",258),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.code=t})("keyup",function(){return x.CHM(e),x.oxw().removeBlank()}),x.ALo(20,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(21,"div",73),x.TgZ(22,"div",238),x.TgZ(23,"label",259),x._uU(24),x.ALo(25,"translate"),x.TgZ(26,"span",50),x._uU(27,"(*)"),x.qZA(),x.qZA(),x.TgZ(28,"input",260),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.name_l=t}),x.ALo(29,"translate"),x.ALo(30,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(31,"div",73),x.TgZ(32,"div",238),x.TgZ(33,"input",261),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.name_e=t}),x.ALo(34,"translate"),x.ALo(35,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(36,"div",223),x.TgZ(37,"label",262),x._uU(38),x.ALo(39,"translate"),x.qZA(),x.TgZ(40,"div",218),x.TgZ(41,"input",263),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.is_active=t}),x.qZA(),x.TgZ(42,"label",264),x._uU(43),x.ALo(44,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(45,"div",186),x.TgZ(46,"button",228),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(47),x.ALo(48,"translate"),x.qZA(),x.YNc(49,ri,5,3,"ng-container",27),x.YNc(50,ci,3,4,"button",229),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ",x.lcZ(5,18,"Add new")," ",x.lcZ(6,20,"Title1")," "),x.xp6(11),x.hij("",x.lcZ(16,22,"Code")," "),x.xp6(4),x.s9C("placeholder",x.lcZ(20,24,"Code")),x.Q6J("ngModel",e.entitySubIn.code),x.xp6(5),x.hij("",x.lcZ(25,26,"Name")," "),x.xp6(4),x.hYB("placeholder","",x.lcZ(29,28,"Name")," (",x.lcZ(30,30,"Vietnamese"),")"),x.Q6J("ngModel",e.entitySubIn.name_l),x.xp6(5),x.hYB("placeholder","",x.lcZ(34,32,"Name")," (",x.lcZ(35,34,"English"),")"),x.Q6J("ngModel",e.entitySubIn.name_e),x.xp6(5),x.Oqu(x.lcZ(39,36,"Status")),x.xp6(3),x.Q6J("ngModel",e.entitySubIn.is_active),x.xp6(2),x.Oqu(x.lcZ(44,38,e.entitySubIn.is_active?"activated":"not activated")),x.xp6(4),x.hij(" ",x.lcZ(48,40,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSaveSub1),x.xp6(1),x.Q6J("ngIf",!e.isSaveSub1)}}function ui(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",190),x._UZ(2,"img",191),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function gi(e,t){if(1&e&&(x.TgZ(0,"button",236),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function hi(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",198,265),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChangeDepartment()}),x.TgZ(2,"div",67),x.TgZ(3,"h4",68),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.qZA(),x.TgZ(7,"button",69),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(8,"span",70),x._uU(9,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(10,"div",71),x.TgZ(11,"div",72),x.TgZ(12,"div",73),x.TgZ(13,"div",238),x.TgZ(14,"label",266),x._uU(15),x.ALo(16,"translate"),x.TgZ(17,"span",50),x._uU(18,"(*)"),x.qZA(),x.qZA(),x.TgZ(19,"input",267),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.dept_name_l=t}),x.ALo(20,"translate"),x.ALo(21,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(22,"div",73),x.TgZ(23,"div",238),x.TgZ(24,"input",268),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.dept_name_e=t}),x.ALo(25,"translate"),x.ALo(26,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(27,"div",223),x.TgZ(28,"label",269),x._uU(29),x.ALo(30,"translate"),x.qZA(),x.TgZ(31,"div",218),x.TgZ(32,"input",270),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySubIn.is_active=t}),x.qZA(),x.TgZ(33,"label",271),x._uU(34),x.ALo(35,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(36,"div",186),x.TgZ(37,"button",228),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(38),x.ALo(39,"translate"),x.qZA(),x.YNc(40,ui,5,3,"ng-container",27),x.YNc(41,gi,3,4,"button",229),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ",x.lcZ(5,15,"Add new")," ",x.lcZ(6,17,"Department")," "),x.xp6(11),x.hij("",x.lcZ(16,19,"Name")," "),x.xp6(4),x.hYB("placeholder","",x.lcZ(20,21,"Name")," (",x.lcZ(21,23,"Vietnamese"),")"),x.Q6J("ngModel",e.entitySubIn.dept_name_l),x.xp6(5),x.hYB("placeholder","",x.lcZ(25,25,"Name")," (",x.lcZ(26,27,"English"),")"),x.Q6J("ngModel",e.entitySubIn.dept_name_e),x.xp6(5),x.Oqu(x.lcZ(30,29,"Status")),x.xp6(3),x.Q6J("ngModel",e.entitySubIn.is_active),x.xp6(2),x.Oqu(x.lcZ(35,31,e.entitySubIn.is_active?"activated":"not activated")),x.xp6(4),x.hij(" ",x.lcZ(39,33,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSaveSub1),x.xp6(1),x.Q6J("ngIf",!e.isSaveSub1)}}const pi=function(e,t){return{url:e,password:t}};function _i(e,t){if(1&e&&x._UZ(0,"pdf-viewer",276),2&e){const e=x.oxw(2);x.Q6J("src",x.WLB(6,pi,e._originFile,e._password))("stick-to-page",!0)("original-size",!1)("show-all",!0)("autoresize",!0)("render-text",!1)}}function fi(e,t){1&e&&(x.TgZ(0,"h3"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Processing")))}function Zi(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"div",67),x.TgZ(1,"h4",68),x._uU(2),x.qZA(),x.TgZ(3,"button",69),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(4,"span",70),x._uU(5,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(6,"div",71),x.TgZ(7,"div",272),x.YNc(8,_i,1,9,"pdf-viewer",273),x.YNc(9,fi,3,3,"h3",27),x.qZA(),x.qZA(),x.TgZ(10,"div",186),x.TgZ(11,"button",274),x.NdJ("click",function(){return x.CHM(e),x.oxw().print()}),x._UZ(12,"i",275),x._uU(13),x.ALo(14,"translate"),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(2),x.hij(" ",e.entity.title," "),x.xp6(6),x.Q6J("ngIf",!e.isLoadingView),x.xp6(1),x.Q6J("ngIf",e.isLoadingView),x.xp6(4),x.hij(" ",x.lcZ(14,4,"Print")," ")}}function mi(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",190),x._UZ(2,"img",191),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function Ai(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"a",285),x.NdJ("click",function(){return x.CHM(e),x.oxw(2)._submitRefused()}),x._uU(1),x.ALo(2,"translate"),x.qZA()}2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"Save")," "))}function bi(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"div",67),x.TgZ(1,"h4",68),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.TgZ(4,"button",69),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(5,"span",70),x._uU(6,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(7,"div",71),x.TgZ(8,"div",238),x.TgZ(9,"div",73),x.TgZ(10,"label",277),x._uU(11),x.ALo(12,"translate"),x.qZA(),x.TgZ(13,"textarea",278),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entityApprove.content=t}),x.qZA(),x.qZA(),x.TgZ(14,"div",73),x.TgZ(15,"label",279),x._uU(16),x.ALo(17,"translate"),x.qZA(),x.TgZ(18,"input",280),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entityApprove.approved_cost=t}),x.qZA(),x.qZA(),x.TgZ(19,"div",73),x.TgZ(20,"label",279),x._uU(21),x.ALo(22,"translate"),x.qZA(),x.TgZ(23,"input",281,282),x.NdJ("change",function(t){x.CHM(e);const i=x.MAs(24);return x.oxw().fileEventApproved(t,i)}),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(25,"div",186),x.TgZ(26,"a",283),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(27),x.ALo(28,"translate"),x.qZA(),x.YNc(29,mi,5,3,"ng-container",27),x.YNc(30,Ai,3,3,"a",284),x.qZA()}if(2&e){const e=x.oxw();x.xp6(2),x.hij(" ",x.lcZ(3,9,"Agree"==e._flagModalApprove?"Agree":"Disagree")," "),x.xp6(9),x.Oqu(x.lcZ(12,11,"Reason")),x.xp6(2),x.Q6J("ngModel",e.entityApprove.content),x.xp6(3),x.Oqu(x.lcZ(17,13,"Approved cost")),x.xp6(2),x.Q6J("ngModel",e.entityApprove.approved_cost),x.xp6(3),x.hij("",x.lcZ(22,15,"Attachment (if any)")," (.doc,.docx,.pdf)"),x.xp6(6),x.hij(" ",x.lcZ(28,17,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSaveApprove),x.xp6(1),x.Q6J("ngIf",!e.isSaveApprove)}}G().vfs=j.I.vfs;let yi=(()=>{class e{constructor(e,t,i,n,s,o,l,a,r,c){this._authenService=e,this._dataService=t,this._route=i,this._notifyService=n,this._uploadService=s,this._excelService=o,this._numberFormat=l,this.modalService=a,this._utilyService=r,this.sanitizer=c,this._secret="j@s0n1980!!!",this._current=9,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this._subTitle="",this._flagModal="ADD",this.entity={},this._flagButton=1,this._profiles=[],this._catprofiles=[],this.related_requests=[],this.checkAllIDs=!1,this.entityUpload={},this.entityUploadMore={},this.entityUpload1={},this.filesToUpload=[],this.selectedFileNames=[],this.jfile=null,this.jfile1=null,this.jfileProposed=null,this.jfileMoreProposed=[],this.formData=new FormData,this._flagSubModal="ADD",this.entitySub={},this.isSaveSub=!1,this._documents=[],this._catdocuments=[],this.entitySubIn={},this.isSaveSub1=!1,this._selectUser=null,this._selectDept=null,this._getusers=[],this._titles=[],this._departments=[],this.expandKeys=[],this.expandKeys1=[],this._urlMicrosoft="https://view.officeapps.live.com/op/embed.aspx?src=",this._originFile=null,this.other_attached_files=[],this.handling_users=[],this._displayContent=null,this.isSaveSigned=!1,this._flagActive=!1,this._histories=[],this._diagrams=[],this._flagShow=!1,this._flagModalApprove="Agree",this.entityApprove={},this.isSaveApprove=!1,this.filesToUploadApprove=[],this.chats=[],this._contents="",this.baseFolder=P.h.BASE_API,this.isLoadingView=!1,this._password="ciphertext",this.socket=O()(P.h.BASE_API)}ngOnInit(){this.user=this._authenService.getLoggedInUser(),this.loadData(),this.socket.on("refreshPage",e=>{this.loadData(),null!=this.entity.id&&(this.loadProposedProfileDetailById(this.entity.id),this.loadChat(this.entity.id))})}ngOnDestroy(){let e=window.CKEDITOR;if(e.instances)for(var t in e.instances)e.instances[t].destroy()}loadData(){this._isLoading=!0;let e={};e.page=this.pageIndex,e.limit=this.pageSize,e.filter=this._keyword,e.createdby=this.user.id,e.current=this._current,this._dataService.post("/cat-submission/getall",e).subscribe(e=>{let t=[];for(let i of e.data){for(let t of i.handle_users.data)t.show=!1;for(let t of i.handle_users.data){let e=!1;if(i.handle_users.data.filter(e=>e.order==t.order&&null==e.timestamp).length>=1){for(let e of i.handle_users.data.filter(e=>e.order==t.order&&null==e.timestamp))e.show=!0;e=!0}if(e)break}let e=[],n=null;e=i.handle_users.data.filter(e=>3!=e.role),n=0==i.handle_users.data.filter(e=>3==e.role).length?null:i.handle_users.data.filter(e=>3==e.role)[0],i.reviews=e,i.approve=n,t.push(i)}this._requestslist=t,this.totalRow=e.rowCount,this.totalPage=e.totalPages,this._isLoading=!1})}loadChat(e){let t={};t.join_room=e,this._dataService.post("/chat/getallnp",t).subscribe(e=>{this.chats=e.data,console.log("chats",this.chats)})}_addChat(){if(""!=this._contents&&null!=this.entity.id){let e={};e.text=this._contents,e.join_room=this.entity.id,e.depended_id=this.user.id,this._dataService.post("/chat/add",e).subscribe(e=>{this.socket.emit("refresh",{}),this._flagModal="UPDATE",this._flagButton=4,this._contents=""})}}_switch(e){this._current=e,this.socket.emit("refresh",{})}_pageSizeChange(e){this.pageSize=e.target.value,this.socket.emit("refresh",{})}pageChanged(e){this.pageIndex=e.page,this.socket.emit("refresh",{})}loadUsersWithDept(){let e={};e.short_code=this.user.short_code,this._dataService.post("/cat-submission/getallUsersNP",e).subscribe(e=>{let t=[];for(let n of e.data)t.push({key:n.id,title:n.name,parent_id:null,value:n.id,jtitle:"en"==this.user.lang?n.title_name_e:n.title_name_l,jdept:n.department_ids.data});let i=this._utilyService.UnflattenFunc(t);this._getusers=i})}addItemNew(){if(this._selectUser=null,0==this.handling_users.length)this.handling_users.push({flag:!1,id:1,order:1,role:"1",time:1,timestamp:null,user:null,allow:!1});else{let e=0;for(let t of this.handling_users)null!=t.user&&null!=t.role||(e+=1);if(0!=e)return void this._notifyService.showWarning("e"==this.user.lang?A.W.MSG_ERROR_EMPTY_EN:A.W.MSG_ERROR_EMPTY,"e"==this.user.lang?A.W.error_title_en:A.W.error_title);for(let t of this.handling_users.filter(e=>!e.flag))t.flag=!0;0==this.handling_users.filter(e=>!e.flag).length&&this.handling_users.push({id:this.handling_users.length+1,flag:!1,order:1,role:"1",time:1,timestamp:null,user:null,allow:!1})}this.handling_users.sort((e,t)=>e.id>t.id||e.id==t.id&&e.order>t.order?1:-1),this.entity.handle_users.data=this.handling_users}removeItemNew(e){let t=[],i=1;for(let n of this.handling_users.filter(t=>t.id!=e.id))t.push({id:i,order:n.order,user:n.user,role:n.role,time:n.time,flag:n.flag,allow:n.allow}),i+=1;t.sort((e,t)=>e.id>t.id||e.id==t.id&&e.order>t.order?1:-1),this.entity.handle_users.data=this.handling_users=t}_getUserNew(e,t){console.log(e,t);let i=this._getusers.filter(e=>e.key==t)[0],n="";for(let s of i.jdept)n+=("en"==this.user.lang?s.dept_name_e:s.dept_name_l)+",";this.handling_users.filter(t=>t.id==e.id)[0].user={dept_name_e:""==n?"":n.substr(0,n.length-1),dept_name_l:""==n?"":n.substr(0,n.length-1),id:t,key:"",name:i.title,title:"",title_name_e:i.jtitle,title_name_l:i.jtitle,value:""},this.handling_users.sort((e,t)=>e.id>t.id||e.id==t.id&&e.order>t.order?1:-1),this.entity.handle_users.data=this.handling_users}_openModal(e,t){this._flagActive=!1,this.loadProfilesNP(),this.loadUsersWithDept(),null==t?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.entity.is_active=0,this.entity.created_by=this.user.id,this.handling_users=[],this.other_attached_files=[]):(this._flagModal="UPDATE",this._title="- "+t.title+" (#: "+t.code+")",this.loadChat(t.id),this.loadProposedProfileDetailById(t.id)),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}_diagramChange(e){null==e?(this.entity.handle_users={data:[]},this.handling_users=[],this._originFile=null):(this.handling_users=[],this.loadDetailProfileById(e))}submissionChange(e){if(this.entity.is_active=0==e?0:1,"ADD"==this._flagModal){if(0==this.entity.handle_users.data.length||null==this.entity.title)return void this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title);null==this.attached_file&&0==this.filesToUpload.length?(this.isSave=!0,console.log("No file"),this._addProposed(this.entity)):this._dataService.post("/cat-submission/addProposed",this.entity).subscribe(e=>{console.log(e),"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):this._processUploadProposed(this.jfileProposed,this.filesToUpload,e.data)},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}else this.updateSubmissionChanges()}submissionChangeForSign(){this.entity.is_active=1,this.updateSubmissionChanges()}updateSubmissionChanges(){this.handling_users.sort((e,t)=>e.order>t.order||e.order==t.order&&e.order>t.order?1:-1),this.entity.handle_users.data=this.handling_users,this.handling_users.filter(e=>null==e.order||null==e.user||null==e.role||null==e.time).length>0?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EMPTY_EN:A.W.MSG_ERROR_EMPTY,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):this._dataService.post("/cat-submission/updateProposed",this.entity).subscribe(e=>{0!=this.entity.is_active&&(this.socket.emit("refresh",{}),this.modalService.dismissAll(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_UPDATE_EN:A.W.MSG_UPDATE,"OK"))})}_addProposed(e){this._dataService.post("/cat-submission/addProposed",e).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.entity.is_active=0,this.socket.emit("refresh",{}),this.modalService.dismissAll(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}loadDetailProfileById(e){let t={};t.id=e,t.userid=this.user.id,this._dataService.post("/cat-submission/detailByUser",t).subscribe(e=>{console.log("Detail of Profile",e);let t=[];if("failed"==e.result)this.entity.handle_users.data=[],this.handling_users=[],this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_NOT_FOUND_EN:A.W.MSG_ERROR_NOT_FOUND,"en"==this.user.lang?A.W.error_title_en:A.W.error_title);else{for(let i of e.data.handle_users.data)t.push({id:i.id,order:i.order,user:i.user,role:i.role,time:i.time,flag:!0,timestamp:null,allow:!0});t.sort((e,t)=>e.id>t.id||e.id==t.id&&e.order>t.order?1:-1),this.entity.handle_users.data=t,this.handling_users=t,this._originFile=null!=e.data.attached_file?"https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf":null,null!=this.entity.id&&this.updateSubmissionChanges()}})}loadDetailProfileByIdWithFile(e){let t={};t.id=e,t.userid=this.user.id,this._dataService.post("/cat-submission/detailByUser",t).subscribe(e=>{this._originFile=null!=e.data.attached_file?"https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf":null})}_chooseButton(e){this._flagButton=e}removeAttachment(e,t,i){y().fire({title:"en"==this.user.lang?A.W.are_you_sure_en:A.W.are_you_sure,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?A.W.cancel_en:A.W.cancel,confirmButtonText:"en"==this.user.lang?A.W.confirmtext_en:A.W.confirmtext}).then(n=>{if(n.value){let n={};n.id=e,n.path=t,n.stat=i,this._dataService.post("/cat-submission/removeAttachment",n).subscribe(e=>{console.log(e),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_DELETE_EN:A.W.MSG_DELETE,"OK"),this.socket.emit("refresh",{})},()=>{this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}})}loadProposedProfileDetailById(e){this._flagButton=4==this._flagButton?4:1,this._diagrams=[],this._histories=[];let t={};t.id=e,this._dataService.post("/cat-submission/detailProposed",t).subscribe(e=>{this.entity=e.data,this._displayContent=null==e.data.content?"":this.sanitizer.bypassSecurityTrustHtml(e.data.content);let t=[];for(let i of e.data.handle_users.data)t.push({id:i.id,order:i.order,user:i.user,role:i.role,time:i.time,flag:!0,timestamp:i.timestamp,allow:!0});if(this.handling_users=t,0==this.entity.is_active)this.handling_users.sort((e,t)=>e.order>t.order||e.order==t.order&&e.order>t.order?1:-1);else{for(let e of this.handling_users)e.show=!1;for(let e of this.handling_users){let t=!1;if(this.handling_users.filter(t=>t.order==e.order&&null==t.timestamp).length>=1){for(let t of this.handling_users.filter(t=>t.order==e.order&&null==t.timestamp))t.show=!0;t=!0}if(t)break}this.handling_users.sort((e,t)=>e.order>t.order||e.order==t.order&&e.order>t.order?1:-1)}if(this.entity.handle_users.data=t,this.other_attached_files=null==e.data.other_attached_files?[]:e.data.other_attached_files.data,4==this.entity.is_active)this._flagActive=!1;else if(0==t.filter(e=>e.user.id==this.user.id).length)null!=e.data.logs&&null!=e.data.logs.timestamp&&(this._flagActive=!0);else for(let i=0;i<t.filter(e=>e.user.id==this.user.id).length;i++)this._flagActive=null!=t.filter(e=>e.user.id==this.user.id)[i].timestamp;if(null!=e.data.logs){this._diagrams=e.data.logs.diagrams,this._diagrams.sort((e,t)=>e.order>t.order||e.order==t.order&&e.order>t.order?1:-1),this._histories=e.data.logs.history,this._histories.sort((e,t)=>t.id>e.id||t.id==e.id&&t.id>e.id?1:-1);let t=1;for(let e of this._diagrams.filter(e=>e.flag&&null==e.timestamp)){if(!(t<=this._diagrams.filter(t=>t.order==e.order).length))break;e.flag=!1,t+=1}null==e.data.logs?this._flagShow=!1:this._diagrams.filter(e=>e.user.id==this.user.id&&!e.flag).length>0?(console.log("test here"),this._flagShow=!0):this._flagShow=!1,console.log("Flag",this._flagShow)}this.loadDetailProfileByIdWithFile(e.data.profile_cat_id)})}toggleCheckAll(e){e.currentTarget.checked?this.selectAllItems():this.unselectAllItems()}onTouched(){}onSelectionChange(e){if(Array.isArray(e)){const t=e.map(e=>e.id);this.entity.organizations=[...t],this.onChange([...t])}this.onTouched()}onChange(e){}writeValue(e){this.combo.select([...e])}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}selectAllItems(){const e=this.related_requests.map(e=>e.id);this.onChange([...e])}unselectAllItems(){this.entity.related_ids=[],this.checkAllIDs=!1,this.onChange([])}_processUploadProposed(e,t,i){let n=0,s=0;if(null==e)return void this._notifyService.showError("en"==this.user.lang?A.W.recheck_file_en:A.W.recheck_file,"en"==this.user.lang?A.W.error_title_en:A.W.error_title);n=1,t.length>0&&(s=1);let o=[],l=null;if(l=e.files,s>0&&o.push(t),console.log(l),console.log(o),s>0){let n={folder_name:"submissions"};n.id=i.id,console.log("Testing",e.files),this._uploadService.uploadFile("/services/uploads/"+n.id+"/"+n.folder_name,e.files).subscribe(e=>{let n={folder_name:"submissions"};n.id=i.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+n.id+"/"+n.folder_name,t).subscribe(t=>{this._updateSubmission12(i.id,e.data,t.data)})})}else{let t={folder_name:"submissions"};t.id=i.id,this._uploadService.uploadFile("/services/uploads/"+t.id+"/"+t.folder_name,e.files).subscribe(e=>{this._updateSubmission1(i.id,e.data)})}}_updateSubmission1(e,t){let i={};i.id=e,i.path=t,this._dataService.post("/cat-submission/updateSubmission1",i).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("ADD"==this._flagModal?"en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO:"en"==this.user.lang?A.W.MSG_UPDATENO_EN:A.W.MSG_UPDATENO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):"ADD"==this._flagModal?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.handling_users=[],this.entity.is_active=0,this.socket.emit("refresh",{}),this.modalService.dismissAll(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK")):(this._flagModal="UPDATE",this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_UPDATE_EN:A.W.MSG_UPDATE,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}_updateSubmission2(e,t){this.filesToUpload=[];let i={};i.id=e,i.paths=t,this._dataService.post("/cat-submission/updateSubmission2",i).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):"ADD"==this._flagModal?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.handling_users=[],this.entity.is_active=0,this.socket.emit("refresh",{}),this.modalService.dismissAll(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK")):(this._flagModal="UPDATE",this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_UPDATE_EN:A.W.MSG_UPDATE,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}_updateSubmission12(e,t,i){this.filesToUpload=[];let n={};n.id=e,n.path=t,n.paths=i,this._dataService.post("/cat-submission/updateSubmission12",n).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.handling_users=[],this.entity.is_active=0,this.socket.emit("refresh",{}),this.modalService.dismissAll(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}fileEvent(e,t){var i=e.target.files[0];if(void 0===i||void 0===i.name)this.attached_file=null,this.entityUpload.fileUpload=null,this._notifyService.showError("en"==this.user.lang?A.W.recheck_file_en:A.W.recheck_file,"en"==this.user.lang?A.W.error_title_en:A.W.error_title);else{this.attached_file=i.name;let n=this.attached_file.split(".").pop();"doc"===n||"docx"===n||"pdf"===n?(this.jfileProposed=e.target,null!=this.entity.id&&(this._processUpload(this.jfileProposed,this.entity),this.attached_file=null,this.entityUpload.fileUpload=null,t.value="")):(this._notifyService.showError("en"==this.user.lang?A.W.format_incorrect_en:A.W.format_incorrect,"en"==this.user.lang?A.W.error_title_en:A.W.error_title),this.attached_file=null,this.entityUpload.fileUpload=null,t.value="")}}_processUpload(e,t){if(null==e)this._notifyService.showError("en"==this.user.lang?A.W.recheck_file_en:A.W.recheck_file,"en"==this.user.lang?A.W.error_title_en:A.W.error_title);else{console.log("Executed",e.files);let i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFile("/services/uploads/"+i.id+"/"+i.folder_name,e.files).subscribe(e=>{this._updateSubmission1(t.id,e.data)})}}_updateSubmissionById(e,t){let i={};i.id=e,i.pathFile=t,this._dataService.post("/cat-submission/updateSubmissionById",i).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.title=null,this.entity.profile_cat_id=null,this.entity.estimated_cost=null,this.entity.content=null,this.entity.critical_level=0,this.entity.priority_level=0,this.entity.related_ids={data:[]},this.entity.attached_files=null,this.entity.handle_users={data:[]},this.entity.is_active=0,this.jfile=null,this.socket.emit("refresh",{}),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}fileEventMore(e,t){this.filesToUpload=e.target.files;let i=[];for(var n=0;n<e.target.files.length;n++)i.push(e.target.files[n]);null!=this.entity.id&&(this._processUploadProposedAfter(this.filesToUpload,this.entity),this.filesToUpload=[],t.value=[])}_processUploadProposedAfter(e,t){let i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+i.id+"/"+i.folder_name,e).subscribe(e=>{this._updateSubmission2(t.id,e.data)})}_addItemHandle(e){if(console.log(this.entitySub,this.isSaveSub),this.loadDeptNP(),this._selectDept="all",null==e)if(0==this.entitySub.handle_users.data.length)this.entitySub.handle_users.data.push({id:1,order:1,user:null,role:null,time:1,flag:!1});else{let e=0;for(let t of this.entitySub.handle_users.data)null==t.user&&(t.user={title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"}),null==t.role&&(e+=1);if(0!=e)return void this._notifyService.showWarning("e"==this.user.lang?A.W.MSG_ERROR_EMPTY_EN:A.W.MSG_ERROR_EMPTY,"e"==this.user.lang?A.W.error_title_en:A.W.error_title);for(let t of this.entitySub.handle_users.data.filter(e=>!e.flag))t.flag=!0;0==this.entitySub.handle_users.data.filter(e=>!e.flag).length&&this.entitySub.handle_users.data.push({id:this.entitySub.handle_users.data.length+1,order:1,user:null,role:null,time:1,flag:!1})}console.log(this.entitySub)}_getUser(e,t){if(console.log(e,t),null!=t&&null!=e.role){for(let i of this.entitySub.handle_users.data)i.id==e.id&&(i.user="all"!=t?{title:this._departments.filter(e=>e.key==t)[0].title,key:this._departments.filter(e=>e.key==t)[0].key,value:this._departments.filter(e=>e.key==t)[0].value}:{title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"});console.log("Get change",this.entitySub)}else this._notifyService.showWarning("e"==this.user.lang?A.W.MSG_ERROR_EMPTY_EN:A.W.MSG_ERROR_EMPTY,"e"==this.user.lang?A.W.error_title_en:A.W.error_title)}_popupTitle(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}saveChangeTitle(){this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),this._dataService.post("/cat-submission/addTitle",this.entitySubIn).subscribe(e=>{console.log(e),this.isSaveSub1=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.loadTitleNP(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub1=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}loadTitleNP(){this._dataService.post("/cat-submission/getallTitlesNP",null).subscribe(e=>{this._titles=e.data})}_popupDepartment(e,t){this.entitySubIn={},this.entitySubIn.dept_name_l=null,this.entitySubIn.dept_name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}saveChangeDepartment(){this.isSaveSub1=!0,this._dataService.post("/dept/add",this.entitySubIn).subscribe(e=>{this.isSaveSub1=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entitySubIn={},this.entitySubIn.dept_name_l=null,this.entitySubIn.dept_name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.loadDeptNP(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub1=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}loadDeptNP(){let e={};e.short_code=this.user.short_code,this._dataService.post("/dept/getallnopaging",e).subscribe(e=>{let t=[];t.push({key:"all",title:"en"==this.user.lang?"All":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",is_active:!1,parent_id:null,value:"all"});for(let n of e.data)t.push({key:n.id,title:"en"==this.user.lang?n.dept_name_e:n.dept_name_l,parent_id:n.parent_id,value:n.id});let i=this._utilyService.UnflattenFunc(t);this._departments=i})}loadProfilesNP(){this._dataService.post("/cat-submission/getallMainProfileNP",{short_code:this.user.short_code}).subscribe(e=>{this._profiles=e.data})}_removeItemHandle(e){let t=[],i=1;for(let n of this.entitySub.handle_users.data.filter(t=>t.id!=e.id))t.push({id:i,order:n.order,user:n.user,role:n.role,time:n.time,flag:n.flag}),i+=1;this.entitySub.handle_users.data=t,console.log(this.entitySub)}_popupProfile(e,t){this.loadCatDocNP(),this.loadCatProfileNP(),null==t?(this._flagSubModal="ADD",this._subTitle="en"==this.user.lang?"Type of profile":"Lo\u1ea1i h\u1ed3 s\u01a1",this.entitySub={},this.entitySub.id=null,this.entitySub.profile_group_id=null,this.entitySub.code=null,this.entitySub.title=null,this.entitySub.document_id=null,this.entitySub.description=null,this.entitySub.handle_users={data:[]},this.entitySub.estimated_cost=null,this.entitySub.attached_file=null,this.entitySub.is_active=!0,this.jfile1=null):(this._flagSubModal="UPDATE",this.entitySub=t),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}saveChangeP(){console.log(this.entitySub),0!=this.entitySub.handle_users.data.length?null==this.attached_file1?(this.isSaveSub=!0,this._dataService.post("/cat-submission/add",this.entitySub).subscribe(e=>{console.log(e),this.isSaveSub=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entitySub={},this.entitySub.id=null,this.entitySub.profile_group_id=null,this.entitySub.code=null,this.entitySub.title=null,this.entitySub.document_id=null,this.entitySub.description=null,this.entitySub.handle_users={data:[]},this.entitySub.estimated_cost=null,this.entitySub.attached_file=null,this.entitySub.is_active=!0,this.jfile1=null,this.loadProfilesNP(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})):this._dataService.post("/cat-submission/add",this.entitySub).subscribe(e=>{"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):this._processUpload1(this.jfile1,e.data)},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)}):this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)}fileEvent1(e,t){var i=e.target.files[0];if(void 0===i||void 0===i.name)this.attached_file1=null,this.entityUpload1.fileUpload=null,this._notifyService.showError("en"==this.user.lang?A.W.recheck_file_en:A.W.recheck_file,"en"==this.user.lang?A.W.error_title_en:A.W.error_title);else{this.attached_file1=i.name;let n=this.attached_file1.split(".").pop();"doc"===n||"docx"===n||"pdf"===n?(console.log("ok"),this.jfile1=e.target):(this._notifyService.showError("en"==this.user.lang?A.W.format_incorrect_en:A.W.format_incorrect,"en"==this.user.lang?A.W.error_title_en:A.W.error_title),this.attached_file1=null,this.entityUpload1.fileUpload=null,t.value="")}}_processUpload1(e,t){if(null==e)this._notifyService.showError("en"==this.user.lang?A.W.recheck_file_en:A.W.recheck_file,"en"==this.user.lang?A.W.error_title_en:A.W.error_title);else{let i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFile("/services/uploads/"+i.id+"/"+i.folder_name,e.files).subscribe(e=>{this._updateProfileById(t.id,e.data)})}}_updateProfileById(e,t){let i={};i.id=e,i.pathFile=t,this._dataService.post("/cat-submission/updateProfileById",i).subscribe(e=>{this.isSaveSub=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entitySub={},this.entitySub.id=null,this.entitySub.profile_group_id=null,this.entitySub.code=null,this.entitySub.title=null,this.entitySub.document_id=null,this.entitySub.description=null,this.entitySub.handle_users={data:[]},this.entitySub.estimated_cost=null,this.entitySub.attached_file=null,this.entitySub.is_active=!0,this.jfile1=null,this.loadProfilesNP(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}_popupCategory(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}loadCatProfileNP(){this._dataService.post("/cat-submission/getallProfileNP",{short_code:this.user.short_code}).subscribe(e=>{this._catprofiles=e.data})}removeBlank(){this.entitySubIn.code=null==this.entitySubIn.code?null:this.entitySubIn.code.replace(" ","")}removeBlankTypeProfile(){this.entitySub.code=null==this.entitySub.code?null:this.entitySub.code.replace(" ","")}saveChangeProfileGroup(){this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),console.log(this.entitySubIn),this._dataService.post("/cat-submission/addProfile",this.entitySubIn).subscribe(e=>{this.isSaveSub1=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.loadCatProfileNP(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub1=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}_popupCategory1(e,t){this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.entitySubIn.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}saveChangeProfileGroup1(){this.isSaveSub1=!0,this.entitySubIn.code=this.entitySubIn.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entitySubIn).subscribe(e=>{this.isSaveSub1=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entitySubIn={},this.entitySubIn.name_l=null,this.entitySubIn.name_e=null,this.entitySubIn.is_active=!0,this.loadCatDocNP(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub1=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}loadCatDocNP(){this._dataService.post("/cat-submission/getallDocumentsNP",{short_code:this.user.short_code}).subscribe(e=>{this._catdocuments=e.data})}openViewDoc(e,t){this.processPDF(this.entity),this.modalService.open(e,{size:"lg",centered:!0})}processPDF(e){this.isLoadingView=!0,this._dataService.post("/cat-submission/convertPDF",{id:e.id}).subscribe(e=>{console.log("Final",e),console.log(this._password),this._originFile=null,setTimeout(()=>{this._originFile=P.h.BASE_API+e.data,this.isLoadingView=!1},2e3)})}print(){G().createPdf({content:"html"}).open()}cancelSubmission(){y().fire({title:"en"==this.user.lang?A.W.are_you_sure_cancel_en:A.W.are_you_sure_cancel,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?A.W.cancel_en:A.W.cancel,confirmButtonText:"en"==this.user.lang?A.W.confirmtext_en:A.W.confirmtext}).then(e=>{e.value&&(this.entity.is_active=4,this._dataService.post("/cat-submission/updateProposed",this.entity).subscribe(e=>{console.log(e),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_CANCEL_EN:A.W.MSG_CANCEL,"en"==this.user.lang?A.W.cancel_en:A.W.cancel),this.modalService.dismissAll(),this.socket.emit("refresh",{})},()=>{this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)}))})}approvedByUser(e,t){if(this.isSaveSigned=!0,console.log(e,t),0==e)this.entity.is_active=1,this.updateSubmissionChanges();else{console.log("Signed");let e={};e.id=this.entity.id,e.userid=this.user.id,e.status=t,e.content=null,e.approved_cost=null,this._dataService.post("/cat-submission/approvedByUserId",e).subscribe(e=>{this.isSaveSigned=!1,"failed"!=e.result&&(this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_UPDATE_EN:A.W.MSG_UPDATE,"OK"),this.modalService.dismissAll(),this.socket.emit("refresh",{}))},()=>{this.isSaveSigned=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}}disagreeSubmission(e,t){y().fire({title:"en"==this.user.lang?A.W.are_you_sure_disagree_en:A.W.are_you_sure_disagree,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?A.W.cancel_en:A.W.cancel,confirmButtonText:"en"==this.user.lang?A.W.confirmtext_en:A.W.confirmtext}).then(i=>{i.value&&this.popupApprove(e,t)})}popupApprove(e,t){this.entityApprove.content=null,this.entityApprove.approved_cost=null,this._flagModalApprove=null==t?"Agree":"Disagree",this.modalService.open(e,{size:"md",centered:!0,backdrop:!1})}_submitRefused(){if(console.log(this.entityApprove,this.filesToUploadApprove),this.filesToUploadApprove.length>0)console.log("Got files"),this.isSaveApprove=!0,this._processUploadDisagreeAfter(this.filesToUploadApprove);else{this.isSaveApprove=!0;let e={};e.id=this.entity.id,e.userid=this.user.id,e.status="Agree"==this._flagModalApprove?1:0,e.content=this.entityApprove.content,e.approved_cost=this.entityApprove.approved_cost,e.files=[],this._dataService.post("/cat-submission/approvedByUserId",e).subscribe(e=>{console.log("Why",e),this.isSaveApprove=!1,"failed"!=e.result&&(this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_UPDATE_EN:A.W.MSG_UPDATE,"OK"),this.modalService.dismissAll(),this.socket.emit("refresh",{}))},()=>{this.isSaveApprove=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}}fileEventApproved(e,t){this.filesToUploadApprove=e.target.files}_processUploadDisagreeAfter(e){let t={folder_name:"submissions"};t.id=this.entity.id,this._uploadService.uploadFileMulti("/services/multi-uploads/"+t.id+"/"+t.folder_name,e).subscribe(e=>{let t={};t.id=this.entity.id,t.userid=this.user.id,t.status=0,t.content=this.entityApprove.content,t.approved_cost=this.entityApprove.approved_cost,t.files=e.data,this._dataService.post("/cat-submission/approvedByUserId",t).subscribe(e=>{this.isSaveApprove=!1,"failed"!=e.result&&(this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_UPDATE_EN:A.W.MSG_UPDATE,"OK"),this.modalService.dismissAll(),this.socket.emit("refresh",{}))},()=>{this.isSaveApprove=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})},()=>{this.isSaveApprove=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}submissionRecall(){y().fire({title:"en"==this.user.lang?A.W.are_you_sure_recall_en:A.W.are_you_sure_recall,text:this.entity.title,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?A.W.cancel_en:A.W.cancel,confirmButtonText:"en"==this.user.lang?A.W.confirmtext_en:A.W.confirmtext}).then(e=>{if(e.value){if(this.entity.logs.diagrams.filter(e=>0!=e.id&&null!=e.timestamp).length>0)return this._notifyService.showError("en"==this.user.lang?A.W.MSG_UPDATENO_EN:A.W.MSG_UPDATENO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title),void this.modalService.dismissAll();this.entity.is_active=2,this.updateSubmissionChanges()}})}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(a.e),x.Y36(l.D),x.Y36(m.F0),x.Y36(v.c),x.Y36(o.C),x.Y36(s.x),x.Y36(S.p),x.Y36(T.FF),x.Y36(q.t),x.Y36(Y.H7))},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-subm-requests"]],viewQuery:function(e,t){if(1&e&&(x.Gf(K,5),x.Gf(V,5),x.Gf(X,7),x.Gf(ee,5),x.Gf(te,5)),2&e){let e;x.iGM(e=x.CRH())&&(t.ckeEditor=e.first),x.iGM(e=x.CRH())&&(t.ckeEditor1=e.first),x.iGM(e=x.CRH())&&(t.combo=e.first),x.iGM(e=x.CRH())&&(t.attached_file=e.first),x.iGM(e=x.CRH())&&(t.attached_file1=e.first)}},decls:98,vars:79,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-body"],[1,"btn-group","flex-wrap"],["type","button",3,"ngClass","click"],[1,"fa","fa-clone"],[1,"fa","fa-eye"],[1,"fa","fa-eye-slash"],["type","button",1,"btn","btn-sm","btn-warning"],[1,"fa","fa-search"],["type","button",1,"btn","btn-sm","btn-warning",3,"click"],[1,"fa","fa-plus"],["ngbDropdown","","class","btn-group","role","group",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],["contentModal",""],["popupNewProfile",""],["categoryModal",""],["categoryModal1",""],["titleModal",""],["deptModal",""],["popupViewModal",""],["popupApprovedModal",""],["ngbDropdown","","role","group",1,"btn-group"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-primary","dropdown-toggle"],[1,"fa","fa-object-group"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["routerLink","/submissions/type-of-profile","target","_blank",1,"dropdown-item"],[1,"fa","fa-tags"],["routerLink","/submissions/profile-group","target","_blank",1,"dropdown-item"],[1,"fa","fa-map-signs"],["routerLink","/submissions/type-of-document","target","_blank",1,"dropdown-item"],[1,"fa","fa-file-text-o"],["routerLink","/system/departments","target","_blank",1,"dropdown-item"],[1,"fa","fa-users"],["colspan","7",2,"text-align","center"],[1,"text-danger"],[2,"cursor","pointer",3,"click"],[1,"mute"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-dark",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary",4,"ngIf"],[1,"badge","badge-pill","badge-danger"],[1,"fa","fa-flag"],[1,"badge","badge-dark"],[1,"badge","badge-warning"],[1,"badge","badge-danger"],[1,"badge","badge-success"],[1,"badge","badge-secondary"],[1,"form","theme-form"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-12"],[3,"ngClass","click"],[3,"ngClass","click",4,"ngIf"],[1,"form-group","row",3,"ngStyle"],["class","col-md-12","style","max-height: calc(100vh - 300px); overflow-y: auto",4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"fa","fa-clock-o"],[1,"fa","fa-comments"],[1,"col-md-4"],["for","title"],["type","text","id","title","name","title","autocomplete","off","required","",3,"ngModel","ngClass","disabled","ngModelChange","change"],["for","profile_id"],["id","profile_id","name","profile_id","bindValue","id","bindLabel","title","required","",3,"items","multiple","closeOnSelect","searchable","ngModel","placeholder","notFoundText","disabled","ngModelChange","change"],["ng-option-tmp",""],[1,"col-md-2"],["for","critical_level"],["id","critical_level","name","critical_level",3,"ngModel","ngClass","disabled","ngModelChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["for","priority_level"],["id","priority_level","name","priority_level",3,"ngModel","ngClass","disabled","ngModelChange","change"],[1,"col-md-8"],["for","related_requests"],["bindLabel","name","bindValue","id",3,"multiple","items","closeOnSelect","placeholder","notFoundText","ngModel","disabled","blur","change"],["combo",""],["ng-header-tmp",""],["ng-multi-label-tmp",""],["for","estimated_cost"],["id","estimated_cost","name","estimated_cost","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",3,"ngClass","ngModel","disabled","change","ngModelChange"],["for","content",1,"jbold"],[3,"innerHtml",4,"ngIf"],["for","attached_file",1,"jbold"],["name","attached_file","type","file","id","attached_file","accept",".pdf,.doc,.docx","class","form-control",3,"change",4,"ngIf"],["type","hidden","name","attached_file0",3,"ngModel","ngModelChange"],["class","card-body btn-showcase",4,"ngIf"],["for","filesToUpload",1,"jbold"],["name","filesToUpload","type","file","multiple","","id","filesToUpload","class","form-control","accept",".pdf,.doc,.docx",3,"change",4,"ngIf"],[1,"card-body","btn-showcase"],["for","diagrams",1,"jbold"],[1,"table"],["href","javascript:;",1,"btn","btn-outline-info","btn-pill","btn-xs",3,"click"],["container","body",3,"ngbTooltip"],["type","checkbox",3,"ngModel","change"],["class","ng-value",4,"ngFor","ngForOf"],["class","ng-value",4,"ngIf"],[1,"ng-value"],[1,"ng-value-label"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["type","checkbox",3,"id","checked"],["id","content","name","content","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange","change"],["ckeEditor",""],[3,"innerHtml"],["href","javascript:;",3,"click"],["name","attached_file","type","file","id","attached_file","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["attached_file",""],["src","../../../../assets/files/ico_file.png","width","25px",1,"mr-sm-1",2,"cursor","pointer",3,"click"],["class","fa fa-trash","style","cursor: pointer",3,"click",4,"ngIf"],[1,"fa","fa-trash",2,"cursor","pointer",3,"click"],["name","filesToUpload","type","file","multiple","","id","filesToUpload","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["filesToUpload",""],["class","badge badge-pill badge-danger mr-sm-3",4,"ngIf"],[1,"badge","badge-pill","badge-danger","mr-sm-3"],["type","number","min","1","class","form-control","style","width: 70px",3,"name","id","ngModel","ngModelChange","change",4,"ngIf"],["class","form-control","required","",3,"name","ngModel","ngModelChange","change",4,"ngIf"],["href","javascript:;","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["type","number","min","1",1,"form-control",2,"width","70px",3,"name","id","ngModel","ngModelChange","change"],["nzShowSearch","",2,"width","100%",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange"],["required","",1,"form-control",3,"name","ngModel","ngModelChange","change"],["href","javascript:;",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-trash"],["colspan","5",1,"text-truncate"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-md-12",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"timeline-small"],["class","media",4,"ngIf"],["class","media",4,"ngFor","ngForOf"],[1,"media"],["src","../../../../assets/img/avatars/logo-icon-web.png","width","53px",4,"ngIf"],[1,"media-body"],[1,"pull-right","f-14"],["src","../../../../assets/img/avatars/logo-icon-web.png","width","53px"],[1,"timeline-round","m-r-30","timeline-line-1"],["class","mute",4,"ngIf"],[1,"row","chat-box"],[1,"col","pr-0","chat-right-aside"],[1,"chat"],[1,"chat-header","clearfix"],["type","text","name","_contents","id","_contents","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","change"],[1,"list-inline","float-left","float-sm-right","chat-menu-icons"],[1,"list-inline-item"],["href","javascript:void(0)"],[1,"icon-clip"],[1,"chat-history","chat-msg-box","custom-scrollbar",2,"max-height","300px"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class","message my-message mb-0",4,"ngIf","ngIfElse"],["myChat",""],[1,"message","my-message","mb-0"],[1,"message-data","text-right"],[1,"mute","mr-sm-1"],[1,"message-data-time"],["alt","",1,"rounded-circle","float-left","chat-user-img","img-30",3,"src"],["src","../../../../assets/img/icon.png","alt","",1,"rounded-circle","float-left","chat-user-img","img-30"],[1,"message","other-message","pull-right"],[1,"message-data"],["alt","",1,"rounded-circle","float-right","chat-user-img","img-30",3,"src"],["src","../../../../assets/img/icon.png","alt","",1,"rounded-circle","float-right","chat-user-img","img-30"],[1,"image-not-found"],[1,"d-block","start-conversion"],["src","assets/images/start-conversion.jpg"],[1,"modal-footer"],["type","button",1,"btn","btn-light","mr-sm-1",3,"click"],["type","button",1,"btn","btn-secondary","mr-sm-1",3,"click"],["type","button",1,"btn","btn-danger","mr-sm-1",3,"click"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","button","class","btn btn-primary mr-sm-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mr-sm-1",3,"click"],["href","javascript:;",1,"btn","btn-warning","mr-sm-1"],["type","button","class","btn btn-warning mr-sm-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning","mr-sm-1",3,"click"],["type","button","class","btn btn-danger mr-sm-1",3,"click",4,"ngIf"],[1,"form","theme-form",3,"ngSubmit"],["f","ngForm"],[1,"modal-body",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"col-md-3"],["for","profile_group",1,"jbold"],["id","profile_group","name","profile_group","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","profile_code",1,"jbold"],["type","text","id","profile_code","name","profile_code","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","keyup"],["for","profile_name",1,"jbold"],["type","text","id","profile_name","name","profile_name","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","type_document",1,"jbold"],["name","type_document","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","ngModelChange"],["for","handling_users",1,"jbold"],["colspan","4",1,"text-truncate"],["for","desc",1,"jbold"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange"],["ckeEditor1",""],["for","Status11",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","Status11","type","checkbox","name","Status11",3,"ngModel","ngModelChange"],["for","Status11"],["for","estimated_cost1",1,"jbold"],["id","estimated_cost1","name","estimated_cost1","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],["for","attached_file1",1,"jbold"],["name","attached_file1","type","file","id","attached_file1",1,"form-control",3,"change"],["attached_file1",""],["type","hidden","name","attached_file11","accept",".pdf,.doc,.docx",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[3,"value"],["type","number","class","form-control","required","","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["style","width: 100%","nzShowSearch","",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange",4,"ngIf"],["type","number","class","form-control","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["type","number","required","","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["type","number","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],["formPG","ngForm"],[1,"form-group"],["for","CodePG",1,"jbold"],["type","text","id","CodePG","name","CodePG","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name1",1,"jbold"],["type","text","id","Name1","name","Name1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name1a","name","Name1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG",1,"jbold"],["id","StatusPG","type","checkbox","name","StatusPG",3,"ngModel","ngModelChange"],["for","StatusPG"],["formPG1","ngForm"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],["formTitle","ngForm"],["for","CodeTitle",1,"jbold"],["type","text","id","CodeTitle","name","CodeTitle","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","NameTitle1",1,"jbold"],["type","text","id","NameTitle1","name","NameTitle1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","NameTitle1a","name","NameTitle1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusTitle",1,"jbold"],["id","StatusTitle","type","checkbox","name","StatusTitle",3,"ngModel","ngModelChange"],["for","StatusTitle"],["formDept","ngForm"],["for","Department1",1,"jbold"],["type","text","id","Department1","name","Department1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Department1a","name","Department1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusDept",1,"jbold"],["id","StatusDept","type","checkbox","name","StatusDept",3,"ngModel","ngModelChange"],["for","StatusDept"],[1,"col-md-12",2,"height","590px"],[3,"src","stick-to-page","original-size","show-all","autoresize","render-text",4,"ngIf"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"fa","fa-print"],[3,"src","stick-to-page","original-size","show-all","autoresize","render-text"],["for","contentApprove"],["id","contentApprove","rows","3","name","contentApprove",1,"form-control",3,"ngModel","ngModelChange"],["for","approved_cost"],["id","approved_cost","type","text","name","approved_cost","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["name","filesToUploadApprove","type","file","multiple","","id","filesToUploadApprove","accept",".pdf,.doc,.docx",1,"form-control",3,"change"],["filesToUploadApprove",""],["href","javascript:;",1,"btn","btn-light",3,"click"],["href","javascript:;","class","btn btn-primary",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"div",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.TgZ(4,"div",4),x.TgZ(5,"div",5),x.TgZ(6,"div",6),x.TgZ(7,"div",7),x.TgZ(8,"button",8),x.NdJ("click",function(){return t._switch(9)}),x._UZ(9,"i",9),x._uU(10),x.ALo(11,"translate"),x.qZA(),x.TgZ(12,"button",8),x.NdJ("click",function(){return t._switch(1)}),x._UZ(13,"i",10),x._uU(14),x.ALo(15,"translate"),x.qZA(),x.TgZ(16,"button",8),x.NdJ("click",function(){return t._switch(3)}),x._UZ(17,"i",11),x._uU(18),x.ALo(19,"translate"),x.qZA(),x.TgZ(20,"button",12),x._UZ(21,"i",13),x._uU(22),x.ALo(23,"translate"),x.qZA(),x.TgZ(24,"button",14),x.NdJ("click",function(){x.CHM(e);const i=x.MAs(83);return t._openModal(i,null)}),x._UZ(25,"i",15),x._uU(26),x.ALo(27,"translate"),x.qZA(),x.YNc(28,ie,22,15,"div",16),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(29,"div",2),x.TgZ(30,"div",3),x.TgZ(31,"div",4),x.TgZ(32,"div",5),x.TgZ(33,"div",6),x.TgZ(34,"div",17),x.TgZ(35,"div",18),x.TgZ(36,"div",19),x.TgZ(37,"pagination",20),x.NdJ("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),x.qZA(),x.qZA(),x.TgZ(38,"div",21),x.TgZ(39,"a",22),x._uU(40),x.ALo(41,"translate"),x.ALo(42,"translate"),x.ALo(43,"translate"),x.ALo(44,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(45,"div",23),x.TgZ(46,"table",24),x.TgZ(47,"thead"),x.TgZ(48,"th",25),x._uU(49,"#"),x.qZA(),x.TgZ(50,"th",26),x._uU(51),x.ALo(52,"translate"),x.qZA(),x.TgZ(53,"th",26),x._uU(54),x.ALo(55,"translate"),x.qZA(),x.TgZ(56,"th",26),x._uU(57),x.ALo(58,"translate"),x.qZA(),x.TgZ(59,"th",26),x._uU(60),x.ALo(61,"translate"),x.qZA(),x.TgZ(62,"th",26),x._uU(63),x.ALo(64,"translate"),x.qZA(),x.TgZ(65,"th",26),x._uU(66),x.ALo(67,"translate"),x.qZA(),x.qZA(),x.TgZ(68,"tbody"),x.YNc(69,ne,6,3,"ng-container",27),x.YNc(70,he,34,24,"ng-container",28),x.qZA(),x.qZA(),x.qZA(),x.TgZ(71,"div",17),x.TgZ(72,"div",18),x.TgZ(73,"div",19),x.TgZ(74,"pagination",20),x.NdJ("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),x.qZA(),x.qZA(),x.TgZ(75,"div",21),x.TgZ(76,"a",22),x._uU(77),x.ALo(78,"translate"),x.ALo(79,"translate"),x.ALo(80,"translate"),x.ALo(81,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.YNc(82,It,26,23,"ng-template",null,29,x.W1O),x.YNc(84,ti,121,87,"ng-template",null,30,x.W1O),x.YNc(86,si,52,44,"ng-template",null,31,x.W1O),x.YNc(88,ai,52,44,"ng-template",null,32,x.W1O),x.YNc(90,di,51,42,"ng-template",null,33,x.W1O),x.YNc(92,hi,42,35,"ng-template",null,34,x.W1O),x.YNc(94,Zi,15,6,"ng-template",null,35,x.W1O),x.YNc(96,bi,31,19,"ng-template",null,36,x.W1O)}2&e&&(x.xp6(8),x.Q6J("ngClass",9==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),x.xp6(2),x.hij(" ",x.lcZ(11,41,"All my requests")," "),x.xp6(2),x.Q6J("ngClass",1==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),x.xp6(2),x.hij(" ",x.lcZ(15,43,"Processing requests")," "),x.xp6(2),x.Q6J("ngClass",3==t._current?"btn btn-sm btn-primary":"btn btn-sm btn-secondary"),x.xp6(2),x.hij(" ",x.lcZ(19,45,"Closed requests")," "),x.xp6(4),x.hij(" ",x.lcZ(23,47,"Search")," "),x.xp6(4),x.hij(" ",x.lcZ(27,49,"Add new")," "),x.xp6(2),x.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),x.xp6(9),x.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),x.xp6(3),x.Q0o("",x.lcZ(41,51,"Total of records"),": ",t.totalRow," - ",x.lcZ(42,53,"Page")," ",t.pageIndex," ",x.lcZ(43,55,"of")," ",t.totalPage," ",x.lcZ(44,57,"page"),""),x.xp6(11),x.Oqu(x.lcZ(52,59,"Title")),x.xp6(3),x.hij(" ",x.lcZ(55,61,"Proposed date")," "),x.xp6(3),x.hij(" ",x.lcZ(58,63,"Reviewed by")," "),x.xp6(3),x.hij(" ",x.lcZ(61,65,"Approved by")," "),x.xp6(3),x.hij(" ",x.lcZ(64,67,"Updated date")," "),x.xp6(3),x.Oqu(x.lcZ(67,69,"Status")),x.xp6(3),x.Q6J("ngIf",0==t._requestslist.length),x.xp6(1),x.Q6J("ngForOf",t._requestslist),x.xp6(4),x.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),x.xp6(3),x.Q0o("",x.lcZ(78,71,"Total of records"),": ",t.totalRow," - ",x.lcZ(79,73,"Page")," ",t.pageIndex," ",x.lcZ(80,75,"of")," ",t.totalPage," ",x.lcZ(81,77,"page"),""))},directives:[n.mk,n.O5,g.Qt,Z.JJ,Z.On,n.sg,T.jt,T.iD,T.Vi,m.yS,Z._Y,Z.JL,Z.F,n.PC,Z.Fj,Z.Q7,H.w9,H.Z2,Z.EJ,Z.YN,Z.Kr,H.A3,H.Yi,F.hx,T._L,Z.Wl,B.u,Z.qQ,Z.wV,z.zr,$.rQ],pipes:[M.X$,n.uU,n.OU],styles:[""]}),e})();function xi(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"a",34),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(),i=x.MAs(64);return t._openModal(i,null)}),x._UZ(1,"i",35),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"Add new")," "))}function vi(e,t){1&e&&(x.TgZ(0,"a",36),x._UZ(1,"i",37),x._uU(2),x.ALo(3,"translate"),x.qZA()),2&e&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"Submissions")," "))}function Si(e,t){1&e&&x._UZ(0,"i",38)}function Ti(e,t){1&e&&(x.ynx(0),x.TgZ(1,"tr"),x.TgZ(2,"td",39),x.TgZ(3,"h3",40),x._uU(4),x.ALo(5,"translate"),x.qZA(),x.qZA(),x.qZA(),x.BQk()),2&e&&(x.xp6(4),x.hij(" ",x.lcZ(5,1,"No records now!!!")," "))}function qi(e,t){1&e&&x._UZ(0,"img",47)}function Mi(e,t){1&e&&x._UZ(0,"img",48)}function Ci(e,t){if(1&e){const e=x.EpF();x.ynx(0),x.TgZ(1,"tr"),x.TgZ(2,"td",24),x._uU(3),x.qZA(),x.TgZ(4,"td",24),x._uU(5),x.qZA(),x.TgZ(6,"td",24),x._uU(7),x.qZA(),x.TgZ(8,"td",24),x._uU(9),x.qZA(),x.TgZ(10,"td",24),x.YNc(11,qi,1,0,"img",41),x.YNc(12,Mi,1,0,"img",42),x.qZA(),x.TgZ(13,"td",24),x.TgZ(14,"a",43),x.NdJ("click",function(){const t=x.CHM(e).$implicit,i=x.oxw(),n=x.MAs(64);return i._openModal(n,t)}),x.ALo(15,"translate"),x._UZ(16,"i",44),x.qZA(),x.TgZ(17,"a",45),x.NdJ("click",function(){const t=x.CHM(e).$implicit;return x.oxw().deleteItem(t)}),x.ALo(18,"translate"),x._UZ(19,"i",46),x.qZA(),x.qZA(),x.qZA(),x.BQk()}if(2&e){const e=t.$implicit,i=t.index,n=x.oxw();x.xp6(3),x.hij(" ",i+1," "),x.xp6(2),x.hij(" ",e.code," "),x.xp6(2),x.hij(" ",e.name_l," "),x.xp6(2),x.hij(" ",e.name_e," "),x.xp6(2),x.Q6J("ngIf",!e.is_active),x.xp6(1),x.Q6J("ngIf",e.is_active),x.xp6(2),x.s9C("ngbTooltip",x.lcZ(15,10,"Edit")),x.Q6J("disabled","Admin"===e.name_e||!n._authenService.hasPermission("DEPT","update")),x.xp6(3),x.s9C("ngbTooltip",x.lcZ(18,12,"Delete")),x.Q6J("disabled","Admin"===e.name_e||!n._authenService.hasPermission("DEPT","delete"))}}function Ni(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",72),x._UZ(2,"img",73),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function wi(e,t){if(1&e&&(x.TgZ(0,"button",74),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function Ui(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",49,50),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChange()}),x.TgZ(2,"div",51),x.TgZ(3,"h4",52),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.qZA(),x.TgZ(7,"button",53),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(8,"span",54),x._uU(9,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(10,"div",55),x.TgZ(11,"div",56),x.TgZ(12,"div",57),x.TgZ(13,"div",58),x.TgZ(14,"label",59),x._uU(15),x.ALo(16,"translate"),x.TgZ(17,"span",40),x._uU(18,"(*)"),x.qZA(),x.qZA(),x.TgZ(19,"input",60),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.code=t})("keyup",function(){return x.CHM(e),x.oxw().removeBlank()}),x.ALo(20,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(21,"div",61),x.TgZ(22,"div",58),x.TgZ(23,"label",62),x._uU(24),x.ALo(25,"translate"),x.TgZ(26,"span",40),x._uU(27,"(*)"),x.qZA(),x.qZA(),x.TgZ(28,"input",63),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.name_l=t}),x.ALo(29,"translate"),x.ALo(30,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(31,"div",61),x.TgZ(32,"div",58),x.TgZ(33,"input",64),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.name_e=t}),x.ALo(34,"translate"),x.ALo(35,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(36,"div",57),x.TgZ(37,"label",65),x._uU(38),x.ALo(39,"translate"),x.qZA(),x.TgZ(40,"div",66),x.TgZ(41,"input",67),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.is_active=t}),x.qZA(),x.TgZ(42,"label",68),x._uU(43),x.ALo(44,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(45,"div",69),x.TgZ(46,"button",70),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(47),x.ALo(48,"translate"),x.qZA(),x.YNc(49,Ni,5,3,"ng-container",25),x.YNc(50,wi,3,4,"button",71),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ",null==e.entity.id?x.lcZ(5,20,"Add new"):x.lcZ(6,22,"Update")," ",e._title," "),x.xp6(11),x.hij("",x.lcZ(16,24,"Document code")," "),x.xp6(4),x.s9C("placeholder",x.lcZ(20,26,"Document code")),x.Q6J("ngClass",null==e.entity.id?"form-control":"form-control jdisabled")("ngModel",e.entity.code)("disabled",null!=e.entity.id),x.xp6(5),x.hij("",x.lcZ(25,28,"Document name")," "),x.xp6(4),x.hYB("placeholder","",x.lcZ(29,30,"Document name")," (",x.lcZ(30,32,"Vietnamese"),")"),x.Q6J("ngModel",e.entity.name_l),x.xp6(5),x.hYB("placeholder","",x.lcZ(34,34,"Document name")," (",x.lcZ(35,36,"English"),")"),x.Q6J("ngModel",e.entity.name_e),x.xp6(5),x.Oqu(x.lcZ(39,38,"Status")),x.xp6(3),x.Q6J("ngModel",e.entity.is_active),x.xp6(2),x.Oqu(x.lcZ(44,40,e.entity.is_active?"activated":"not activated")),x.xp6(4),x.hij(" ",x.lcZ(48,42,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSave),x.xp6(1),x.Q6J("ngIf",!e.isSave)}}let Ei=(()=>{class e{constructor(e,t,i,n,s,o,l,a,r){this._authenService=e,this._dataService=t,this._route=i,this._notifyService=n,this._uploadService=s,this._excelService=o,this._numberFormat=l,this.modalService=a,this._utilyService=r,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this.entity={}}ngOnInit(){this.user=this._authenService.getLoggedInUser(),this.loadData()}loadData(){this._isLoading=!0,this._dataService.post("/cat-submission/getallDocuments",{page:this.pageIndex,limit:this.pageSize,filter:this._keyword,short_code:this.user.short_code}).subscribe(e=>{this._isLoading=!1,this._requestslist=e.data,this.totalRow=e.rowCount,this.totalPage=e.totalPages},()=>this._isLoading=!1)}_pageSizeChange(e){this.pageSize=e.target.value,this.loadData()}pageChanged(e){this.pageIndex=e.page,this.loadData()}removeBlank(){this.entity.code=null==this.entity.code?null:this.entity.code.replace(" ","")}_openModal(e,t){null==t?(this.entity={},this.entity.name_l=null,this.entity.name_e=null,this.entity.is_active=!0,this.entity.short_code=this.user.short_code,this._title=""):(this.entity=t,this._title=t.code),this.modalService.open(e,{size:"md",centered:!0})}saveChange(){this.isSave=!0,null==this.entity.id?(this.entity.code=this.entity.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entity).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entity={},this.entity.name_l=null,this.entity.name_e=null,this.entity.is_active=!0,this.loadData(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})):this._dataService.post("/cat-submission/updateDocument",this.entity).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_UPDATENO_EN:A.W.MSG_UPDATENO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.loadData(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"),this.modalService.dismissAll())},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}deleteItem(e){y().fire({title:"en"==this.user.lang?A.W.are_you_sure_en:A.W.are_you_sure,text:"en"==this.user.lang?e.name_e:e.name_l,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?A.W.cancel_en:A.W.cancel,confirmButtonText:"en"==this.user.lang?A.W.confirmtext_en:A.W.confirmtext}).then(t=>{if(t.value){let t={};t.id=e.id,this._dataService.post("/cat-submission/deleteDocument",t).subscribe(e=>{"failed"!=e.result?(this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_DELETE_EN:A.W.MSG_DELETE,"OK"),this.loadData()):this._notifyService.showError("en"==this.user.lang?A.W.MSG_DELETENO_EN:A.W.MSG_DELETENO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)},()=>{this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}})}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(a.e),x.Y36(l.D),x.Y36(m.F0),x.Y36(v.c),x.Y36(o.C),x.Y36(s.x),x.Y36(S.p),x.Y36(T.FF),x.Y36(q.t))},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-subm-typedocument"]],decls:65,vars:51,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],["class","btn btn-sm btn-info mr-sm-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-secondary mr-sm-2","routerLink","/submissions/requests",4,"ngIf"],["class","fa fa-spinner fa-spin text-primary","style","font-size: 16pt",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"custom-select","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],["content",""],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],[1,"fa","fa-plus"],["routerLink","/submissions/requests",1,"btn","btn-sm","btn-secondary","mr-sm-2"],[1,"fa","fa-clipboard"],[1,"fa","fa-spinner","fa-spin","text-primary",2,"font-size","16pt"],["colspan","6",2,"text-align","center"],[1,"text-danger"],["src","../../../../assets/img/icon-no.svg",4,"ngIf"],["src","../../../../assets/img/icon-yes.svg",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-sm-1",3,"ngbTooltip","disabled","click"],[1,"fa","fa-pencil"],[1,"btn","btn-sm","btn-danger",3,"ngbTooltip","disabled","click"],[1,"fa","fa-trash"],["src","../../../../assets/img/icon-no.svg"],["src","../../../../assets/img/icon-yes.svg"],[1,"form","theme-form",3,"ngSubmit"],["formPG1","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-md-6"],[1,"form-group"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",3,"ngClass","placeholder","ngModel","disabled","ngModelChange","keyup"],[1,"col-md-12"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.TgZ(4,"div",4),x.TgZ(5,"div",5),x.TgZ(6,"div",6),x.TgZ(7,"div",2),x.TgZ(8,"div",7),x.TgZ(9,"div",8),x.TgZ(10,"input",9),x.NdJ("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),x.ALo(11,"translate"),x.qZA(),x.YNc(12,xi,4,3,"a",10),x.YNc(13,vi,4,3,"a",11),x.YNc(14,Si,1,0,"i",12),x.qZA(),x.qZA(),x.TgZ(15,"div",13),x.TgZ(16,"div",14),x.TgZ(17,"select",15),x.NdJ("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),x.TgZ(18,"option",16),x._uU(19,"#10"),x.qZA(),x.TgZ(20,"option",17),x._uU(21,"#25"),x.qZA(),x.TgZ(22,"option",18),x._uU(23,"#50"),x.qZA(),x.TgZ(24,"option",19),x._uU(25,"#100"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(26,"div",20),x.TgZ(27,"div",21),x.TgZ(28,"table",22),x.TgZ(29,"thead"),x.TgZ(30,"th",23),x._uU(31,"#"),x.qZA(),x.TgZ(32,"th",24),x._uU(33),x.ALo(34,"translate"),x.qZA(),x.TgZ(35,"th",24),x._uU(36),x.ALo(37,"translate"),x.ALo(38,"translate"),x.qZA(),x.TgZ(39,"th",24),x._uU(40),x.ALo(41,"translate"),x.ALo(42,"translate"),x.qZA(),x.TgZ(43,"th",24),x._uU(44),x.ALo(45,"translate"),x.qZA(),x.TgZ(46,"th",24),x._uU(47),x.ALo(48,"translate"),x.qZA(),x.qZA(),x.TgZ(49,"tbody"),x.YNc(50,Ti,6,3,"ng-container",25),x.YNc(51,Ci,20,14,"ng-container",26),x.qZA(),x.qZA(),x.qZA(),x.TgZ(52,"div",27),x.TgZ(53,"div",28),x.TgZ(54,"div",29),x.TgZ(55,"pagination",30),x.NdJ("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),x.qZA(),x.qZA(),x.TgZ(56,"div",31),x.TgZ(57,"a",32),x._uU(58),x.ALo(59,"translate"),x.ALo(60,"translate"),x.ALo(61,"translate"),x.ALo(62,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.YNc(63,Ui,51,44,"ng-template",null,33,x.W1O)),2&e&&(x.xp6(10),x.Q6J("placeholder",x.lcZ(11,27,"Search"))("ngModel",t._keyword),x.xp6(2),x.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),x.xp6(1),x.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),x.xp6(1),x.Q6J("ngIf",t._isLoading),x.xp6(3),x.Q6J("ngModel",t.pageSize),x.xp6(16),x.hij(" ",x.lcZ(34,29,"Code")," "),x.xp6(3),x.AsE(" ",x.lcZ(37,31,"Document name")," (",x.lcZ(38,33,"Vietnamese"),") "),x.xp6(4),x.AsE(" ",x.lcZ(41,35,"Document name")," (",x.lcZ(42,37,"English"),") "),x.xp6(4),x.hij(" ",x.lcZ(45,39,"Status")," "),x.xp6(3),x.hij(" ",x.lcZ(48,41,"Actions")," "),x.xp6(3),x.Q6J("ngIf",0==t._requestslist.length),x.xp6(1),x.Q6J("ngForOf",t._requestslist),x.xp6(4),x.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),x.xp6(3),x.Q0o("",x.lcZ(59,43,"Total of records"),": ",t.totalRow," - ",x.lcZ(60,45,"Page")," ",t.pageIndex," ",x.lcZ(61,47,"of")," ",t.totalPage," ",x.lcZ(62,49,"page"),""))},directives:[Z.Fj,Z.JJ,Z.On,n.O5,Z.EJ,Z.YN,Z.Kr,n.sg,g.Qt,m.yS,T._L,Z._Y,Z.JL,Z.F,Z.Q7,n.mk,Z.Wl],pipes:[M.X$],styles:[""]}),e})();const Ji=["attached_file1"];function Di(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"a",37),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(),i=x.MAs(68);return t._openModal(i,null)}),x._UZ(1,"i",38),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"Add new")," "))}function Wi(e,t){1&e&&(x.TgZ(0,"a",39),x._UZ(1,"i",40),x._uU(2),x.ALo(3,"translate"),x.qZA()),2&e&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"Submissions")," "))}function Li(e,t){1&e&&x._UZ(0,"i",41)}function ki(e,t){1&e&&(x.ynx(0),x.TgZ(1,"tr"),x.TgZ(2,"td",42),x.TgZ(3,"h3",43),x._uU(4),x.ALo(5,"translate"),x.qZA(),x.qZA(),x.qZA(),x.BQk()),2&e&&(x.xp6(4),x.hij(" ",x.lcZ(5,1,"No records now!!!")," "))}function Ii(e,t){if(1&e&&(x.TgZ(0,"li"),x._uU(1),x.qZA()),2&e){const e=t.$implicit,i=t.index,n=x.oxw(2);x.xp6(1),x.AsE(" ",i+1,". ","en"==n.user.lang?e.user.title_e:e.user.title_l," ")}}function Qi(e,t){1&e&&x._UZ(0,"img",50)}function Oi(e,t){1&e&&x._UZ(0,"img",51)}function Pi(e,t){if(1&e){const e=x.EpF();x.ynx(0),x.TgZ(1,"tr"),x.TgZ(2,"td",24),x._uU(3),x.qZA(),x.TgZ(4,"td",24),x._uU(5),x.qZA(),x.TgZ(6,"td",24),x._uU(7),x.qZA(),x.TgZ(8,"td",24),x._uU(9),x.qZA(),x.TgZ(10,"td",24),x._uU(11),x.qZA(),x.TgZ(12,"td",24),x.TgZ(13,"ul"),x.YNc(14,Ii,2,2,"li",26),x.qZA(),x.qZA(),x.TgZ(15,"td",24),x.YNc(16,Qi,1,0,"img",44),x.YNc(17,Oi,1,0,"img",45),x.qZA(),x.TgZ(18,"td",24),x.TgZ(19,"a",46),x.NdJ("click",function(){const t=x.CHM(e).$implicit,i=x.oxw(),n=x.MAs(68);return i._openModal(n,t)}),x.ALo(20,"translate"),x._UZ(21,"i",47),x.qZA(),x.TgZ(22,"a",48),x.NdJ("click",function(){const t=x.CHM(e).$implicit;return x.oxw().deleteItem(t)}),x.ALo(23,"translate"),x._UZ(24,"i",49),x.qZA(),x.qZA(),x.qZA(),x.BQk()}if(2&e){const e=t.$implicit,i=t.index,n=x.oxw();x.xp6(3),x.hij(" ",i+1," "),x.xp6(2),x.hij(" ","en"==n.user.lang?n.group_name_e:e.group_name_l," "),x.xp6(2),x.hij(" ","en"==n.user.lang?n.document_name_e:e.document_name_l," "),x.xp6(2),x.hij(" ",e.code," "),x.xp6(2),x.hij(" ",e.title," "),x.xp6(3),x.Q6J("ngForOf",e.handle_users.data),x.xp6(2),x.Q6J("ngIf",!e.is_active),x.xp6(1),x.Q6J("ngIf",e.is_active),x.xp6(2),x.s9C("ngbTooltip",x.lcZ(20,12,"Edit")),x.Q6J("disabled","Admin"===e.name_e||!n._authenService.hasPermission("DEPT","update")),x.xp6(3),x.s9C("ngbTooltip",x.lcZ(23,14,"Delete")),x.Q6J("disabled","Admin"===e.name_e||!n._authenService.hasPermission("DEPT","delete"))}}function Ri(e,t){if(1&e&&(x.TgZ(0,"option",96),x._uU(1),x.qZA()),2&e){const e=t.$implicit,i=x.oxw(2);x.s9C("value",e.id),x.xp6(1),x.AsE(" ",e.code," - ","en"==i.user.lang?e.name_e:e.name_l," ")}}function Gi(e,t){if(1&e&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Oqu(e.order)}}function ji(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"input",102),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().$implicit.order=t}),x.qZA()}if(2&e){const e=x.oxw(),t=e.$implicit;x.MGl("name","or",e.index+1,""),x.Q6J("ngModel",t.order)}}function Yi(e,t){if(1&e&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Oqu(e.user.title)}}function Hi(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"nz-tree-select",103),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(3)._selectDept=t})("ngModelChange",function(){x.CHM(e);const t=x.oxw().$implicit,i=x.oxw(2);return i._getUser(t,i._selectDept)}),x.ALo(1,"translate"),x.qZA()}if(2&e){const e=x.oxw(3);x.s9C("nzPlaceHolder",x.lcZ(1,4,"Please choose")),x.Q6J("nzExpandedKeys",e.expandKeys)("nzNodes",e._departments)("ngModel",e._selectDept)}}function Fi(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Only view")))}function Bi(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Passed signature")))}function zi(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Reviewed signature")))}function $i(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"Approved signature")))}function Ki(e,t){if(1&e&&(x.TgZ(0,"span"),x.YNc(1,Fi,3,3,"span",25),x.YNc(2,Bi,3,3,"span",25),x.YNc(3,zi,3,3,"span",25),x.YNc(4,$i,3,3,"span",25),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Q6J("ngIf",0==e.role),x.xp6(1),x.Q6J("ngIf",1==e.role),x.xp6(1),x.Q6J("ngIf",2==e.role),x.xp6(1),x.Q6J("ngIf",3==e.role)}}function Vi(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"select",104),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().$implicit.role=t})("change",function(){x.CHM(e);const t=x.oxw().$implicit,i=x.oxw(2);return i._getUser(t,i._selectDept)}),x.TgZ(1,"option",105),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.TgZ(4,"option",106),x._uU(5),x.ALo(6,"translate"),x.qZA(),x.TgZ(7,"option",107),x._uU(8),x.ALo(9,"translate"),x.qZA(),x.TgZ(10,"option",108),x._uU(11),x.ALo(12,"translate"),x.qZA(),x.qZA()}if(2&e){const e=x.oxw(),t=e.$implicit;x.MGl("name","r",e.index+1,""),x.Q6J("ngModel",t.role),x.xp6(2),x.Oqu(x.lcZ(3,6,"Only view")),x.xp6(3),x.hij(" ",x.lcZ(6,8,"Passed signature")," "),x.xp6(3),x.hij(" ",x.lcZ(9,10,"Reviewed signature")," "),x.xp6(3),x.hij(" ",x.lcZ(12,12,"Approved signature")," ")}}function Xi(e,t){if(1&e&&(x.TgZ(0,"span"),x._uU(1),x.qZA()),2&e){const e=x.oxw().$implicit;x.xp6(1),x.Oqu(e.time)}}function en(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"input",109),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().$implicit.time=t}),x.qZA()}if(2&e){const e=x.oxw(),t=e.$implicit;x.MGl("name","timer",e.index+1,""),x.Q6J("ngModel",t.time)}}function tn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"a",110),x.NdJ("click",function(){x.CHM(e);const t=x.oxw().$implicit;return x.oxw(2)._removeItemHandle(t)}),x._UZ(1,"i",49),x.qZA()}}function nn(e,t){if(1&e&&(x.TgZ(0,"tr"),x.TgZ(1,"td",24),x.YNc(2,Gi,2,1,"span",25),x.YNc(3,ji,1,2,"input",97),x.qZA(),x.TgZ(4,"td",24),x.YNc(5,Yi,2,1,"span",25),x.YNc(6,Hi,2,6,"nz-tree-select",98),x.qZA(),x.TgZ(7,"td",24),x.YNc(8,Ki,5,4,"span",25),x.YNc(9,Vi,13,14,"select",99),x.qZA(),x.TgZ(10,"td",24),x.YNc(11,Xi,2,1,"span",25),x.YNc(12,en,1,2,"input",100),x.qZA(),x.TgZ(13,"td",24),x.YNc(14,tn,2,0,"a",101),x.qZA(),x.qZA()),2&e){const e=t.$implicit,i=x.oxw(2);x.xp6(2),x.Q6J("ngIf",e.flag),x.xp6(1),x.Q6J("ngIf",!e.flag),x.xp6(2),x.Q6J("ngIf",e.flag),x.xp6(1),x.Q6J("ngIf",!e.flag),x.xp6(2),x.Q6J("ngIf",e.flag),x.xp6(1),x.Q6J("ngIf",!e.flag),x.xp6(2),x.Q6J("ngIf",e.flag),x.xp6(1),x.Q6J("ngIf",!e.flag),x.xp6(2),x.Q6J("ngIf",!i.entity.flag_block)}}function sn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"tfoot"),x.TgZ(1,"tr"),x._UZ(2,"td",111),x.TgZ(3,"td",24),x.TgZ(4,"a",112),x.NdJ("click",function(){return x.CHM(e),x.oxw(2)._addItemHandle(null)}),x._UZ(5,"i",38),x.qZA(),x.qZA(),x.qZA(),x.qZA()}}function on(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"ck-editor",113,114),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw(2).entity.description=t}),x.qZA()}if(2&e){const e=x.oxw(2);x.Q6J("ngModel",e.entity.description)("fullPage",!0)("config",e.ckEditorConfig)}}function ln(e,t){if(1&e&&x._UZ(0,"p",115),2&e){const e=x.oxw(2);x.Q6J("innerHtml",e._detailContent,x.oJD)}}function an(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"a",56),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(3);return t.removeFile(t.entity)}),x._UZ(1,"i",49),x.qZA()}}function rn(e,t){if(1&e){const e=x.EpF();x.ynx(0),x._uU(1,"| "),x.TgZ(2,"a",116),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(2);return t._downloadFileResult(t.entity.attached_file)}),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.YNc(5,an,2,0,"a",117),x.BQk()}if(2&e){const e=x.oxw(2);x.xp6(3),x.Oqu(x.lcZ(4,2,"Download attachment")),x.xp6(2),x.Q6J("ngIf",!e.entity.flag_block)}}function cn(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",118),x._UZ(2,"img",119),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function dn(e,t){if(1&e&&(x.TgZ(0,"button",120),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function un(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",52,53),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChange()}),x.TgZ(2,"div",54),x.TgZ(3,"h4",55),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.ALo(7,"translate"),x.TgZ(8,"a",56),x.NdJ("click",function(){x.CHM(e);const t=x.oxw();return t.entity.flag_block=!t.entity.flag_block}),x._UZ(9,"i",57),x.qZA(),x.qZA(),x.TgZ(10,"button",58),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(11,"span",59),x._uU(12,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(13,"div",60),x.TgZ(14,"div",61),x.TgZ(15,"div",62),x.TgZ(16,"label",63),x._uU(17),x.ALo(18,"translate"),x.TgZ(19,"span",43),x._uU(20,"(*)"),x.qZA(),x._uU(21," - "),x.TgZ(22,"a",64),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(),i=x.MAs(70);return t._popupCategory(i,null)}),x._UZ(23,"i",38),x.qZA(),x.qZA(),x.TgZ(24,"select",65),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.profile_group_id=t}),x.TgZ(25,"option",66),x._uU(26),x.ALo(27,"translate"),x.qZA(),x.YNc(28,Ri,2,3,"option",67),x.qZA(),x.qZA(),x.TgZ(29,"div",62),x.TgZ(30,"label",68),x._uU(31),x.ALo(32,"translate"),x.TgZ(33,"span",43),x._uU(34,"(*)"),x.qZA(),x.qZA(),x.TgZ(35,"input",69),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.code=t})("keyup",function(){return x.CHM(e),x.oxw().removeBlankTypeProfile()}),x.qZA(),x.qZA(),x.TgZ(36,"div",62),x.TgZ(37,"label",70),x._uU(38),x.ALo(39,"translate"),x.TgZ(40,"span",43),x._uU(41,"(*)"),x.qZA(),x.qZA(),x.TgZ(42,"input",71),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.title=t}),x.qZA(),x.qZA(),x.TgZ(43,"div",62),x.TgZ(44,"label",72),x._uU(45),x.ALo(46,"translate"),x.TgZ(47,"span",43),x._uU(48,"(*)"),x.qZA(),x._uU(49," - "),x.TgZ(50,"a",64),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(),i=x.MAs(72);return t._popupCategory1(i,null)}),x._UZ(51,"i",38),x.qZA(),x.qZA(),x.TgZ(52,"ng-select",73),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.document_id=t}),x.ALo(53,"translate"),x.ALo(54,"translate"),x.qZA(),x.qZA(),x.TgZ(55,"div",74),x.TgZ(56,"label",75),x._uU(57),x.ALo(58,"translate"),x.TgZ(59,"span",43),x._uU(60,"(*)"),x.qZA(),x.qZA(),x.TgZ(61,"div",21),x.TgZ(62,"table",76),x.TgZ(63,"thead"),x.TgZ(64,"th",24),x._uU(65),x.ALo(66,"translate"),x.qZA(),x.TgZ(67,"th",24),x._uU(68),x.ALo(69,"translate"),x.TgZ(70,"a",64),x.NdJ("click",function(){x.CHM(e);const t=x.oxw(),i=x.MAs(74);return t._popupDepartment(i,null)}),x._UZ(71,"i",38),x.qZA(),x.qZA(),x.TgZ(72,"th",24),x._uU(73),x.ALo(74,"translate"),x.qZA(),x.TgZ(75,"th",24),x._uU(76),x.ALo(77,"translate"),x.ALo(78,"translate"),x.qZA(),x.TgZ(79,"th",24),x._uU(80),x.ALo(81,"translate"),x.qZA(),x.qZA(),x.TgZ(82,"tbody"),x.YNc(83,nn,15,9,"tr",26),x.qZA(),x.YNc(84,sn,6,0,"tfoot",25),x.qZA(),x.qZA(),x.qZA(),x.TgZ(85,"div",74),x.TgZ(86,"label",77),x._uU(87),x.ALo(88,"translate"),x.qZA(),x.YNc(89,on,2,3,"ck-editor",78),x.YNc(90,ln,1,1,"p",79),x.qZA(),x.TgZ(91,"div",80),x.TgZ(92,"label",81),x._uU(93),x.ALo(94,"translate"),x.qZA(),x.TgZ(95,"div",82),x.TgZ(96,"input",83),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.is_active=t}),x.qZA(),x.TgZ(97,"label",84),x._uU(98),x.ALo(99,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(100,"div",85),x.TgZ(101,"label",86),x._uU(102),x.ALo(103,"translate"),x.qZA(),x.TgZ(104,"input",87),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entity.estimated_cost=t}),x.qZA(),x.qZA(),x.TgZ(105,"div",88),x.TgZ(106,"label",89),x._uU(107),x.ALo(108,"translate"),x.YNc(109,rn,6,4,"ng-container",25),x.qZA(),x.TgZ(110,"input",90,91),x.NdJ("change",function(t){x.CHM(e);const i=x.MAs(111);return x.oxw().fileEvent1(t,i)}),x.qZA(),x.TgZ(112,"input",92),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entityUpload1.fileUpload=t}),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(113,"div",93),x.TgZ(114,"button",94),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(115),x.ALo(116,"translate"),x.qZA(),x.YNc(117,cn,5,3,"ng-container",25),x.YNc(118,dn,3,4,"button",95),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ","ADD"==e._flagModal?x.lcZ(5,54,"Add new"):x.lcZ(6,56,"Update")," ",x.lcZ(7,58,e._title)," "),x.xp6(5),x.Q6J("ngClass",e.entity.flag_block?"fa fa-lock":"fa fa-unlock-alt"),x.xp6(8),x.hij("",x.lcZ(18,60,"Profile group")," "),x.xp6(7),x.Q6J("ngModel",e.entity.profile_group_id)("disabled",!!e.entity.flag_block),x.xp6(2),x.Oqu(x.lcZ(27,62,"Please choose")),x.xp6(2),x.Q6J("ngForOf",e._catprofiles),x.xp6(3),x.hij("",x.lcZ(32,64,"Profile code")," "),x.xp6(4),x.Q6J("ngClass",e.entity.flag_block?"form-control jdisabled":"form-control")("ngModel",e.entity.code)("disabled",!!e.entity.flag_block),x.xp6(3),x.hij("",x.lcZ(39,66,"Profile name")," "),x.xp6(4),x.Q6J("ngClass",e.entity.flag_block?"form-control jdisabled":"form-control")("ngModel",e.entity.title)("disabled",!!e.entity.flag_block),x.xp6(3),x.hij("",x.lcZ(46,68,"Type of document")," "),x.xp6(7),x.Q6J("items",e._catdocuments)("multiple",!1)("closeOnSelect",!1)("searchable",!0)("bindLabel","en"==e.user.lang?"name_e":"name_l")("ngModel",e.entity.document_id)("placeholder",x.lcZ(53,70,"Please choose"))("notFoundText",x.lcZ(54,72,"Not found item"))("disabled",!!e.entity.flag_block),x.xp6(5),x.hij("",x.lcZ(58,74,"Configure handling users")," "),x.xp6(8),x.hij(" ",x.lcZ(66,76,"Processing no.")," "),x.xp6(3),x.hij(" ",x.lcZ(69,78,"Manager Unit")," - "),x.xp6(5),x.Oqu(x.lcZ(74,80,"Roles")),x.xp6(3),x.AsE(" ",x.lcZ(77,82,"Time")," (",x.lcZ(78,84,"hours"),") "),x.xp6(4),x.Oqu(x.lcZ(81,86,"Actions")),x.xp6(3),x.Q6J("ngForOf",e.entity.handle_users.data),x.xp6(1),x.Q6J("ngIf",!e.entity.flag_block),x.xp6(3),x.Oqu(x.lcZ(88,88,"Description")),x.xp6(2),x.Q6J("ngIf",!e.entity.flag_block),x.xp6(1),x.Q6J("ngIf",e.entity.flag_block),x.xp6(3),x.Oqu(x.lcZ(94,90,"Status")),x.xp6(3),x.Q6J("ngModel",e.entity.is_active)("disabled",!!e.entity.flag_block),x.xp6(2),x.Oqu(x.lcZ(99,92,e.entity.is_active?"activated":"not activated")),x.xp6(4),x.hij("",x.lcZ(103,94,"Estimated cost")," (VND)"),x.xp6(2),x.Q6J("ngClass",e.entity.flag_block?"form-control jdisabled":"form-control")("ngModel",e.entity.estimated_cost)("disabled",!!e.entity.flag_block),x.xp6(3),x.hij("",x.lcZ(108,96,"Attachment (if any)")," (.doc,.docx,.pdf) "),x.xp6(2),x.Q6J("ngIf",null!=e.entity.attached_file),x.xp6(1),x.Q6J("ngClass",e.entity.flag_block?"form-control jdisabled":"form-control")("disabled",!!e.entity.flag_block),x.xp6(2),x.Q6J("ngModel",e.entityUpload1.fileUpload),x.xp6(3),x.hij(" ",x.lcZ(116,98,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSaveSub),x.xp6(1),x.Q6J("ngIf",!e.isSaveSub&&!e.entity.flag_block)}}function gn(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",118),x._UZ(2,"img",119),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function hn(e,t){if(1&e&&(x.TgZ(0,"button",120),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function pn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",52,121),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChangeProfileGroup()}),x.TgZ(2,"div",54),x.TgZ(3,"h4",55),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.ALo(7,"translate"),x.qZA(),x.TgZ(8,"button",58),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(9,"span",59),x._uU(10,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(11,"div",122),x.TgZ(12,"div",61),x.TgZ(13,"div",88),x.TgZ(14,"div",123),x.TgZ(15,"label",124),x._uU(16),x.ALo(17,"translate"),x.TgZ(18,"span",43),x._uU(19,"(*)"),x.qZA(),x.qZA(),x.TgZ(20,"input",125),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.code=t})("keyup",function(){return x.CHM(e),x.oxw().removeBlank()}),x.ALo(21,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(22,"div",74),x.TgZ(23,"div",123),x.TgZ(24,"label",126),x._uU(25),x.ALo(26,"translate"),x.TgZ(27,"span",43),x._uU(28,"(*)"),x.qZA(),x.qZA(),x.TgZ(29,"input",127),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.name_l=t}),x.ALo(30,"translate"),x.ALo(31,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(32,"div",74),x.TgZ(33,"div",123),x.TgZ(34,"input",128),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.name_e=t}),x.ALo(35,"translate"),x.ALo(36,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(37,"div",88),x.TgZ(38,"label",129),x._uU(39),x.ALo(40,"translate"),x.qZA(),x.TgZ(41,"div",82),x.TgZ(42,"input",130),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.is_active=t}),x.qZA(),x.TgZ(43,"label",131),x._uU(44),x.ALo(45,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(46,"div",93),x.TgZ(47,"button",94),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(48),x.ALo(49,"translate"),x.qZA(),x.YNc(50,gn,5,3,"ng-container",25),x.YNc(51,hn,3,4,"button",95),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ",null==e.entitySub.id?x.lcZ(5,18,"Add new"):x.lcZ(6,20,"Update")," ",x.lcZ(7,22,"Profile group")," "),x.xp6(12),x.hij("",x.lcZ(17,24,"Profile code")," "),x.xp6(4),x.s9C("placeholder",x.lcZ(21,26,"Profile code")),x.Q6J("ngModel",e.entitySub.code),x.xp6(5),x.hij("",x.lcZ(26,28,"Group name")," "),x.xp6(4),x.hYB("placeholder","",x.lcZ(30,30,"Group name")," (",x.lcZ(31,32,"Vietnamese"),")"),x.Q6J("ngModel",e.entitySub.name_l),x.xp6(5),x.hYB("placeholder","",x.lcZ(35,34,"Group name")," (",x.lcZ(36,36,"English"),")"),x.Q6J("ngModel",e.entitySub.name_e),x.xp6(5),x.Oqu(x.lcZ(40,38,"Status")),x.xp6(3),x.Q6J("ngModel",e.entitySub.is_active),x.xp6(2),x.Oqu(x.lcZ(45,40,e.entitySub.is_active?"activated":"not activated")),x.xp6(4),x.hij(" ",x.lcZ(49,42,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSaveSub),x.xp6(1),x.Q6J("ngIf",!e.isSaveSub)}}function _n(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",118),x._UZ(2,"img",119),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function fn(e,t){if(1&e&&(x.TgZ(0,"button",120),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function Zn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",52,132),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChangeProfileGroup1()}),x.TgZ(2,"div",54),x.TgZ(3,"h4",55),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.ALo(7,"translate"),x.qZA(),x.TgZ(8,"button",58),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(9,"span",59),x._uU(10,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(11,"div",122),x.TgZ(12,"div",61),x.TgZ(13,"div",88),x.TgZ(14,"div",123),x.TgZ(15,"label",133),x._uU(16),x.ALo(17,"translate"),x.TgZ(18,"span",43),x._uU(19,"(*)"),x.qZA(),x.qZA(),x.TgZ(20,"input",134),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.code=t})("keyup",function(){return x.CHM(e),x.oxw().removeBlank()}),x.ALo(21,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(22,"div",74),x.TgZ(23,"div",123),x.TgZ(24,"label",135),x._uU(25),x.ALo(26,"translate"),x.TgZ(27,"span",43),x._uU(28,"(*)"),x.qZA(),x.qZA(),x.TgZ(29,"input",136),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.name_l=t}),x.ALo(30,"translate"),x.ALo(31,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(32,"div",74),x.TgZ(33,"div",123),x.TgZ(34,"input",137),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.name_e=t}),x.ALo(35,"translate"),x.ALo(36,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(37,"div",88),x.TgZ(38,"label",138),x._uU(39),x.ALo(40,"translate"),x.qZA(),x.TgZ(41,"div",82),x.TgZ(42,"input",139),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.is_active=t}),x.qZA(),x.TgZ(43,"label",140),x._uU(44),x.ALo(45,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(46,"div",93),x.TgZ(47,"button",94),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(48),x.ALo(49,"translate"),x.qZA(),x.YNc(50,_n,5,3,"ng-container",25),x.YNc(51,fn,3,4,"button",95),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ",null==e.entitySub.id?x.lcZ(5,18,"Add new"):x.lcZ(6,20,"Update")," ",x.lcZ(7,22,"Type of document")," "),x.xp6(12),x.hij("",x.lcZ(17,24,"Document code")," "),x.xp6(4),x.s9C("placeholder",x.lcZ(21,26,"Document code")),x.Q6J("ngModel",e.entitySub.code),x.xp6(5),x.hij("",x.lcZ(26,28,"Document name")," "),x.xp6(4),x.hYB("placeholder","",x.lcZ(30,30,"Document name")," (",x.lcZ(31,32,"Vietnamese"),")"),x.Q6J("ngModel",e.entitySub.name_l),x.xp6(5),x.hYB("placeholder","",x.lcZ(35,34,"Document name")," (",x.lcZ(36,36,"English"),")"),x.Q6J("ngModel",e.entitySub.name_e),x.xp6(5),x.Oqu(x.lcZ(40,38,"Status")),x.xp6(3),x.Q6J("ngModel",e.entitySub.is_active),x.xp6(2),x.Oqu(x.lcZ(45,40,e.entitySub.is_active?"activated":"not activated")),x.xp6(4),x.hij(" ",x.lcZ(49,42,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSaveSub),x.xp6(1),x.Q6J("ngIf",!e.isSaveSub)}}function mn(e,t){1&e&&(x.ynx(0),x.TgZ(1,"a",118),x._UZ(2,"img",119),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.BQk()),2&e&&(x.xp6(3),x.hij(" ",x.lcZ(4,1,"Processing")," "))}function An(e,t){if(1&e&&(x.TgZ(0,"button",120),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e){x.oxw();const e=x.MAs(1);x.Q6J("disabled",!e.valid),x.xp6(1),x.hij(" ",x.lcZ(2,2,"Save")," ")}}function bn(e,t){if(1&e){const e=x.EpF();x.TgZ(0,"form",52,141),x.NdJ("ngSubmit",function(){return x.CHM(e),x.oxw().saveChangeDepartment()}),x.TgZ(2,"div",54),x.TgZ(3,"h4",55),x._uU(4),x.ALo(5,"translate"),x.ALo(6,"translate"),x.qZA(),x.TgZ(7,"button",58),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x.TgZ(8,"span",59),x._uU(9,"\xd7"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(10,"div",122),x.TgZ(11,"div",61),x.TgZ(12,"div",74),x.TgZ(13,"div",123),x.TgZ(14,"label",142),x._uU(15),x.ALo(16,"translate"),x.TgZ(17,"span",43),x._uU(18,"(*)"),x.qZA(),x.qZA(),x.TgZ(19,"input",143),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.dept_name_l=t}),x.ALo(20,"translate"),x.ALo(21,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(22,"div",74),x.TgZ(23,"div",123),x.TgZ(24,"input",144),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.dept_name_e=t}),x.ALo(25,"translate"),x.ALo(26,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(27,"div",88),x.TgZ(28,"label",145),x._uU(29),x.ALo(30,"translate"),x.qZA(),x.TgZ(31,"div",82),x.TgZ(32,"input",146),x.NdJ("ngModelChange",function(t){return x.CHM(e),x.oxw().entitySub.is_active=t}),x.qZA(),x.TgZ(33,"label",147),x._uU(34),x.ALo(35,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(36,"div",93),x.TgZ(37,"button",94),x.NdJ("click",function(){return x.CHM(e).$implicit.dismiss("Cross click")}),x._uU(38),x.ALo(39,"translate"),x.qZA(),x.YNc(40,mn,5,3,"ng-container",25),x.YNc(41,An,3,4,"button",95),x.qZA(),x.qZA()}if(2&e){const e=x.oxw();x.xp6(4),x.AsE(" ",x.lcZ(5,15,"Add new")," ",x.lcZ(6,17,"Department")," "),x.xp6(11),x.hij("",x.lcZ(16,19,"Name")," "),x.xp6(4),x.hYB("placeholder","",x.lcZ(20,21,"Name")," (",x.lcZ(21,23,"Vietnamese"),")"),x.Q6J("ngModel",e.entitySub.dept_name_l),x.xp6(5),x.hYB("placeholder","",x.lcZ(25,25,"Name")," (",x.lcZ(26,27,"English"),")"),x.Q6J("ngModel",e.entitySub.dept_name_e),x.xp6(5),x.Oqu(x.lcZ(30,29,"Status")),x.xp6(3),x.Q6J("ngModel",e.entitySub.is_active),x.xp6(2),x.Oqu(x.lcZ(35,31,e.entitySub.is_active?"activated":"not activated")),x.xp6(4),x.hij(" ",x.lcZ(39,33,"Close")," "),x.xp6(2),x.Q6J("ngIf",e.isSaveSub),x.xp6(1),x.Q6J("ngIf",!e.isSaveSub)}}const yn=[{path:"",children:[{path:"requests",component:yi,data:{title:"Requests",breadcrumb:"Requests"}},{path:"type-of-profile",component:(()=>{class e{constructor(e,t,i,n,s,o,l,a,r,c){this._authenService=e,this._dataService=t,this._route=i,this._notifyService=n,this._uploadService=s,this._excelService=o,this._numberFormat=l,this.modalService=a,this._utilyService=r,this.sanitizer=c,this.pageIndex=1,this.pageSize=25,this.pageDisplay=10,this.totalRow=0,this._isLoading=!1,this._keyword="",this._requestslist=[],this.isSave=!1,this._title="",this.entity={},this._flagModal="ADD",this.jfile=null,this.entityUpload1={},this.formData=new FormData,this._catprofiles=[],this._catdocuments=[],this.entitySub={},this.isSaveSub=!1,this._departments=[],this.expandKeys=[],this._selectDept=null,this._getusers=[]}ngOnInit(){this.user=this._authenService.getLoggedInUser(),this.loadData(),this.loadCatProfileNP(),this.loadCatDocNP(),this.loadDeptNP()}loadData(){this._isLoading=!0,this._dataService.post("/cat-submission/getallMainProfile",{page:this.pageIndex,limit:this.pageSize,filter:this._keyword,short_code:this.user.short_code}).subscribe(e=>{console.log(e),this._isLoading=!1,this._requestslist=e.data,this.totalRow=e.rowCount,this.totalPage=e.totalPages},()=>this._isLoading=!1)}_pageSizeChange(e){this.pageSize=e.target.value,this.loadData()}pageChanged(e){this.pageIndex=e.page,this.loadData()}removeBlankTypeProfile(){this.entity.code=null==this.entity.code?null:this.entity.code.replace(" ","")}loadCatProfileNP(){this._dataService.post("/cat-submission/getallProfileNP",{short_code:this.user.short_code}).subscribe(e=>{this._catprofiles=e.data})}loadCatDocNP(){this._dataService.post("/cat-submission/getallDocumentsNP",{short_code:this.user.short_code}).subscribe(e=>{this._catdocuments=e.data})}_openModal(e,t){null==t?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.profile_group_id=null,this.entity.code=null,this.entity.title=null,this.entity.document_id=null,this.entity.description=null,this.entity.handle_users={data:[]},this.entity.estimated_cost=null,this.entity.attached_file=null,this.entity.is_active=!0,this.jfile=null,this._title=""):(this._flagModal="UPDATE",this.entity.handle_users={data:[]},this.loadDetailById(t.id)),this.modalService.open(e,{size:"xl",centered:!0,backdrop:!1})}loadDetailById(e){this._dataService.post("/cat-submission/detail",{id:e}).subscribe(e=>{this.entity=e.data,this._title=e.data.code;for(let i of this.entity.handle_users.data)i.flag=!0;if(this._detailContent=null==e.data.description?"":this.sanitizer.bypassSecurityTrustHtml(e.data.description),this.entity.flag_block){let e=window.CKEDITOR;if(e.instances)for(var t in e.instances)e.instances[t].destroy()}})}fileEvent1(e,t){var i=e.target.files[0];if(void 0===i||void 0===i.name)this.attached_file1=null,this.entityUpload1.fileUpload=null,this._notifyService.showError("en"==this.user.lang?A.W.recheck_file_en:A.W.recheck_file,"en"==this.user.lang?A.W.error_title_en:A.W.error_title);else{this.attached_file1=i.name;let n=this.attached_file1.split(".").pop();"doc"===n||"docx"===n||"pdf"===n?this.jfile=e.target:(this._notifyService.showError("en"==this.user.lang?A.W.format_incorrect_en:A.W.format_incorrect,"en"==this.user.lang?A.W.error_title_en:A.W.error_title),this.attached_file1=null,this.entityUpload1.fileUpload=null,t.value="")}}_processUpload1(e,t){if(null==e)this._notifyService.showError("en"==this.user.lang?A.W.recheck_file_en:A.W.recheck_file,"en"==this.user.lang?A.W.error_title_en:A.W.error_title);else{let i={folder_name:"submissions"};i.id=t.id,this._uploadService.uploadFile("/services/uploads/"+i.id+"/"+i.folder_name,e.files).subscribe(e=>{this._updateProfileById(t.id,e.data)})}}_updateProfileById(e,t){let i={};i.id=e,i.pathFile=t,this._dataService.post("/cat-submission/updateProfileById",i).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):("ADD"==this._flagModal?(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.profile_group_id=null,this.entity.code=null,this.entity.title=null,this.entity.document_id=null,this.entity.description=null,this.entity.handle_users={data:[]},this.entity.estimated_cost=null,this.entity.attached_file=null,this.entity.is_active=!0,this.jfile=null,this._title=""):this.modalService.dismissAll(),this.loadData(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}saveChange(){this.isSave=!0,console.log(this.entity),0!=this.entity.handle_users.data.length?"ADD"==this._flagModal?null==this.attached_file1?this._dataService.post("/cat-submission/add",this.entity).subscribe(e=>{this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this._flagModal="ADD",this.entity={},this.entity.id=null,this.entity.profile_group_id=null,this.entity.code=null,this.entity.title=null,this.entity.document_id=null,this.entity.description=null,this.entity.handle_users={data:[]},this.entity.estimated_cost=null,this.entity.attached_file=null,this.entity.is_active=!0,this.jfile=null,this._title="",this.loadData(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)}):this._dataService.post("/cat-submission/add",this.entity).subscribe(e=>{"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):this._processUpload1(this.jfile,e.data)},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)}):null==this.attached_file1?(console.log("No file",this.entity),this.entity.attached_file=null,this._dataService.post("/cat-submission/update",this.entity).subscribe(e=>{console.log(e),this.isSave=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.modalService.dismissAll(),this.loadData(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})):this._dataService.post("/cat-submission/update",this.entity).subscribe(e=>{"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):this._processUpload1(this.jfile,e.data)},()=>{this.isSave=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)}):this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)}deleteItem(e){y().fire({title:"en"==this.user.lang?A.W.are_you_sure_en:A.W.are_you_sure,text:e.code,icon:"warning",showCancelButton:!0,cancelButtonText:"en"==this.user.lang?A.W.cancel_en:A.W.cancel,confirmButtonText:"en"==this.user.lang?A.W.confirmtext_en:A.W.confirmtext}).then(t=>{if(t.value){let t={};t.id=e.id,this._dataService.post("/cat-submission/delete",t).subscribe(e=>{"failed"!=e.result?(this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_DELETE_EN:A.W.MSG_DELETE,"OK"),this.loadData()):this._notifyService.showError("en"==this.user.lang?A.W.MSG_DELETENO_EN:A.W.MSG_DELETENO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)},()=>{this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}})}_addItemHandle(e){if(this.loadDeptNP(),this._selectDept="all",null==e)if(0==this.entity.handle_users.data.length)this.entity.handle_users.data.push({id:1,order:1,user:null,role:null,time:1,flag:!1});else{let e=0;for(let t of this.entity.handle_users.data)null==t.user&&(t.user={title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"}),null==t.role&&(e+=1);if(0!=e)return void this._notifyService.showWarning("e"==this.user.lang?A.W.MSG_ERROR_EMPTY_EN:A.W.MSG_ERROR_EMPTY,"e"==this.user.lang?A.W.error_title_en:A.W.error_title);for(let t of this.entity.handle_users.data.filter(e=>!e.flag))t.flag=!0;0==this.entity.handle_users.data.filter(e=>!e.flag).length&&this.entity.handle_users.data.push({id:this.entity.handle_users.data.length+1,order:1,user:null,role:null,time:1,flag:!1})}}_removeItemHandle(e){let t=[],i=1;for(let n of this.entity.handle_users.data.filter(t=>t.id!=e.id))t.push({id:i,order:n.order,user:n.user,role:n.role,time:n.time,flag:n.flag}),i+=1;this.entity.handle_users.data=t}_getUser(e,t){if(null!=t&&null!=e.role)for(let i of this.entity.handle_users.data)i.id==e.id&&(i.user="all"!=t?{title:this._departments.filter(e=>e.key==t)[0].title,key:this._departments.filter(e=>e.key==t)[0].key,value:this._departments.filter(e=>e.key==t)[0].value}:{title:"en"==this.user.lang?"All departments":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",key:"all",value:"all"});else this._notifyService.showWarning("e"==this.user.lang?A.W.MSG_ERROR_EMPTY_EN:A.W.MSG_ERROR_EMPTY,"e"==this.user.lang?A.W.error_title_en:A.W.error_title)}removeBlank(){this.entitySub.code=null==this.entitySub.code?null:this.entitySub.code.replace(" ","")}_popupCategory(e,t){this.entitySub={},this.entitySub.name_l=null,this.entitySub.name_e=null,this.entitySub.is_active=!0,this.entitySub.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}saveChangeProfileGroup(){this.isSaveSub=!0,this.entitySub.code=this.entitySub.code.toUpperCase(),console.log(this.entitySub),this._dataService.post("/cat-submission/addProfile",this.entitySub).subscribe(e=>{this.isSaveSub=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entitySub={},this.entitySub.name_l=null,this.entitySub.name_e=null,this.entitySub.is_active=!0,this.loadCatProfileNP(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}_popupCategory1(e,t){this.entitySub={},this.entitySub.name_l=null,this.entitySub.name_e=null,this.entitySub.is_active=!0,this.entitySub.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}saveChangeProfileGroup1(){this.isSaveSub=!0,this.entitySub.code=this.entitySub.code.toUpperCase(),this._dataService.post("/cat-submission/addDocument",this.entitySub).subscribe(e=>{this.isSaveSub=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entitySub={},this.entitySub.name_l=null,this.entitySub.name_e=null,this.entitySub.is_active=!0,this.loadCatDocNP(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}_popupDepartment(e,t){this.entitySub={},this.entitySub.dept_name_l=null,this.entitySub.dept_name_e=null,this.entitySub.is_active=!0,this.entitySub.short_code=this.user.short_code,this.modalService.open(e,{size:"md",centered:!0})}saveChangeDepartment(){this.isSaveSub=!0,this._dataService.post("/dept/add",this.entitySub).subscribe(e=>{this.isSaveSub=!1,"failed"===e.result?this._notifyService.showError("en"==this.user.lang?A.W.MSG_ADDNO_EN:A.W.MSG_ADDNO,"en"==this.user.lang?A.W.error_title_en:A.W.error_title):(this.entitySub={},this.entitySub.dept_name_l=null,this.entitySub.dept_name_e=null,this.entitySub.is_active=!0,this.entitySub.short_code=this.user.short_code,this.loadDeptNP(),this._notifyService.showSuccess("en"==this.user.lang?A.W.MSG_ADD_EN:A.W.MSG_ADD,"OK"))},()=>{this.isSaveSub=!1,this._notifyService.showError("en"==this.user.lang?A.W.MSG_ERROR_EN:A.W.MSG_ERROR,"en"==this.user.lang?A.W.error_title_en:A.W.error_title)})}loadDeptNP(){let e={};e.short_code=this.user.short_code,this._dataService.post("/dept/getallnopaging",e).subscribe(e=>{let t=[];t.push({key:"all",title:"en"==this.user.lang?"All":"\xc1p d\u1ee5ng t\u1ea5t c\u1ea3",is_active:!1,parent_id:null,value:"all"});for(let n of e.data)t.push({key:n.id,title:"en"==this.user.lang?n.dept_name_e:n.dept_name_l,parent_id:n.parent_id,value:n.id});let i=this._utilyService.UnflattenFunc(t);this._departments=i})}_downloadFileResult(e){window.open(P.h.BASE_API+"/"+e,"blank")}removeFile(e){this._dataService.post("/cat-submission/deleteProfileFile",{id:e.id,path:e.attached_file}).subscribe(t=>{this.loadDetailById(e.id)})}}return e.\u0275fac=function(t){return new(t||e)(x.Y36(a.e),x.Y36(l.D),x.Y36(m.F0),x.Y36(v.c),x.Y36(o.C),x.Y36(s.x),x.Y36(S.p),x.Y36(T.FF),x.Y36(q.t),x.Y36(Y.H7))},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-subm-typeprofile"]],viewQuery:function(e,t){if(1&e&&x.Gf(Ji,5),2&e){let e;x.iGM(e=x.CRH())&&(t.attached_file1=e.first)}},decls:75,vars:51,consts:[[1,"container-fluid"],[1,"email-wrap"],[1,"row"],[1,"col-lg-12"],[1,"email-left-aside"],[1,"card"],[1,"card-header"],[1,"col-sm-12","col-lg-12","col-xl-8"],[1,"col-md-12","form-inline"],["type","search","name","keyword","autocomplete","off",1,"form-control","form-control-sm","mr-sm-2",3,"placeholder","ngModel","ngModelChange","change","keyup.enter"],["class","btn btn-sm btn-info mr-sm-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-secondary mr-sm-2","routerLink","/submissions/requests",4,"ngIf"],["class","fa fa-spinner fa-spin text-primary","style","font-size: 16pt",4,"ngIf"],[1,"col-sm-12","col-lg-12","col-xl-4"],[1,"form-inline",2,"float","right"],["id","select3","name","select3",1,"custom-select","form-control-sm","mr-sm-2",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"card-body"],[1,"table-responsive"],["id","hor-minimalist-line-border",2,"width","100%","margin","20px 0px 20px 0px"],[1,"text-truncate",2,"width","15px"],[1,"text-truncate"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-sm-12","col-lg-12","col-xl-12"],[1,"form-inline"],[1,"col-sm-12","col-lg-12","col-xl-6"],["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb","name","paginationss1",1,"pagination-sm",3,"boundaryLinks","totalItems","ngModel","maxSize","itemsPerPage","ngModelChange","pageChanged"],[1,"col-sm-12","col-lg-12","col-xl-6",2,"text-align","right"],[1,"btn","btn-sm"],["content",""],["categoryModal",""],["categoryModal1",""],["deptModal",""],[1,"btn","btn-sm","btn-info","mr-sm-2",3,"click"],[1,"fa","fa-plus"],["routerLink","/submissions/requests",1,"btn","btn-sm","btn-secondary","mr-sm-2"],[1,"fa","fa-clipboard"],[1,"fa","fa-spinner","fa-spin","text-primary",2,"font-size","16pt"],["colspan","8",2,"text-align","center"],[1,"text-danger"],["src","../../../../assets/img/icon-no.svg",4,"ngIf"],["src","../../../../assets/img/icon-yes.svg",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-sm-1",3,"ngbTooltip","disabled","click"],[1,"fa","fa-pencil"],[1,"btn","btn-sm","btn-danger",3,"ngbTooltip","disabled","click"],[1,"fa","fa-trash"],["src","../../../../assets/img/icon-no.svg"],["src","../../../../assets/img/icon-yes.svg"],[1,"form","theme-form",3,"ngSubmit"],["f","ngForm"],[1,"modal-header"],[1,"modal-title"],["href","javascript:;",1,"text-danger",3,"click"],[3,"ngClass"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"max-height","calc(100vh - 300px)","overflow-y","auto"],[1,"form-group","row"],[1,"col-md-3"],["for","profile_group",1,"jbold"],["href","javascript:;",1,"btn","btn-outline-info","btn-pill","btn-xs",3,"click"],["id","profile_group","name","profile_group","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","profile_code",1,"jbold"],["type","text","id","profile_code","name","profile_code","required","","autocomplete","off",3,"ngClass","ngModel","disabled","ngModelChange","keyup"],["for","profile_name",1,"jbold"],["type","text","id","profile_name","name","profile_name","required","","autocomplete","off",3,"ngClass","ngModel","disabled","ngModelChange"],["for","type_document",1,"jbold"],["name","type_document","bindValue","id","required","",3,"items","multiple","closeOnSelect","searchable","bindLabel","ngModel","placeholder","notFoundText","disabled","ngModelChange"],[1,"col-md-12"],["for","handling_users",1,"jbold"],[1,"table"],["for","desc",1,"jbold"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange",4,"ngIf"],[3,"innerHtml",4,"ngIf"],[1,"col-md-2"],["for","Status11",1,"jbold"],[1,"checkbox","checkbox-primary"],["id","Status11","type","checkbox","name","Status11",3,"ngModel","disabled","ngModelChange"],["for","Status11"],[1,"col-md-4"],["for","estimated_cost1",1,"jbold"],["id","estimated_cost1","name","estimated_cost1","type","text","placeholder","E.g: 5,000,0000","mask","separator.2","thousandSeparator",",",3,"ngClass","ngModel","disabled","ngModelChange"],[1,"col-md-6"],["for","attached_file1",1,"jbold"],["name","attached_file1","type","file","id","attached_file1",3,"ngClass","disabled","change"],["attached_file1",""],["type","hidden","name","attached_file11","accept",".pdf,.doc,.docx",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],[3,"value"],["type","number","class","form-control","required","","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["style","width: 100%","nzShowSearch","",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange",4,"ngIf"],["class","form-control","required","",3,"name","ngModel","ngModelChange","change",4,"ngIf"],["type","number","class","form-control","autocomplete","off","style","width: 70px",3,"name","ngModel","ngModelChange",4,"ngIf"],["href","javascript:;","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["type","number","required","","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["nzShowSearch","",2,"width","100%",3,"nzExpandedKeys","nzNodes","nzPlaceHolder","ngModel","ngModelChange"],["required","",1,"form-control",3,"name","ngModel","ngModelChange","change"],["value","0"],["value","1"],["value","2"],["value","3"],["type","number","autocomplete","off",1,"form-control",2,"width","70px",3,"name","ngModel","ngModelChange"],["href","javascript:;",1,"btn","btn-sm","btn-danger",3,"click"],["colspan","4",1,"text-truncate"],["href","javascript:;",1,"btn","btn-sm","btn-primary",3,"click"],["id","desc","name","desc","skin","moono-lisa","language","en",3,"ngModel","fullPage","config","ngModelChange"],["ckeEditor1",""],[3,"innerHtml"],["href","javascript:;",1,"mr-sm-2",3,"click"],["href","javascript:;","class","text-danger",3,"click",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","mr-sm-1"],["src","../../../../assets/img/loading.gif","width","15px"],["type","submit",1,"btn","btn-primary",3,"disabled"],["formPG","ngForm"],[1,"modal-body"],[1,"form-group"],["for","CodePG",1,"jbold"],["type","text","id","CodePG","name","CodePG","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name1",1,"jbold"],["type","text","id","Name1","name","Name1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name1a","name","Name1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG",1,"jbold"],["id","StatusPG","type","checkbox","name","StatusPG",3,"ngModel","ngModelChange"],["for","StatusPG"],["formPG1","ngForm"],["for","CodePG1",1,"jbold"],["type","text","id","CodePG1","name","CodePG1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup"],["for","Name11",1,"jbold"],["type","text","id","Name11","name","Name11","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Name11a","name","Name11a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusPG1",1,"jbold"],["id","StatusPG1","type","checkbox","name","StatusPG1",3,"ngModel","ngModelChange"],["for","StatusPG1"],["formDept","ngForm"],["for","Department1",1,"jbold"],["type","text","id","Department1","name","Department1","required","","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["type","text","id","Department1a","name","Department1a","autocomplete","off",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["for","StatusDept",1,"jbold"],["id","StatusDept","type","checkbox","name","StatusDept",3,"ngModel","ngModelChange"],["for","StatusDept"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.TgZ(4,"div",4),x.TgZ(5,"div",5),x.TgZ(6,"div",6),x.TgZ(7,"div",2),x.TgZ(8,"div",7),x.TgZ(9,"div",8),x.TgZ(10,"input",9),x.NdJ("ngModelChange",function(e){return t._keyword=e})("change",function(){return t.loadData()})("keyup.enter",function(){return t.loadData()}),x.ALo(11,"translate"),x.qZA(),x.YNc(12,Di,4,3,"a",10),x.YNc(13,Wi,4,3,"a",11),x.YNc(14,Li,1,0,"i",12),x.qZA(),x.qZA(),x.TgZ(15,"div",13),x.TgZ(16,"div",14),x.TgZ(17,"select",15),x.NdJ("ngModelChange",function(e){return t.pageSize=e})("change",function(e){return t._pageSizeChange(e)}),x.TgZ(18,"option",16),x._uU(19,"#10"),x.qZA(),x.TgZ(20,"option",17),x._uU(21,"#25"),x.qZA(),x.TgZ(22,"option",18),x._uU(23,"#50"),x.qZA(),x.TgZ(24,"option",19),x._uU(25,"#100"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(26,"div",20),x.TgZ(27,"div",21),x.TgZ(28,"table",22),x.TgZ(29,"thead"),x.TgZ(30,"th",23),x._uU(31,"#"),x.qZA(),x.TgZ(32,"th",24),x._uU(33),x.ALo(34,"translate"),x.qZA(),x.TgZ(35,"th",24),x._uU(36),x.ALo(37,"translate"),x.qZA(),x.TgZ(38,"th",24),x._uU(39),x.ALo(40,"translate"),x.qZA(),x.TgZ(41,"th",24),x._uU(42),x.ALo(43,"translate"),x.qZA(),x.TgZ(44,"th",24),x._uU(45),x.ALo(46,"translate"),x.qZA(),x.TgZ(47,"th",24),x._uU(48),x.ALo(49,"translate"),x.qZA(),x.TgZ(50,"th",24),x._uU(51),x.ALo(52,"translate"),x.qZA(),x.qZA(),x.TgZ(53,"tbody"),x.YNc(54,ki,6,3,"ng-container",25),x.YNc(55,Pi,25,16,"ng-container",26),x.qZA(),x.qZA(),x.qZA(),x.TgZ(56,"div",27),x.TgZ(57,"div",28),x.TgZ(58,"div",29),x.TgZ(59,"pagination",30),x.NdJ("ngModelChange",function(e){return t.pageIndex=e})("pageChanged",function(e){return t.pageChanged(e)}),x.qZA(),x.qZA(),x.TgZ(60,"div",31),x.TgZ(61,"a",32),x._uU(62),x.ALo(63,"translate"),x.ALo(64,"translate"),x.ALo(65,"translate"),x.ALo(66,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.YNc(67,un,119,100,"ng-template",null,33,x.W1O),x.YNc(69,pn,52,44,"ng-template",null,34,x.W1O),x.YNc(71,Zn,52,44,"ng-template",null,35,x.W1O),x.YNc(73,bn,42,35,"ng-template",null,36,x.W1O)),2&e&&(x.xp6(10),x.Q6J("placeholder",x.lcZ(11,27,"Search"))("ngModel",t._keyword),x.xp6(2),x.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),x.xp6(1),x.Q6J("ngIf",t._authenService.hasPermission("DEPT","read")),x.xp6(1),x.Q6J("ngIf",t._isLoading),x.xp6(3),x.Q6J("ngModel",t.pageSize),x.xp6(16),x.hij(" ",x.lcZ(34,29,"Profile group")," "),x.xp6(3),x.hij(" ",x.lcZ(37,31,"Type of document")," "),x.xp6(3),x.hij(" ",x.lcZ(40,33,"Code")," "),x.xp6(3),x.hij(" ",x.lcZ(43,35,"Title")," "),x.xp6(3),x.hij(" ",x.lcZ(46,37,"Configure handling users")," "),x.xp6(3),x.hij(" ",x.lcZ(49,39,"Status")," "),x.xp6(3),x.hij(" ",x.lcZ(52,41,"Actions")," "),x.xp6(3),x.Q6J("ngIf",0==t._requestslist.length),x.xp6(1),x.Q6J("ngForOf",t._requestslist),x.xp6(4),x.Q6J("boundaryLinks",!0)("totalItems",t.totalRow)("ngModel",t.pageIndex)("maxSize",t.pageDisplay)("itemsPerPage",t.pageSize),x.xp6(3),x.Q0o("",x.lcZ(63,43,"Total of records"),": ",t.totalRow," - ",x.lcZ(64,45,"Page")," ",t.pageIndex," ",x.lcZ(65,47,"of")," ",t.totalPage," ",x.lcZ(66,49,"page"),""))},directives:[Z.Fj,Z.JJ,Z.On,n.O5,Z.EJ,Z.YN,Z.Kr,n.sg,g.Qt,m.yS,T._L,Z._Y,Z.JL,Z.F,n.mk,Z.Q7,H.w9,Z.Wl,F.hx,Z.wV,z.zr,B.u],pipes:[M.X$],styles:[""]}),e})(),data:{title:"Type of profile",breadcrumb:"Type of profile"}},{path:"profile-group",component:I,data:{title:"Profile group",breadcrumb:"Profile group"}},{path:"type-of-document",component:Ei,data:{title:"Type of document",breadcrumb:"Type of document"}}]}];let xn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({imports:[[m.Bz.forChild(yn)],m.Bz]}),e})();var vn=i(25689),Sn=i(36845),Tn=i(16417),qn=i(45593);let Mn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({providers:[a.e,l.D,o.C,s.x,M.sK,S.p],imports:[[n.ez,xn,Z.u5,f.JX,_.m9,M.aw,p.mr,h.kn.forRoot(),g.u3.forRoot(),u.f.forRoot(),d.zk.forRoot(),Tn.xc,c.P4,r.F5,vn.kW,T.IJ,H.A0,F.yI.forRoot(),Sn.Xd,qn.s8,B.d,z.cq,$.xC]]}),e})()}}]);